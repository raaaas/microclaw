var lT=Object.defineProperty;var ey=e=>{throw TypeError(e)};var uT=(e,t,n)=>t in e?lT(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n;var P=(e,t,n)=>uT(e,typeof t!="symbol"?t+"":t,n),ty=(e,t,n)=>t.has(e)||ey("Cannot "+n);var ni=(e,t,n)=>(ty(e,t,"read from private field"),n?n.call(e):t.get(e)),ri=(e,t,n)=>t.has(e)?ey("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),si=(e,t,n,r)=>(ty(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n);function cT(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const o=Object.getOwnPropertyDescriptor(r,s);o&&Object.defineProperty(e,s,o.get?o:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const o of s)if(o.type==="childList")for(const i of o.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&r(i)}).observe(document,{childList:!0,subtree:!0});function n(s){const o={};return s.integrity&&(o.integrity=s.integrity),s.referrerPolicy&&(o.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?o.credentials="include":s.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(s){if(s.ep)return;s.ep=!0;const o=n(s);fetch(s.href,o)}})();var $l=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Do(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var mw={exports:{}},ju={},gw={exports:{}},ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ma=Symbol.for("react.element"),dT=Symbol.for("react.portal"),fT=Symbol.for("react.fragment"),hT=Symbol.for("react.strict_mode"),pT=Symbol.for("react.profiler"),mT=Symbol.for("react.provider"),gT=Symbol.for("react.context"),yT=Symbol.for("react.forward_ref"),vT=Symbol.for("react.suspense"),xT=Symbol.for("react.memo"),wT=Symbol.for("react.lazy"),ny=Symbol.iterator;function bT(e){return e===null||typeof e!="object"?null:(e=ny&&e[ny]||e["@@iterator"],typeof e=="function"?e:null)}var yw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},vw=Object.assign,xw={};function Fo(e,t,n){this.props=e,this.context=t,this.refs=xw,this.updater=n||yw}Fo.prototype.isReactComponent={};Fo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Fo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ww(){}ww.prototype=Fo.prototype;function _h(e,t,n){this.props=e,this.context=t,this.refs=xw,this.updater=n||yw}var Ch=_h.prototype=new ww;Ch.constructor=_h;vw(Ch,Fo.prototype);Ch.isPureReactComponent=!0;var ry=Array.isArray,bw=Object.prototype.hasOwnProperty,kh={current:null},Sw={key:!0,ref:!0,__self:!0,__source:!0};function _w(e,t,n){var r,s={},o=null,i=null;if(t!=null)for(r in t.ref!==void 0&&(i=t.ref),t.key!==void 0&&(o=""+t.key),t)bw.call(t,r)&&!Sw.hasOwnProperty(r)&&(s[r]=t[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:ma,type:e,key:o,ref:i,props:s,_owner:kh.current}}function ST(e,t){return{$$typeof:ma,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Eh(e){return typeof e=="object"&&e!==null&&e.$$typeof===ma}function _T(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var sy=/\/+/g;function Bc(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_T(""+e.key):t.toString(36)}function gl(e,t,n,r,s){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var i=!1;if(e===null)i=!0;else switch(o){case"string":case"number":i=!0;break;case"object":switch(e.$$typeof){case ma:case dT:i=!0}}if(i)return i=e,s=s(i),e=r===""?"."+Bc(i,0):r,ry(s)?(n="",e!=null&&(n=e.replace(sy,"$&/")+"/"),gl(s,t,n,"",function(c){return c})):s!=null&&(Eh(s)&&(s=ST(s,n+(!s.key||i&&i.key===s.key?"":(""+s.key).replace(sy,"$&/")+"/")+e)),t.push(s)),1;if(i=0,r=r===""?".":r+":",ry(e))for(var a=0;a<e.length;a++){o=e[a];var l=r+Bc(o,a);i+=gl(o,t,n,l,s)}else if(l=bT(e),typeof l=="function")for(e=l.call(e),a=0;!(o=e.next()).done;)o=o.value,l=r+Bc(o,a++),i+=gl(o,t,n,l,s);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return i}function Oa(e,t,n){if(e==null)return e;var r=[],s=0;return gl(e,r,"","",function(o){return t.call(n,o,s++)}),r}function CT(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Et={current:null},yl={transition:null},kT={ReactCurrentDispatcher:Et,ReactCurrentBatchConfig:yl,ReactCurrentOwner:kh};function Cw(){throw Error("act(...) is not supported in production builds of React.")}ue.Children={map:Oa,forEach:function(e,t,n){Oa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Oa(e,function(){t++}),t},toArray:function(e){return Oa(e,function(t){return t})||[]},only:function(e){if(!Eh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};ue.Component=Fo;ue.Fragment=fT;ue.Profiler=pT;ue.PureComponent=_h;ue.StrictMode=hT;ue.Suspense=vT;ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kT;ue.act=Cw;ue.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=vw({},e.props),s=e.key,o=e.ref,i=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,i=kh.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(l in t)bw.call(t,l)&&!Sw.hasOwnProperty(l)&&(r[l]=t[l]===void 0&&a!==void 0?a[l]:t[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:ma,type:e.type,key:s,ref:o,props:r,_owner:i}};ue.createContext=function(e){return e={$$typeof:gT,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:mT,_context:e},e.Consumer=e};ue.createElement=_w;ue.createFactory=function(e){var t=_w.bind(null,e);return t.type=e,t};ue.createRef=function(){return{current:null}};ue.forwardRef=function(e){return{$$typeof:yT,render:e}};ue.isValidElement=Eh;ue.lazy=function(e){return{$$typeof:wT,_payload:{_status:-1,_result:e},_init:CT}};ue.memo=function(e,t){return{$$typeof:xT,type:e,compare:t===void 0?null:t}};ue.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};ue.unstable_act=Cw;ue.useCallback=function(e,t){return Et.current.useCallback(e,t)};ue.useContext=function(e){return Et.current.useContext(e)};ue.useDebugValue=function(){};ue.useDeferredValue=function(e){return Et.current.useDeferredValue(e)};ue.useEffect=function(e,t){return Et.current.useEffect(e,t)};ue.useId=function(){return Et.current.useId()};ue.useImperativeHandle=function(e,t,n){return Et.current.useImperativeHandle(e,t,n)};ue.useInsertionEffect=function(e,t){return Et.current.useInsertionEffect(e,t)};ue.useLayoutEffect=function(e,t){return Et.current.useLayoutEffect(e,t)};ue.useMemo=function(e,t){return Et.current.useMemo(e,t)};ue.useReducer=function(e,t,n){return Et.current.useReducer(e,t,n)};ue.useRef=function(e){return Et.current.useRef(e)};ue.useState=function(e){return Et.current.useState(e)};ue.useSyncExternalStore=function(e,t,n){return Et.current.useSyncExternalStore(e,t,n)};ue.useTransition=function(){return Et.current.useTransition()};ue.version="18.3.1";gw.exports=ue;var f=gw.exports;const we=Do(f),Th=cT({__proto__:null,default:we},[f]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ET=f,TT=Symbol.for("react.element"),RT=Symbol.for("react.fragment"),NT=Object.prototype.hasOwnProperty,IT=ET.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PT={key:!0,ref:!0,__self:!0,__source:!0};function kw(e,t,n){var r,s={},o=null,i=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(i=t.ref);for(r in t)NT.call(t,r)&&!PT.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:TT,type:e,key:o,ref:i,props:s,_owner:IT.current}}ju.Fragment=RT;ju.jsx=kw;ju.jsxs=kw;mw.exports=ju;var u=mw.exports,Ew={exports:{}},Qt={},Tw={exports:{}},Rw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(j,B){var _=j.length;j.push(B);e:for(;0<_;){var te=_-1>>>1,ce=j[te];if(0<s(ce,B))j[te]=B,j[_]=ce,_=te;else break e}}function n(j){return j.length===0?null:j[0]}function r(j){if(j.length===0)return null;var B=j[0],_=j.pop();if(_!==B){j[0]=_;e:for(var te=0,ce=j.length,E=ce>>>1;te<E;){var Te=2*(te+1)-1,Ke=j[Te],ge=Te+1,Q=j[ge];if(0>s(Ke,_))ge<ce&&0>s(Q,Ke)?(j[te]=Q,j[ge]=_,te=ge):(j[te]=Ke,j[Te]=_,te=Te);else if(ge<ce&&0>s(Q,_))j[te]=Q,j[ge]=_,te=ge;else break e}}return B}function s(j,B){var _=j.sortIndex-B.sortIndex;return _!==0?_:j.id-B.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var i=Date,a=i.now();e.unstable_now=function(){return i.now()-a}}var l=[],c=[],d=1,h=null,p=3,m=!1,v=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(j){for(var B=n(c);B!==null;){if(B.callback===null)r(c);else if(B.startTime<=j)r(c),B.sortIndex=B.expirationTime,t(l,B);else break;B=n(c)}}function C(j){if(y=!1,w(j),!v)if(n(l)!==null)v=!0,H(R);else{var B=n(c);B!==null&&G(C,B.startTime-j)}}function R(j,B){v=!1,y&&(y=!1,g(N),N=-1),m=!0;var _=p;try{for(w(B),h=n(l);h!==null&&(!(h.expirationTime>B)||j&&!L());){var te=h.callback;if(typeof te=="function"){h.callback=null,p=h.priorityLevel;var ce=te(h.expirationTime<=B);B=e.unstable_now(),typeof ce=="function"?h.callback=ce:h===n(l)&&r(l),w(B)}else r(l);h=n(l)}if(h!==null)var E=!0;else{var Te=n(c);Te!==null&&G(C,Te.startTime-B),E=!1}return E}finally{h=null,p=_,m=!1}}var S=!1,T=null,N=-1,M=5,A=-1;function L(){return!(e.unstable_now()-A<M)}function I(){if(T!==null){var j=e.unstable_now();A=j;var B=!0;try{B=T(!0,j)}finally{B?V():(S=!1,T=null)}}else S=!1}var V;if(typeof x=="function")V=function(){x(I)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,W=$.port2;$.port1.onmessage=I,V=function(){W.postMessage(null)}}else V=function(){b(I,0)};function H(j){T=j,S||(S=!0,V())}function G(j,B){N=b(function(){j(e.unstable_now())},B)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(j){j.callback=null},e.unstable_continueExecution=function(){v||m||(v=!0,H(R))},e.unstable_forceFrameRate=function(j){0>j||125<j?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<j?Math.floor(1e3/j):5},e.unstable_getCurrentPriorityLevel=function(){return p},e.unstable_getFirstCallbackNode=function(){return n(l)},e.unstable_next=function(j){switch(p){case 1:case 2:case 3:var B=3;break;default:B=p}var _=p;p=B;try{return j()}finally{p=_}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(j,B){switch(j){case 1:case 2:case 3:case 4:case 5:break;default:j=3}var _=p;p=j;try{return B()}finally{p=_}},e.unstable_scheduleCallback=function(j,B,_){var te=e.unstable_now();switch(typeof _=="object"&&_!==null?(_=_.delay,_=typeof _=="number"&&0<_?te+_:te):_=te,j){case 1:var ce=-1;break;case 2:ce=250;break;case 5:ce=1073741823;break;case 4:ce=1e4;break;default:ce=5e3}return ce=_+ce,j={id:d++,callback:B,priorityLevel:j,startTime:_,expirationTime:ce,sortIndex:-1},_>te?(j.sortIndex=_,t(c,j),n(l)===null&&j===n(c)&&(y?(g(N),N=-1):y=!0,G(C,_-te))):(j.sortIndex=ce,t(l,j),v||m||(v=!0,H(R))),j},e.unstable_shouldYield=L,e.unstable_wrapCallback=function(j){var B=p;return function(){var _=p;p=B;try{return j.apply(this,arguments)}finally{p=_}}}})(Rw);Tw.exports=Rw;var AT=Tw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jT=f,Xt=AT;function F(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nw=new Set,Bi={};function Ms(e,t){So(e,t),So(e+"Capture",t)}function So(e,t){for(Bi[e]=t,e=0;e<t.length;e++)Nw.add(t[e])}var fr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Yd=Object.prototype.hasOwnProperty,MT=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oy={},iy={};function OT(e){return Yd.call(iy,e)?!0:Yd.call(oy,e)?!1:MT.test(e)?iy[e]=!0:(oy[e]=!0,!1)}function LT(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function DT(e,t,n,r){if(t===null||typeof t>"u"||LT(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function Tt(e,t,n,r,s,o,i){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=i}var lt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){lt[e]=new Tt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];lt[t]=new Tt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){lt[e]=new Tt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){lt[e]=new Tt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){lt[e]=new Tt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){lt[e]=new Tt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){lt[e]=new Tt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){lt[e]=new Tt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){lt[e]=new Tt(e,5,!1,e.toLowerCase(),null,!1,!1)});var Rh=/[\-:]([a-z])/g;function Nh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(Rh,Nh);lt[t]=new Tt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(Rh,Nh);lt[t]=new Tt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(Rh,Nh);lt[t]=new Tt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){lt[e]=new Tt(e,1,!1,e.toLowerCase(),null,!1,!1)});lt.xlinkHref=new Tt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){lt[e]=new Tt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Ih(e,t,n,r){var s=lt.hasOwnProperty(t)?lt[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(DT(t,n,s,r)&&(n=null),r||s===null?OT(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var wr=jT.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,La=Symbol.for("react.element"),Gs=Symbol.for("react.portal"),Ys=Symbol.for("react.fragment"),Ph=Symbol.for("react.strict_mode"),Xd=Symbol.for("react.profiler"),Iw=Symbol.for("react.provider"),Pw=Symbol.for("react.context"),Ah=Symbol.for("react.forward_ref"),Qd=Symbol.for("react.suspense"),Jd=Symbol.for("react.suspense_list"),jh=Symbol.for("react.memo"),Pr=Symbol.for("react.lazy"),Aw=Symbol.for("react.offscreen"),ay=Symbol.iterator;function oi(e){return e===null||typeof e!="object"?null:(e=ay&&e[ay]||e["@@iterator"],typeof e=="function"?e:null)}var Ue=Object.assign,$c;function yi(e){if($c===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);$c=t&&t[1]||""}return`
`+$c+e}var Uc=!1;function Hc(e,t){if(!e||Uc)return"";Uc=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),o=r.stack.split(`
`),i=s.length-1,a=o.length-1;1<=i&&0<=a&&s[i]!==o[a];)a--;for(;1<=i&&0<=a;i--,a--)if(s[i]!==o[a]){if(i!==1||a!==1)do if(i--,a--,0>a||s[i]!==o[a]){var l=`
`+s[i].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}while(1<=i&&0<=a);break}}}finally{Uc=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?yi(e):""}function FT(e){switch(e.tag){case 5:return yi(e.type);case 16:return yi("Lazy");case 13:return yi("Suspense");case 19:return yi("SuspenseList");case 0:case 2:case 15:return e=Hc(e.type,!1),e;case 11:return e=Hc(e.type.render,!1),e;case 1:return e=Hc(e.type,!0),e;default:return""}}function Zd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Ys:return"Fragment";case Gs:return"Portal";case Xd:return"Profiler";case Ph:return"StrictMode";case Qd:return"Suspense";case Jd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Pw:return(e.displayName||"Context")+".Consumer";case Iw:return(e._context.displayName||"Context")+".Provider";case Ah:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case jh:return t=e.displayName||null,t!==null?t:Zd(e.type)||"Memo";case Pr:t=e._payload,e=e._init;try{return Zd(e(t))}catch{}}return null}function zT(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Zd(t);case 8:return t===Ph?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function qr(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function jw(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function BT(e){var t=jw(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(i){r=""+i,o.call(this,i)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(i){r=""+i},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Da(e){e._valueTracker||(e._valueTracker=BT(e))}function Mw(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=jw(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Ul(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function ef(e,t){var n=t.checked;return Ue({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function ly(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=qr(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ow(e,t){t=t.checked,t!=null&&Ih(e,"checked",t,!1)}function tf(e,t){Ow(e,t);var n=qr(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?nf(e,t.type,n):t.hasOwnProperty("defaultValue")&&nf(e,t.type,qr(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function uy(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function nf(e,t,n){(t!=="number"||Ul(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var vi=Array.isArray;function co(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+qr(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function rf(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(F(91));return Ue({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function cy(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(F(92));if(vi(n)){if(1<n.length)throw Error(F(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:qr(n)}}function Lw(e,t){var n=qr(t.value),r=qr(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function dy(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Dw(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function sf(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Dw(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Fa,Fw=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Fa=Fa||document.createElement("div"),Fa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Fa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function $i(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Si={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$T=["Webkit","ms","Moz","O"];Object.keys(Si).forEach(function(e){$T.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Si[t]=Si[e]})});function zw(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Si.hasOwnProperty(e)&&Si[e]?(""+t).trim():t+"px"}function Bw(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=zw(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var UT=Ue({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function of(e,t){if(t){if(UT[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(F(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(F(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(F(61))}if(t.style!=null&&typeof t.style!="object")throw Error(F(62))}}function af(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var lf=null;function Mh(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var uf=null,fo=null,ho=null;function fy(e){if(e=va(e)){if(typeof uf!="function")throw Error(F(280));var t=e.stateNode;t&&(t=Fu(t),uf(e.stateNode,e.type,t))}}function $w(e){fo?ho?ho.push(e):ho=[e]:fo=e}function Uw(){if(fo){var e=fo,t=ho;if(ho=fo=null,fy(e),t)for(e=0;e<t.length;e++)fy(t[e])}}function Hw(e,t){return e(t)}function Vw(){}var Vc=!1;function Ww(e,t,n){if(Vc)return e(t,n);Vc=!0;try{return Hw(e,t,n)}finally{Vc=!1,(fo!==null||ho!==null)&&(Vw(),Uw())}}function Ui(e,t){var n=e.stateNode;if(n===null)return null;var r=Fu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(F(231,t,typeof n));return n}var cf=!1;if(fr)try{var ii={};Object.defineProperty(ii,"passive",{get:function(){cf=!0}}),window.addEventListener("test",ii,ii),window.removeEventListener("test",ii,ii)}catch{cf=!1}function HT(e,t,n,r,s,o,i,a,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(d){this.onError(d)}}var _i=!1,Hl=null,Vl=!1,df=null,VT={onError:function(e){_i=!0,Hl=e}};function WT(e,t,n,r,s,o,i,a,l){_i=!1,Hl=null,HT.apply(VT,arguments)}function KT(e,t,n,r,s,o,i,a,l){if(WT.apply(this,arguments),_i){if(_i){var c=Hl;_i=!1,Hl=null}else throw Error(F(198));Vl||(Vl=!0,df=c)}}function Os(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Kw(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function hy(e){if(Os(e)!==e)throw Error(F(188))}function qT(e){var t=e.alternate;if(!t){if(t=Os(e),t===null)throw Error(F(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var o=s.alternate;if(o===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===o.child){for(o=s.child;o;){if(o===n)return hy(s),e;if(o===r)return hy(s),t;o=o.sibling}throw Error(F(188))}if(n.return!==r.return)n=s,r=o;else{for(var i=!1,a=s.child;a;){if(a===n){i=!0,n=s,r=o;break}if(a===r){i=!0,r=s,n=o;break}a=a.sibling}if(!i){for(a=o.child;a;){if(a===n){i=!0,n=o,r=s;break}if(a===r){i=!0,r=o,n=s;break}a=a.sibling}if(!i)throw Error(F(189))}}if(n.alternate!==r)throw Error(F(190))}if(n.tag!==3)throw Error(F(188));return n.stateNode.current===n?e:t}function qw(e){return e=qT(e),e!==null?Gw(e):null}function Gw(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Gw(e);if(t!==null)return t;e=e.sibling}return null}var Yw=Xt.unstable_scheduleCallback,py=Xt.unstable_cancelCallback,GT=Xt.unstable_shouldYield,YT=Xt.unstable_requestPaint,qe=Xt.unstable_now,XT=Xt.unstable_getCurrentPriorityLevel,Oh=Xt.unstable_ImmediatePriority,Xw=Xt.unstable_UserBlockingPriority,Wl=Xt.unstable_NormalPriority,QT=Xt.unstable_LowPriority,Qw=Xt.unstable_IdlePriority,Mu=null,Kn=null;function JT(e){if(Kn&&typeof Kn.onCommitFiberRoot=="function")try{Kn.onCommitFiberRoot(Mu,e,void 0,(e.current.flags&128)===128)}catch{}}var wn=Math.clz32?Math.clz32:tR,ZT=Math.log,eR=Math.LN2;function tR(e){return e>>>=0,e===0?32:31-(ZT(e)/eR|0)|0}var za=64,Ba=4194304;function xi(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Kl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,o=e.pingedLanes,i=n&268435455;if(i!==0){var a=i&~s;a!==0?r=xi(a):(o&=i,o!==0&&(r=xi(o)))}else i=n&~s,i!==0?r=xi(i):o!==0&&(r=xi(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,o=t&-t,s>=o||s===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-wn(t),s=1<<n,r|=e[n],t&=~s;return r}function nR(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function rR(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,o=e.pendingLanes;0<o;){var i=31-wn(o),a=1<<i,l=s[i];l===-1?(!(a&n)||a&r)&&(s[i]=nR(a,t)):l<=t&&(e.expiredLanes|=a),o&=~a}}function ff(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Jw(){var e=za;return za<<=1,!(za&4194240)&&(za=64),e}function Wc(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ga(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-wn(t),e[t]=n}function sR(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-wn(n),o=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~o}}function Lh(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-wn(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var Ne=0;function Zw(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var eb,Dh,tb,nb,rb,hf=!1,$a=[],zr=null,Br=null,$r=null,Hi=new Map,Vi=new Map,Mr=[],oR="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function my(e,t){switch(e){case"focusin":case"focusout":zr=null;break;case"dragenter":case"dragleave":Br=null;break;case"mouseover":case"mouseout":$r=null;break;case"pointerover":case"pointerout":Hi.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vi.delete(t.pointerId)}}function ai(e,t,n,r,s,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[s]},t!==null&&(t=va(t),t!==null&&Dh(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function iR(e,t,n,r,s){switch(t){case"focusin":return zr=ai(zr,e,t,n,r,s),!0;case"dragenter":return Br=ai(Br,e,t,n,r,s),!0;case"mouseover":return $r=ai($r,e,t,n,r,s),!0;case"pointerover":var o=s.pointerId;return Hi.set(o,ai(Hi.get(o)||null,e,t,n,r,s)),!0;case"gotpointercapture":return o=s.pointerId,Vi.set(o,ai(Vi.get(o)||null,e,t,n,r,s)),!0}return!1}function sb(e){var t=gs(e.target);if(t!==null){var n=Os(t);if(n!==null){if(t=n.tag,t===13){if(t=Kw(n),t!==null){e.blockedOn=t,rb(e.priority,function(){tb(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function vl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=pf(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);lf=r,n.target.dispatchEvent(r),lf=null}else return t=va(n),t!==null&&Dh(t),e.blockedOn=n,!1;t.shift()}return!0}function gy(e,t,n){vl(e)&&n.delete(t)}function aR(){hf=!1,zr!==null&&vl(zr)&&(zr=null),Br!==null&&vl(Br)&&(Br=null),$r!==null&&vl($r)&&($r=null),Hi.forEach(gy),Vi.forEach(gy)}function li(e,t){e.blockedOn===t&&(e.blockedOn=null,hf||(hf=!0,Xt.unstable_scheduleCallback(Xt.unstable_NormalPriority,aR)))}function Wi(e){function t(s){return li(s,e)}if(0<$a.length){li($a[0],e);for(var n=1;n<$a.length;n++){var r=$a[n];r.blockedOn===e&&(r.blockedOn=null)}}for(zr!==null&&li(zr,e),Br!==null&&li(Br,e),$r!==null&&li($r,e),Hi.forEach(t),Vi.forEach(t),n=0;n<Mr.length;n++)r=Mr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Mr.length&&(n=Mr[0],n.blockedOn===null);)sb(n),n.blockedOn===null&&Mr.shift()}var po=wr.ReactCurrentBatchConfig,ql=!0;function lR(e,t,n,r){var s=Ne,o=po.transition;po.transition=null;try{Ne=1,Fh(e,t,n,r)}finally{Ne=s,po.transition=o}}function uR(e,t,n,r){var s=Ne,o=po.transition;po.transition=null;try{Ne=4,Fh(e,t,n,r)}finally{Ne=s,po.transition=o}}function Fh(e,t,n,r){if(ql){var s=pf(e,t,n,r);if(s===null)td(e,t,r,Gl,n),my(e,r);else if(iR(s,e,t,n,r))r.stopPropagation();else if(my(e,r),t&4&&-1<oR.indexOf(e)){for(;s!==null;){var o=va(s);if(o!==null&&eb(o),o=pf(e,t,n,r),o===null&&td(e,t,r,Gl,n),o===s)break;s=o}s!==null&&r.stopPropagation()}else td(e,t,r,null,n)}}var Gl=null;function pf(e,t,n,r){if(Gl=null,e=Mh(r),e=gs(e),e!==null)if(t=Os(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Kw(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Gl=e,null}function ob(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XT()){case Oh:return 1;case Xw:return 4;case Wl:case QT:return 16;case Qw:return 536870912;default:return 16}default:return 16}}var Lr=null,zh=null,xl=null;function ib(){if(xl)return xl;var e,t=zh,n=t.length,r,s="value"in Lr?Lr.value:Lr.textContent,o=s.length;for(e=0;e<n&&t[e]===s[e];e++);var i=n-e;for(r=1;r<=i&&t[n-r]===s[o-r];r++);return xl=s.slice(e,1<r?1-r:void 0)}function wl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ua(){return!0}function yy(){return!1}function Jt(e){function t(n,r,s,o,i){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=o,this.target=i,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(o):o[a]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ua:yy,this.isPropagationStopped=yy,this}return Ue(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ua)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ua)},persist:function(){},isPersistent:Ua}),t}var zo={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bh=Jt(zo),ya=Ue({},zo,{view:0,detail:0}),cR=Jt(ya),Kc,qc,ui,Ou=Ue({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$h,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ui&&(ui&&e.type==="mousemove"?(Kc=e.screenX-ui.screenX,qc=e.screenY-ui.screenY):qc=Kc=0,ui=e),Kc)},movementY:function(e){return"movementY"in e?e.movementY:qc}}),vy=Jt(Ou),dR=Ue({},Ou,{dataTransfer:0}),fR=Jt(dR),hR=Ue({},ya,{relatedTarget:0}),Gc=Jt(hR),pR=Ue({},zo,{animationName:0,elapsedTime:0,pseudoElement:0}),mR=Jt(pR),gR=Ue({},zo,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),yR=Jt(gR),vR=Ue({},zo,{data:0}),xy=Jt(vR),xR={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wR={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bR={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SR(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=bR[e])?!!t[e]:!1}function $h(){return SR}var _R=Ue({},ya,{key:function(e){if(e.key){var t=xR[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=wl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?wR[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$h,charCode:function(e){return e.type==="keypress"?wl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?wl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),CR=Jt(_R),kR=Ue({},Ou,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wy=Jt(kR),ER=Ue({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$h}),TR=Jt(ER),RR=Ue({},zo,{propertyName:0,elapsedTime:0,pseudoElement:0}),NR=Jt(RR),IR=Ue({},Ou,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PR=Jt(IR),AR=[9,13,27,32],Uh=fr&&"CompositionEvent"in window,Ci=null;fr&&"documentMode"in document&&(Ci=document.documentMode);var jR=fr&&"TextEvent"in window&&!Ci,ab=fr&&(!Uh||Ci&&8<Ci&&11>=Ci),by=" ",Sy=!1;function lb(e,t){switch(e){case"keyup":return AR.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ub(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Xs=!1;function MR(e,t){switch(e){case"compositionend":return ub(t);case"keypress":return t.which!==32?null:(Sy=!0,by);case"textInput":return e=t.data,e===by&&Sy?null:e;default:return null}}function OR(e,t){if(Xs)return e==="compositionend"||!Uh&&lb(e,t)?(e=ib(),xl=zh=Lr=null,Xs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ab&&t.locale!=="ko"?null:t.data;default:return null}}var LR={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _y(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!LR[e.type]:t==="textarea"}function cb(e,t,n,r){$w(r),t=Yl(t,"onChange"),0<t.length&&(n=new Bh("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ki=null,Ki=null;function DR(e){bb(e,0)}function Lu(e){var t=Zs(e);if(Mw(t))return e}function FR(e,t){if(e==="change")return t}var db=!1;if(fr){var Yc;if(fr){var Xc="oninput"in document;if(!Xc){var Cy=document.createElement("div");Cy.setAttribute("oninput","return;"),Xc=typeof Cy.oninput=="function"}Yc=Xc}else Yc=!1;db=Yc&&(!document.documentMode||9<document.documentMode)}function ky(){ki&&(ki.detachEvent("onpropertychange",fb),Ki=ki=null)}function fb(e){if(e.propertyName==="value"&&Lu(Ki)){var t=[];cb(t,Ki,e,Mh(e)),Ww(DR,t)}}function zR(e,t,n){e==="focusin"?(ky(),ki=t,Ki=n,ki.attachEvent("onpropertychange",fb)):e==="focusout"&&ky()}function BR(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Lu(Ki)}function $R(e,t){if(e==="click")return Lu(t)}function UR(e,t){if(e==="input"||e==="change")return Lu(t)}function HR(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Cn=typeof Object.is=="function"?Object.is:HR;function qi(e,t){if(Cn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Yd.call(t,s)||!Cn(e[s],t[s]))return!1}return!0}function Ey(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Ty(e,t){var n=Ey(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Ey(n)}}function hb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?hb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function pb(){for(var e=window,t=Ul();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Ul(e.document)}return t}function Hh(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VR(e){var t=pb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hb(n.ownerDocument.documentElement,n)){if(r!==null&&Hh(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,o=Math.min(r.start,s);r=r.end===void 0?o:Math.min(r.end,s),!e.extend&&o>r&&(s=r,r=o,o=s),s=Ty(n,o);var i=Ty(n,r);s&&i&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==i.node||e.focusOffset!==i.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(i.node,i.offset)):(t.setEnd(i.node,i.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var WR=fr&&"documentMode"in document&&11>=document.documentMode,Qs=null,mf=null,Ei=null,gf=!1;function Ry(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;gf||Qs==null||Qs!==Ul(r)||(r=Qs,"selectionStart"in r&&Hh(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Ei&&qi(Ei,r)||(Ei=r,r=Yl(mf,"onSelect"),0<r.length&&(t=new Bh("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Qs)))}function Ha(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Js={animationend:Ha("Animation","AnimationEnd"),animationiteration:Ha("Animation","AnimationIteration"),animationstart:Ha("Animation","AnimationStart"),transitionend:Ha("Transition","TransitionEnd")},Qc={},mb={};fr&&(mb=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Du(e){if(Qc[e])return Qc[e];if(!Js[e])return e;var t=Js[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in mb)return Qc[e]=t[n];return e}var gb=Du("animationend"),yb=Du("animationiteration"),vb=Du("animationstart"),xb=Du("transitionend"),wb=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Qr(e,t){wb.set(e,t),Ms(t,[e])}for(var Jc=0;Jc<Ny.length;Jc++){var Zc=Ny[Jc],KR=Zc.toLowerCase(),qR=Zc[0].toUpperCase()+Zc.slice(1);Qr(KR,"on"+qR)}Qr(gb,"onAnimationEnd");Qr(yb,"onAnimationIteration");Qr(vb,"onAnimationStart");Qr("dblclick","onDoubleClick");Qr("focusin","onFocus");Qr("focusout","onBlur");Qr(xb,"onTransitionEnd");So("onMouseEnter",["mouseout","mouseover"]);So("onMouseLeave",["mouseout","mouseover"]);So("onPointerEnter",["pointerout","pointerover"]);So("onPointerLeave",["pointerout","pointerover"]);Ms("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ms("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ms("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ms("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ms("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wi="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GR=new Set("cancel close invalid load scroll toggle".split(" ").concat(wi));function Iy(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,KT(r,t,void 0,e),e.currentTarget=null}function bb(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var i=r.length-1;0<=i;i--){var a=r[i],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==o&&s.isPropagationStopped())break e;Iy(s,a,c),o=l}else for(i=0;i<r.length;i++){if(a=r[i],l=a.instance,c=a.currentTarget,a=a.listener,l!==o&&s.isPropagationStopped())break e;Iy(s,a,c),o=l}}}if(Vl)throw e=df,Vl=!1,df=null,e}function Le(e,t){var n=t[bf];n===void 0&&(n=t[bf]=new Set);var r=e+"__bubble";n.has(r)||(Sb(t,e,2,!1),n.add(r))}function ed(e,t,n){var r=0;t&&(r|=4),Sb(n,e,r,t)}var Va="_reactListening"+Math.random().toString(36).slice(2);function Gi(e){if(!e[Va]){e[Va]=!0,Nw.forEach(function(n){n!=="selectionchange"&&(GR.has(n)||ed(n,!1,e),ed(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Va]||(t[Va]=!0,ed("selectionchange",!1,t))}}function Sb(e,t,n,r){switch(ob(t)){case 1:var s=lR;break;case 4:s=uR;break;default:s=Fh}n=s.bind(null,t,n,e),s=void 0,!cf||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function td(e,t,n,r,s){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var i=r.tag;if(i===3||i===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(i===4)for(i=r.return;i!==null;){var l=i.tag;if((l===3||l===4)&&(l=i.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;i=i.return}for(;a!==null;){if(i=gs(a),i===null)return;if(l=i.tag,l===5||l===6){r=o=i;continue e}a=a.parentNode}}r=r.return}Ww(function(){var c=o,d=Mh(n),h=[];e:{var p=wb.get(e);if(p!==void 0){var m=Bh,v=e;switch(e){case"keypress":if(wl(n)===0)break e;case"keydown":case"keyup":m=CR;break;case"focusin":v="focus",m=Gc;break;case"focusout":v="blur",m=Gc;break;case"beforeblur":case"afterblur":m=Gc;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=vy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=fR;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=TR;break;case gb:case yb:case vb:m=mR;break;case xb:m=NR;break;case"scroll":m=cR;break;case"wheel":m=PR;break;case"copy":case"cut":case"paste":m=yR;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=wy}var y=(t&4)!==0,b=!y&&e==="scroll",g=y?p!==null?p+"Capture":null:p;y=[];for(var x=c,w;x!==null;){w=x;var C=w.stateNode;if(w.tag===5&&C!==null&&(w=C,g!==null&&(C=Ui(x,g),C!=null&&y.push(Yi(x,C,w)))),b)break;x=x.return}0<y.length&&(p=new m(p,v,null,n,d),h.push({event:p,listeners:y}))}}if(!(t&7)){e:{if(p=e==="mouseover"||e==="pointerover",m=e==="mouseout"||e==="pointerout",p&&n!==lf&&(v=n.relatedTarget||n.fromElement)&&(gs(v)||v[hr]))break e;if((m||p)&&(p=d.window===d?d:(p=d.ownerDocument)?p.defaultView||p.parentWindow:window,m?(v=n.relatedTarget||n.toElement,m=c,v=v?gs(v):null,v!==null&&(b=Os(v),v!==b||v.tag!==5&&v.tag!==6)&&(v=null)):(m=null,v=c),m!==v)){if(y=vy,C="onMouseLeave",g="onMouseEnter",x="mouse",(e==="pointerout"||e==="pointerover")&&(y=wy,C="onPointerLeave",g="onPointerEnter",x="pointer"),b=m==null?p:Zs(m),w=v==null?p:Zs(v),p=new y(C,x+"leave",m,n,d),p.target=b,p.relatedTarget=w,C=null,gs(d)===c&&(y=new y(g,x+"enter",v,n,d),y.target=w,y.relatedTarget=b,C=y),b=C,m&&v)t:{for(y=m,g=v,x=0,w=y;w;w=$s(w))x++;for(w=0,C=g;C;C=$s(C))w++;for(;0<x-w;)y=$s(y),x--;for(;0<w-x;)g=$s(g),w--;for(;x--;){if(y===g||g!==null&&y===g.alternate)break t;y=$s(y),g=$s(g)}y=null}else y=null;m!==null&&Py(h,p,m,y,!1),v!==null&&b!==null&&Py(h,b,v,y,!0)}}e:{if(p=c?Zs(c):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var R=FR;else if(_y(p))if(db)R=UR;else{R=BR;var S=zR}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(R=$R);if(R&&(R=R(e,c))){cb(h,R,n,d);break e}S&&S(e,p,c),e==="focusout"&&(S=p._wrapperState)&&S.controlled&&p.type==="number"&&nf(p,"number",p.value)}switch(S=c?Zs(c):window,e){case"focusin":(_y(S)||S.contentEditable==="true")&&(Qs=S,mf=c,Ei=null);break;case"focusout":Ei=mf=Qs=null;break;case"mousedown":gf=!0;break;case"contextmenu":case"mouseup":case"dragend":gf=!1,Ry(h,n,d);break;case"selectionchange":if(WR)break;case"keydown":case"keyup":Ry(h,n,d)}var T;if(Uh)e:{switch(e){case"compositionstart":var N="onCompositionStart";break e;case"compositionend":N="onCompositionEnd";break e;case"compositionupdate":N="onCompositionUpdate";break e}N=void 0}else Xs?lb(e,n)&&(N="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(N="onCompositionStart");N&&(ab&&n.locale!=="ko"&&(Xs||N!=="onCompositionStart"?N==="onCompositionEnd"&&Xs&&(T=ib()):(Lr=d,zh="value"in Lr?Lr.value:Lr.textContent,Xs=!0)),S=Yl(c,N),0<S.length&&(N=new xy(N,e,null,n,d),h.push({event:N,listeners:S}),T?N.data=T:(T=ub(n),T!==null&&(N.data=T)))),(T=jR?MR(e,n):OR(e,n))&&(c=Yl(c,"onBeforeInput"),0<c.length&&(d=new xy("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=T))}bb(h,t)})}function Yi(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Yl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,o=s.stateNode;s.tag===5&&o!==null&&(s=o,o=Ui(e,n),o!=null&&r.unshift(Yi(e,o,s)),o=Ui(e,t),o!=null&&r.push(Yi(e,o,s))),e=e.return}return r}function $s(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Py(e,t,n,r,s){for(var o=t._reactName,i=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Ui(n,o),l!=null&&i.unshift(Yi(n,l,a))):s||(l=Ui(n,o),l!=null&&i.push(Yi(n,l,a)))),n=n.return}i.length!==0&&e.push({event:t,listeners:i})}var YR=/\r\n?/g,XR=/\u0000|\uFFFD/g;function Ay(e){return(typeof e=="string"?e:""+e).replace(YR,`
`).replace(XR,"")}function Wa(e,t,n){if(t=Ay(t),Ay(e)!==t&&n)throw Error(F(425))}function Xl(){}var yf=null,vf=null;function xf(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var wf=typeof setTimeout=="function"?setTimeout:void 0,QR=typeof clearTimeout=="function"?clearTimeout:void 0,jy=typeof Promise=="function"?Promise:void 0,JR=typeof queueMicrotask=="function"?queueMicrotask:typeof jy<"u"?function(e){return jy.resolve(null).then(e).catch(ZR)}:wf;function ZR(e){setTimeout(function(){throw e})}function nd(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Wi(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Wi(t)}function Ur(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function My(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Bo=Math.random().toString(36).slice(2),$n="__reactFiber$"+Bo,Xi="__reactProps$"+Bo,hr="__reactContainer$"+Bo,bf="__reactEvents$"+Bo,eN="__reactListeners$"+Bo,tN="__reactHandles$"+Bo;function gs(e){var t=e[$n];if(t)return t;for(var n=e.parentNode;n;){if(t=n[hr]||n[$n]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=My(e);e!==null;){if(n=e[$n])return n;e=My(e)}return t}e=n,n=e.parentNode}return null}function va(e){return e=e[$n]||e[hr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Zs(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(F(33))}function Fu(e){return e[Xi]||null}var Sf=[],eo=-1;function Jr(e){return{current:e}}function De(e){0>eo||(e.current=Sf[eo],Sf[eo]=null,eo--)}function je(e,t){eo++,Sf[eo]=e.current,e.current=t}var Gr={},gt=Jr(Gr),Mt=Jr(!1),_s=Gr;function _o(e,t){var n=e.type.contextTypes;if(!n)return Gr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},o;for(o in n)s[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Ot(e){return e=e.childContextTypes,e!=null}function Ql(){De(Mt),De(gt)}function Oy(e,t,n){if(gt.current!==Gr)throw Error(F(168));je(gt,t),je(Mt,n)}function _b(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(F(108,zT(e)||"Unknown",s));return Ue({},n,r)}function Jl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Gr,_s=gt.current,je(gt,e),je(Mt,Mt.current),!0}function Ly(e,t,n){var r=e.stateNode;if(!r)throw Error(F(169));n?(e=_b(e,t,_s),r.__reactInternalMemoizedMergedChildContext=e,De(Mt),De(gt),je(gt,e)):De(Mt),je(Mt,n)}var or=null,zu=!1,rd=!1;function Cb(e){or===null?or=[e]:or.push(e)}function nN(e){zu=!0,Cb(e)}function Zr(){if(!rd&&or!==null){rd=!0;var e=0,t=Ne;try{var n=or;for(Ne=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}or=null,zu=!1}catch(s){throw or!==null&&(or=or.slice(e+1)),Yw(Oh,Zr),s}finally{Ne=t,rd=!1}}return null}var to=[],no=0,Zl=null,eu=0,rn=[],sn=0,Cs=null,lr=1,ur="";function ds(e,t){to[no++]=eu,to[no++]=Zl,Zl=e,eu=t}function kb(e,t,n){rn[sn++]=lr,rn[sn++]=ur,rn[sn++]=Cs,Cs=e;var r=lr;e=ur;var s=32-wn(r)-1;r&=~(1<<s),n+=1;var o=32-wn(t)+s;if(30<o){var i=s-s%5;o=(r&(1<<i)-1).toString(32),r>>=i,s-=i,lr=1<<32-wn(t)+s|n<<s|r,ur=o+e}else lr=1<<o|n<<s|r,ur=e}function Vh(e){e.return!==null&&(ds(e,1),kb(e,1,0))}function Wh(e){for(;e===Zl;)Zl=to[--no],to[no]=null,eu=to[--no],to[no]=null;for(;e===Cs;)Cs=rn[--sn],rn[sn]=null,ur=rn[--sn],rn[sn]=null,lr=rn[--sn],rn[sn]=null}var Gt=null,Kt=null,Fe=!1,vn=null;function Eb(e,t){var n=an(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Dy(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Gt=e,Kt=Ur(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Gt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Cs!==null?{id:lr,overflow:ur}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=an(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Gt=e,Kt=null,!0):!1;default:return!1}}function _f(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Cf(e){if(Fe){var t=Kt;if(t){var n=t;if(!Dy(e,t)){if(_f(e))throw Error(F(418));t=Ur(n.nextSibling);var r=Gt;t&&Dy(e,t)?Eb(r,n):(e.flags=e.flags&-4097|2,Fe=!1,Gt=e)}}else{if(_f(e))throw Error(F(418));e.flags=e.flags&-4097|2,Fe=!1,Gt=e}}}function Fy(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Gt=e}function Ka(e){if(e!==Gt)return!1;if(!Fe)return Fy(e),Fe=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!xf(e.type,e.memoizedProps)),t&&(t=Kt)){if(_f(e))throw Tb(),Error(F(418));for(;t;)Eb(e,t),t=Ur(t.nextSibling)}if(Fy(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(F(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=Ur(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=Gt?Ur(e.stateNode.nextSibling):null;return!0}function Tb(){for(var e=Kt;e;)e=Ur(e.nextSibling)}function Co(){Kt=Gt=null,Fe=!1}function Kh(e){vn===null?vn=[e]:vn.push(e)}var rN=wr.ReactCurrentBatchConfig;function ci(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(F(309));var r=n.stateNode}if(!r)throw Error(F(147,e));var s=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(i){var a=s.refs;i===null?delete a[o]:a[o]=i},t._stringRef=o,t)}if(typeof e!="string")throw Error(F(284));if(!n._owner)throw Error(F(290,e))}return e}function qa(e,t){throw e=Object.prototype.toString.call(t),Error(F(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function zy(e){var t=e._init;return t(e._payload)}function Rb(e){function t(g,x){if(e){var w=g.deletions;w===null?(g.deletions=[x],g.flags|=16):w.push(x)}}function n(g,x){if(!e)return null;for(;x!==null;)t(g,x),x=x.sibling;return null}function r(g,x){for(g=new Map;x!==null;)x.key!==null?g.set(x.key,x):g.set(x.index,x),x=x.sibling;return g}function s(g,x){return g=Kr(g,x),g.index=0,g.sibling=null,g}function o(g,x,w){return g.index=w,e?(w=g.alternate,w!==null?(w=w.index,w<x?(g.flags|=2,x):w):(g.flags|=2,x)):(g.flags|=1048576,x)}function i(g){return e&&g.alternate===null&&(g.flags|=2),g}function a(g,x,w,C){return x===null||x.tag!==6?(x=cd(w,g.mode,C),x.return=g,x):(x=s(x,w),x.return=g,x)}function l(g,x,w,C){var R=w.type;return R===Ys?d(g,x,w.props.children,C,w.key):x!==null&&(x.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Pr&&zy(R)===x.type)?(C=s(x,w.props),C.ref=ci(g,x,w),C.return=g,C):(C=Tl(w.type,w.key,w.props,null,g.mode,C),C.ref=ci(g,x,w),C.return=g,C)}function c(g,x,w,C){return x===null||x.tag!==4||x.stateNode.containerInfo!==w.containerInfo||x.stateNode.implementation!==w.implementation?(x=dd(w,g.mode,C),x.return=g,x):(x=s(x,w.children||[]),x.return=g,x)}function d(g,x,w,C,R){return x===null||x.tag!==7?(x=bs(w,g.mode,C,R),x.return=g,x):(x=s(x,w),x.return=g,x)}function h(g,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return x=cd(""+x,g.mode,w),x.return=g,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case La:return w=Tl(x.type,x.key,x.props,null,g.mode,w),w.ref=ci(g,null,x),w.return=g,w;case Gs:return x=dd(x,g.mode,w),x.return=g,x;case Pr:var C=x._init;return h(g,C(x._payload),w)}if(vi(x)||oi(x))return x=bs(x,g.mode,w,null),x.return=g,x;qa(g,x)}return null}function p(g,x,w,C){var R=x!==null?x.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return R!==null?null:a(g,x,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case La:return w.key===R?l(g,x,w,C):null;case Gs:return w.key===R?c(g,x,w,C):null;case Pr:return R=w._init,p(g,x,R(w._payload),C)}if(vi(w)||oi(w))return R!==null?null:d(g,x,w,C,null);qa(g,w)}return null}function m(g,x,w,C,R){if(typeof C=="string"&&C!==""||typeof C=="number")return g=g.get(w)||null,a(x,g,""+C,R);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case La:return g=g.get(C.key===null?w:C.key)||null,l(x,g,C,R);case Gs:return g=g.get(C.key===null?w:C.key)||null,c(x,g,C,R);case Pr:var S=C._init;return m(g,x,w,S(C._payload),R)}if(vi(C)||oi(C))return g=g.get(w)||null,d(x,g,C,R,null);qa(x,C)}return null}function v(g,x,w,C){for(var R=null,S=null,T=x,N=x=0,M=null;T!==null&&N<w.length;N++){T.index>N?(M=T,T=null):M=T.sibling;var A=p(g,T,w[N],C);if(A===null){T===null&&(T=M);break}e&&T&&A.alternate===null&&t(g,T),x=o(A,x,N),S===null?R=A:S.sibling=A,S=A,T=M}if(N===w.length)return n(g,T),Fe&&ds(g,N),R;if(T===null){for(;N<w.length;N++)T=h(g,w[N],C),T!==null&&(x=o(T,x,N),S===null?R=T:S.sibling=T,S=T);return Fe&&ds(g,N),R}for(T=r(g,T);N<w.length;N++)M=m(T,g,N,w[N],C),M!==null&&(e&&M.alternate!==null&&T.delete(M.key===null?N:M.key),x=o(M,x,N),S===null?R=M:S.sibling=M,S=M);return e&&T.forEach(function(L){return t(g,L)}),Fe&&ds(g,N),R}function y(g,x,w,C){var R=oi(w);if(typeof R!="function")throw Error(F(150));if(w=R.call(w),w==null)throw Error(F(151));for(var S=R=null,T=x,N=x=0,M=null,A=w.next();T!==null&&!A.done;N++,A=w.next()){T.index>N?(M=T,T=null):M=T.sibling;var L=p(g,T,A.value,C);if(L===null){T===null&&(T=M);break}e&&T&&L.alternate===null&&t(g,T),x=o(L,x,N),S===null?R=L:S.sibling=L,S=L,T=M}if(A.done)return n(g,T),Fe&&ds(g,N),R;if(T===null){for(;!A.done;N++,A=w.next())A=h(g,A.value,C),A!==null&&(x=o(A,x,N),S===null?R=A:S.sibling=A,S=A);return Fe&&ds(g,N),R}for(T=r(g,T);!A.done;N++,A=w.next())A=m(T,g,N,A.value,C),A!==null&&(e&&A.alternate!==null&&T.delete(A.key===null?N:A.key),x=o(A,x,N),S===null?R=A:S.sibling=A,S=A);return e&&T.forEach(function(I){return t(g,I)}),Fe&&ds(g,N),R}function b(g,x,w,C){if(typeof w=="object"&&w!==null&&w.type===Ys&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case La:e:{for(var R=w.key,S=x;S!==null;){if(S.key===R){if(R=w.type,R===Ys){if(S.tag===7){n(g,S.sibling),x=s(S,w.props.children),x.return=g,g=x;break e}}else if(S.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===Pr&&zy(R)===S.type){n(g,S.sibling),x=s(S,w.props),x.ref=ci(g,S,w),x.return=g,g=x;break e}n(g,S);break}else t(g,S);S=S.sibling}w.type===Ys?(x=bs(w.props.children,g.mode,C,w.key),x.return=g,g=x):(C=Tl(w.type,w.key,w.props,null,g.mode,C),C.ref=ci(g,x,w),C.return=g,g=C)}return i(g);case Gs:e:{for(S=w.key;x!==null;){if(x.key===S)if(x.tag===4&&x.stateNode.containerInfo===w.containerInfo&&x.stateNode.implementation===w.implementation){n(g,x.sibling),x=s(x,w.children||[]),x.return=g,g=x;break e}else{n(g,x);break}else t(g,x);x=x.sibling}x=dd(w,g.mode,C),x.return=g,g=x}return i(g);case Pr:return S=w._init,b(g,x,S(w._payload),C)}if(vi(w))return v(g,x,w,C);if(oi(w))return y(g,x,w,C);qa(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,x!==null&&x.tag===6?(n(g,x.sibling),x=s(x,w),x.return=g,g=x):(n(g,x),x=cd(w,g.mode,C),x.return=g,g=x),i(g)):n(g,x)}return b}var ko=Rb(!0),Nb=Rb(!1),tu=Jr(null),nu=null,ro=null,qh=null;function Gh(){qh=ro=nu=null}function Yh(e){var t=tu.current;De(tu),e._currentValue=t}function kf(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function mo(e,t){nu=e,qh=ro=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(jt=!0),e.firstContext=null)}function un(e){var t=e._currentValue;if(qh!==e)if(e={context:e,memoizedValue:t,next:null},ro===null){if(nu===null)throw Error(F(308));ro=e,nu.dependencies={lanes:0,firstContext:e}}else ro=ro.next=e;return t}var ys=null;function Xh(e){ys===null?ys=[e]:ys.push(e)}function Ib(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Xh(t)):(n.next=s.next,s.next=n),t.interleaved=n,pr(e,r)}function pr(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ar=!1;function Qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Pb(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function cr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hr(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,be&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,pr(e,n)}return s=r.interleaved,s===null?(t.next=t,Xh(r)):(t.next=s.next,s.next=t),r.interleaved=t,pr(e,n)}function bl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lh(e,n)}}function By(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var i={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?s=o=i:o=o.next=i,n=n.next}while(n!==null);o===null?s=o=t:o=o.next=t}else s=o=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function ru(e,t,n,r){var s=e.updateQueue;Ar=!1;var o=s.firstBaseUpdate,i=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,i===null?o=c:i.next=c,i=l;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==i&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(o!==null){var h=s.baseState;i=0,d=c=l=null,a=o;do{var p=a.lane,m=a.eventTime;if((r&p)===p){d!==null&&(d=d.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=e,y=a;switch(p=t,m=n,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(m,h,p);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,p=typeof v=="function"?v.call(m,h,p):v,p==null)break e;h=Ue({},h,p);break e;case 2:Ar=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=m,l=h):d=d.next=m,i|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,t=s.shared.interleaved,t!==null){s=t;do i|=s.lane,s=s.next;while(s!==t)}else o===null&&(s.shared.lanes=0);Es|=i,e.lanes=i,e.memoizedState=h}}function $y(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(F(191,s));s.call(r)}}}var xa={},qn=Jr(xa),Qi=Jr(xa),Ji=Jr(xa);function vs(e){if(e===xa)throw Error(F(174));return e}function Jh(e,t){switch(je(Ji,t),je(Qi,e),je(qn,xa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:sf(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=sf(t,e)}De(qn),je(qn,t)}function Eo(){De(qn),De(Qi),De(Ji)}function Ab(e){vs(Ji.current);var t=vs(qn.current),n=sf(t,e.type);t!==n&&(je(Qi,e),je(qn,n))}function Zh(e){Qi.current===e&&(De(qn),De(Qi))}var Be=Jr(0);function su(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var sd=[];function ep(){for(var e=0;e<sd.length;e++)sd[e]._workInProgressVersionPrimary=null;sd.length=0}var Sl=wr.ReactCurrentDispatcher,od=wr.ReactCurrentBatchConfig,ks=0,$e=null,Ze=null,rt=null,ou=!1,Ti=!1,Zi=0,sN=0;function ft(){throw Error(F(321))}function tp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Cn(e[n],t[n]))return!1;return!0}function np(e,t,n,r,s,o){if(ks=o,$e=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Sl.current=e===null||e.memoizedState===null?lN:uN,e=n(r,s),Ti){o=0;do{if(Ti=!1,Zi=0,25<=o)throw Error(F(301));o+=1,rt=Ze=null,t.updateQueue=null,Sl.current=cN,e=n(r,s)}while(Ti)}if(Sl.current=iu,t=Ze!==null&&Ze.next!==null,ks=0,rt=Ze=$e=null,ou=!1,t)throw Error(F(300));return e}function rp(){var e=Zi!==0;return Zi=0,e}function zn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return rt===null?$e.memoizedState=rt=e:rt=rt.next=e,rt}function cn(){if(Ze===null){var e=$e.alternate;e=e!==null?e.memoizedState:null}else e=Ze.next;var t=rt===null?$e.memoizedState:rt.next;if(t!==null)rt=t,Ze=e;else{if(e===null)throw Error(F(310));Ze=e,e={memoizedState:Ze.memoizedState,baseState:Ze.baseState,baseQueue:Ze.baseQueue,queue:Ze.queue,next:null},rt===null?$e.memoizedState=rt=e:rt=rt.next=e}return rt}function ea(e,t){return typeof t=="function"?t(e):t}function id(e){var t=cn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=Ze,s=r.baseQueue,o=n.pending;if(o!==null){if(s!==null){var i=s.next;s.next=o.next,o.next=i}r.baseQueue=s=o,n.pending=null}if(s!==null){o=s.next,r=r.baseState;var a=i=null,l=null,c=o;do{var d=c.lane;if((ks&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,i=r):l=l.next=h,$e.lanes|=d,Es|=d}c=c.next}while(c!==null&&c!==o);l===null?i=r:l.next=a,Cn(r,t.memoizedState)||(jt=!0),t.memoizedState=r,t.baseState=i,t.baseQueue=l,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do o=s.lane,$e.lanes|=o,Es|=o,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function ad(e){var t=cn(),n=t.queue;if(n===null)throw Error(F(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,o=t.memoizedState;if(s!==null){n.pending=null;var i=s=s.next;do o=e(o,i.action),i=i.next;while(i!==s);Cn(o,t.memoizedState)||(jt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function jb(){}function Mb(e,t){var n=$e,r=cn(),s=t(),o=!Cn(r.memoizedState,s);if(o&&(r.memoizedState=s,jt=!0),r=r.queue,sp(Db.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||rt!==null&&rt.memoizedState.tag&1){if(n.flags|=2048,ta(9,Lb.bind(null,n,r,s,t),void 0,null),st===null)throw Error(F(349));ks&30||Ob(n,t,s)}return s}function Ob(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Lb(e,t,n,r){t.value=n,t.getSnapshot=r,Fb(t)&&zb(e)}function Db(e,t,n){return n(function(){Fb(t)&&zb(e)})}function Fb(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Cn(e,n)}catch{return!0}}function zb(e){var t=pr(e,1);t!==null&&bn(t,e,1,-1)}function Uy(e){var t=zn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ea,lastRenderedState:e},t.queue=e,e=e.dispatch=aN.bind(null,$e,e),[t.memoizedState,e]}function ta(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=$e.updateQueue,t===null?(t={lastEffect:null,stores:null},$e.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Bb(){return cn().memoizedState}function _l(e,t,n,r){var s=zn();$e.flags|=e,s.memoizedState=ta(1|t,n,void 0,r===void 0?null:r)}function Bu(e,t,n,r){var s=cn();r=r===void 0?null:r;var o=void 0;if(Ze!==null){var i=Ze.memoizedState;if(o=i.destroy,r!==null&&tp(r,i.deps)){s.memoizedState=ta(t,n,o,r);return}}$e.flags|=e,s.memoizedState=ta(1|t,n,o,r)}function Hy(e,t){return _l(8390656,8,e,t)}function sp(e,t){return Bu(2048,8,e,t)}function $b(e,t){return Bu(4,2,e,t)}function Ub(e,t){return Bu(4,4,e,t)}function Hb(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vb(e,t,n){return n=n!=null?n.concat([e]):null,Bu(4,4,Hb.bind(null,t,e),n)}function op(){}function Wb(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Kb(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&tp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function qb(e,t,n){return ks&21?(Cn(n,t)||(n=Jw(),$e.lanes|=n,Es|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,jt=!0),e.memoizedState=n)}function oN(e,t){var n=Ne;Ne=n!==0&&4>n?n:4,e(!0);var r=od.transition;od.transition={};try{e(!1),t()}finally{Ne=n,od.transition=r}}function Gb(){return cn().memoizedState}function iN(e,t,n){var r=Wr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yb(e))Xb(t,n);else if(n=Ib(e,t,n,r),n!==null){var s=kt();bn(n,e,r,s),Qb(n,t,r)}}function aN(e,t,n){var r=Wr(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yb(e))Xb(t,s);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var i=t.lastRenderedState,a=o(i,n);if(s.hasEagerState=!0,s.eagerState=a,Cn(a,i)){var l=t.interleaved;l===null?(s.next=s,Xh(t)):(s.next=l.next,l.next=s),t.interleaved=s;return}}catch{}finally{}n=Ib(e,t,s,r),n!==null&&(s=kt(),bn(n,e,r,s),Qb(n,t,r))}}function Yb(e){var t=e.alternate;return e===$e||t!==null&&t===$e}function Xb(e,t){Ti=ou=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Qb(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Lh(e,n)}}var iu={readContext:un,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},lN={readContext:un,useCallback:function(e,t){return zn().memoizedState=[e,t===void 0?null:t],e},useContext:un,useEffect:Hy,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,_l(4194308,4,Hb.bind(null,t,e),n)},useLayoutEffect:function(e,t){return _l(4194308,4,e,t)},useInsertionEffect:function(e,t){return _l(4,2,e,t)},useMemo:function(e,t){var n=zn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=zn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=iN.bind(null,$e,e),[r.memoizedState,e]},useRef:function(e){var t=zn();return e={current:e},t.memoizedState=e},useState:Uy,useDebugValue:op,useDeferredValue:function(e){return zn().memoizedState=e},useTransition:function(){var e=Uy(!1),t=e[0];return e=oN.bind(null,e[1]),zn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=$e,s=zn();if(Fe){if(n===void 0)throw Error(F(407));n=n()}else{if(n=t(),st===null)throw Error(F(349));ks&30||Ob(r,t,n)}s.memoizedState=n;var o={value:n,getSnapshot:t};return s.queue=o,Hy(Db.bind(null,r,o,e),[e]),r.flags|=2048,ta(9,Lb.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=zn(),t=st.identifierPrefix;if(Fe){var n=ur,r=lr;n=(r&~(1<<32-wn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Zi++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=sN++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},uN={readContext:un,useCallback:Wb,useContext:un,useEffect:sp,useImperativeHandle:Vb,useInsertionEffect:$b,useLayoutEffect:Ub,useMemo:Kb,useReducer:id,useRef:Bb,useState:function(){return id(ea)},useDebugValue:op,useDeferredValue:function(e){var t=cn();return qb(t,Ze.memoizedState,e)},useTransition:function(){var e=id(ea)[0],t=cn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Mb,useId:Gb,unstable_isNewReconciler:!1},cN={readContext:un,useCallback:Wb,useContext:un,useEffect:sp,useImperativeHandle:Vb,useInsertionEffect:$b,useLayoutEffect:Ub,useMemo:Kb,useReducer:ad,useRef:Bb,useState:function(){return ad(ea)},useDebugValue:op,useDeferredValue:function(e){var t=cn();return Ze===null?t.memoizedState=e:qb(t,Ze.memoizedState,e)},useTransition:function(){var e=ad(ea)[0],t=cn().memoizedState;return[e,t]},useMutableSource:jb,useSyncExternalStore:Mb,useId:Gb,unstable_isNewReconciler:!1};function gn(e,t){if(e&&e.defaultProps){t=Ue({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Ef(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ue({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $u={isMounted:function(e){return(e=e._reactInternals)?Os(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=kt(),s=Wr(e),o=cr(r,s);o.payload=t,n!=null&&(o.callback=n),t=Hr(e,o,s),t!==null&&(bn(t,e,s,r),bl(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=kt(),s=Wr(e),o=cr(r,s);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=Hr(e,o,s),t!==null&&(bn(t,e,s,r),bl(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=kt(),r=Wr(e),s=cr(n,r);s.tag=2,t!=null&&(s.callback=t),t=Hr(e,s,r),t!==null&&(bn(t,e,r,n),bl(t,e,r))}};function Vy(e,t,n,r,s,o,i){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,i):t.prototype&&t.prototype.isPureReactComponent?!qi(n,r)||!qi(s,o):!0}function Jb(e,t,n){var r=!1,s=Gr,o=t.contextType;return typeof o=="object"&&o!==null?o=un(o):(s=Ot(t)?_s:gt.current,r=t.contextTypes,o=(r=r!=null)?_o(e,s):Gr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$u,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=o),t}function Wy(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$u.enqueueReplaceState(t,t.state,null)}function Tf(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Qh(e);var o=t.contextType;typeof o=="object"&&o!==null?s.context=un(o):(o=Ot(t)?_s:gt.current,s.context=_o(e,o)),s.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(Ef(e,t,o,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&$u.enqueueReplaceState(s,s.state,null),ru(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function To(e,t){try{var n="",r=t;do n+=FT(r),r=r.return;while(r);var s=n}catch(o){s=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:s,digest:null}}function ld(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Rf(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var dN=typeof WeakMap=="function"?WeakMap:Map;function Zb(e,t,n){n=cr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){lu||(lu=!0,Ff=r),Rf(e,t)},n}function eS(e,t,n){n=cr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){Rf(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){Rf(e,t),typeof r!="function"&&(Vr===null?Vr=new Set([this]):Vr.add(this));var i=t.stack;this.componentDidCatch(t.value,{componentStack:i!==null?i:""})}),n}function Ky(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new dN;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=kN.bind(null,e,t,n),t.then(e,e))}function qy(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Gy(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=cr(-1,1),t.tag=2,Hr(n,t,1))),n.lanes|=1),e)}var fN=wr.ReactCurrentOwner,jt=!1;function Ct(e,t,n,r){t.child=e===null?Nb(t,null,n,r):ko(t,e.child,n,r)}function Yy(e,t,n,r,s){n=n.render;var o=t.ref;return mo(t,s),r=np(e,t,n,r,o,s),n=rp(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mr(e,t,s)):(Fe&&n&&Vh(t),t.flags|=1,Ct(e,t,r,s),t.child)}function Xy(e,t,n,r,s){if(e===null){var o=n.type;return typeof o=="function"&&!hp(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,tS(e,t,o,r,s)):(e=Tl(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&s)){var i=o.memoizedProps;if(n=n.compare,n=n!==null?n:qi,n(i,r)&&e.ref===t.ref)return mr(e,t,s)}return t.flags|=1,e=Kr(o,r),e.ref=t.ref,e.return=t,t.child=e}function tS(e,t,n,r,s){if(e!==null){var o=e.memoizedProps;if(qi(o,r)&&e.ref===t.ref)if(jt=!1,t.pendingProps=r=o,(e.lanes&s)!==0)e.flags&131072&&(jt=!0);else return t.lanes=e.lanes,mr(e,t,s)}return Nf(e,t,n,r,s)}function nS(e,t,n){var r=t.pendingProps,s=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},je(oo,Ut),Ut|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,je(oo,Ut),Ut|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,je(oo,Ut),Ut|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,je(oo,Ut),Ut|=r;return Ct(e,t,s,n),t.child}function rS(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Nf(e,t,n,r,s){var o=Ot(n)?_s:gt.current;return o=_o(t,o),mo(t,s),n=np(e,t,n,r,o,s),r=rp(),e!==null&&!jt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,mr(e,t,s)):(Fe&&r&&Vh(t),t.flags|=1,Ct(e,t,n,s),t.child)}function Qy(e,t,n,r,s){if(Ot(n)){var o=!0;Jl(t)}else o=!1;if(mo(t,s),t.stateNode===null)Cl(e,t),Jb(t,n,r),Tf(t,n,r,s),r=!0;else if(e===null){var i=t.stateNode,a=t.memoizedProps;i.props=a;var l=i.context,c=n.contextType;typeof c=="object"&&c!==null?c=un(c):(c=Ot(n)?_s:gt.current,c=_o(t,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof i.getSnapshotBeforeUpdate=="function";h||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Wy(t,i,r,c),Ar=!1;var p=t.memoizedState;i.state=p,ru(t,r,i,s),l=t.memoizedState,a!==r||p!==l||Mt.current||Ar?(typeof d=="function"&&(Ef(t,n,d,r),l=t.memoizedState),(a=Ar||Vy(t,n,a,r,p,l,c))?(h||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount()),typeof i.componentDidMount=="function"&&(t.flags|=4194308)):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),i.props=r,i.state=l,i.context=c,r=a):(typeof i.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{i=t.stateNode,Pb(e,t),a=t.memoizedProps,c=t.type===t.elementType?a:gn(t.type,a),i.props=c,h=t.pendingProps,p=i.context,l=n.contextType,typeof l=="object"&&l!==null?l=un(l):(l=Ot(n)?_s:gt.current,l=_o(t,l));var m=n.getDerivedStateFromProps;(d=typeof m=="function"||typeof i.getSnapshotBeforeUpdate=="function")||typeof i.UNSAFE_componentWillReceiveProps!="function"&&typeof i.componentWillReceiveProps!="function"||(a!==h||p!==l)&&Wy(t,i,r,l),Ar=!1,p=t.memoizedState,i.state=p,ru(t,r,i,s);var v=t.memoizedState;a!==h||p!==v||Mt.current||Ar?(typeof m=="function"&&(Ef(t,n,m,r),v=t.memoizedState),(c=Ar||Vy(t,n,c,r,p,v,l)||!1)?(d||typeof i.UNSAFE_componentWillUpdate!="function"&&typeof i.componentWillUpdate!="function"||(typeof i.componentWillUpdate=="function"&&i.componentWillUpdate(r,v,l),typeof i.UNSAFE_componentWillUpdate=="function"&&i.UNSAFE_componentWillUpdate(r,v,l)),typeof i.componentDidUpdate=="function"&&(t.flags|=4),typeof i.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=v),i.props=r,i.state=v,i.context=l,r=c):(typeof i.componentDidUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=4),typeof i.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&p===e.memoizedState||(t.flags|=1024),r=!1)}return If(e,t,n,r,o,s)}function If(e,t,n,r,s,o){rS(e,t);var i=(t.flags&128)!==0;if(!r&&!i)return s&&Ly(t,n,!1),mr(e,t,o);r=t.stateNode,fN.current=t;var a=i&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&i?(t.child=ko(t,e.child,null,o),t.child=ko(t,null,a,o)):Ct(e,t,a,o),t.memoizedState=r.state,s&&Ly(t,n,!0),t.child}function sS(e){var t=e.stateNode;t.pendingContext?Oy(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Oy(e,t.context,!1),Jh(e,t.containerInfo)}function Jy(e,t,n,r,s){return Co(),Kh(s),t.flags|=256,Ct(e,t,n,r),t.child}var Pf={dehydrated:null,treeContext:null,retryLane:0};function Af(e){return{baseLanes:e,cachePool:null,transitions:null}}function oS(e,t,n){var r=t.pendingProps,s=Be.current,o=!1,i=(t.flags&128)!==0,a;if((a=i)||(a=e!==null&&e.memoizedState===null?!1:(s&2)!==0),a?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),je(Be,s&1),e===null)return Cf(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(i=r.children,e=r.fallback,o?(r=t.mode,o=t.child,i={mode:"hidden",children:i},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=i):o=Vu(i,r,0,null),e=bs(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Af(n),t.memoizedState=Pf,e):ip(t,i));if(s=e.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return hN(e,t,i,r,a,s,n);if(o){o=r.fallback,i=t.mode,s=e.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(i&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=l,t.deletions=null):(r=Kr(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?o=Kr(a,o):(o=bs(o,i,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,i=e.child.memoizedState,i=i===null?Af(n):{baseLanes:i.baseLanes|n,cachePool:null,transitions:i.transitions},o.memoizedState=i,o.childLanes=e.childLanes&~n,t.memoizedState=Pf,r}return o=e.child,e=o.sibling,r=Kr(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function ip(e,t){return t=Vu({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Ga(e,t,n,r){return r!==null&&Kh(r),ko(t,e.child,null,n),e=ip(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hN(e,t,n,r,s,o,i){if(n)return t.flags&256?(t.flags&=-257,r=ld(Error(F(422))),Ga(e,t,i,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,s=t.mode,r=Vu({mode:"visible",children:r.children},s,0,null),o=bs(o,s,i,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&ko(t,e.child,null,i),t.child.memoizedState=Af(i),t.memoizedState=Pf,o);if(!(t.mode&1))return Ga(e,t,i,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,o=Error(F(419)),r=ld(o,r,void 0),Ga(e,t,i,r)}if(a=(i&e.childLanes)!==0,jt||a){if(r=st,r!==null){switch(i&-i){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|i)?0:s,s!==0&&s!==o.retryLane&&(o.retryLane=s,pr(e,s),bn(r,e,s,-1))}return fp(),r=ld(Error(F(421))),Ga(e,t,i,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=EN.bind(null,e),s._reactRetry=t,null):(e=o.treeContext,Kt=Ur(s.nextSibling),Gt=t,Fe=!0,vn=null,e!==null&&(rn[sn++]=lr,rn[sn++]=ur,rn[sn++]=Cs,lr=e.id,ur=e.overflow,Cs=t),t=ip(t,r.children),t.flags|=4096,t)}function Zy(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),kf(e.return,t,n)}function ud(e,t,n,r,s){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=s)}function iS(e,t,n){var r=t.pendingProps,s=r.revealOrder,o=r.tail;if(Ct(e,t,r.children,n),r=Be.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Zy(e,n,t);else if(e.tag===19)Zy(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(je(Be,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&su(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),ud(t,!1,s,n,o);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&su(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}ud(t,!0,n,null,o);break;case"together":ud(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Cl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function mr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Es|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(F(153));if(t.child!==null){for(e=t.child,n=Kr(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Kr(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function pN(e,t,n){switch(t.tag){case 3:sS(t),Co();break;case 5:Ab(t);break;case 1:Ot(t.type)&&Jl(t);break;case 4:Jh(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;je(tu,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(je(Be,Be.current&1),t.flags|=128,null):n&t.child.childLanes?oS(e,t,n):(je(Be,Be.current&1),e=mr(e,t,n),e!==null?e.sibling:null);je(Be,Be.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return iS(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),je(Be,Be.current),r)break;return null;case 22:case 23:return t.lanes=0,nS(e,t,n)}return mr(e,t,n)}var aS,jf,lS,uS;aS=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};jf=function(){};lS=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,vs(qn.current);var o=null;switch(n){case"input":s=ef(e,s),r=ef(e,r),o=[];break;case"select":s=Ue({},s,{value:void 0}),r=Ue({},r,{value:void 0}),o=[];break;case"textarea":s=rf(e,s),r=rf(e,r),o=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Xl)}of(n,r);var i;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(i in a)a.hasOwnProperty(i)&&(n||(n={}),n[i]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Bi.hasOwnProperty(c)?o||(o=[]):(o=o||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(i in a)!a.hasOwnProperty(i)||l&&l.hasOwnProperty(i)||(n||(n={}),n[i]="");for(i in l)l.hasOwnProperty(i)&&a[i]!==l[i]&&(n||(n={}),n[i]=l[i])}else n||(o||(o=[]),o.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(o=o||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(o=o||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Bi.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Le("scroll",e),o||a===l||(o=[])):(o=o||[]).push(c,l))}n&&(o=o||[]).push("style",n);var c=o;(t.updateQueue=c)&&(t.flags|=4)}};uS=function(e,t,n,r){n!==r&&(t.flags|=4)};function di(e,t){if(!Fe)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function ht(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function mN(e,t,n){var r=t.pendingProps;switch(Wh(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ht(t),null;case 1:return Ot(t.type)&&Ql(),ht(t),null;case 3:return r=t.stateNode,Eo(),De(Mt),De(gt),ep(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ka(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&($f(vn),vn=null))),jf(e,t),ht(t),null;case 5:Zh(t);var s=vs(Ji.current);if(n=t.type,e!==null&&t.stateNode!=null)lS(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(F(166));return ht(t),null}if(e=vs(qn.current),Ka(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[$n]=t,r[Xi]=o,e=(t.mode&1)!==0,n){case"dialog":Le("cancel",r),Le("close",r);break;case"iframe":case"object":case"embed":Le("load",r);break;case"video":case"audio":for(s=0;s<wi.length;s++)Le(wi[s],r);break;case"source":Le("error",r);break;case"img":case"image":case"link":Le("error",r),Le("load",r);break;case"details":Le("toggle",r);break;case"input":ly(r,o),Le("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Le("invalid",r);break;case"textarea":cy(r,o),Le("invalid",r)}of(n,o),s=null;for(var i in o)if(o.hasOwnProperty(i)){var a=o[i];i==="children"?typeof a=="string"?r.textContent!==a&&(o.suppressHydrationWarning!==!0&&Wa(r.textContent,a,e),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(o.suppressHydrationWarning!==!0&&Wa(r.textContent,a,e),s=["children",""+a]):Bi.hasOwnProperty(i)&&a!=null&&i==="onScroll"&&Le("scroll",r)}switch(n){case"input":Da(r),uy(r,o,!0);break;case"textarea":Da(r),dy(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Xl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{i=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Dw(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=i.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=i.createElement(n,{is:r.is}):(e=i.createElement(n),n==="select"&&(i=e,r.multiple?i.multiple=!0:r.size&&(i.size=r.size))):e=i.createElementNS(e,n),e[$n]=t,e[Xi]=r,aS(e,t,!1,!1),t.stateNode=e;e:{switch(i=af(n,r),n){case"dialog":Le("cancel",e),Le("close",e),s=r;break;case"iframe":case"object":case"embed":Le("load",e),s=r;break;case"video":case"audio":for(s=0;s<wi.length;s++)Le(wi[s],e);s=r;break;case"source":Le("error",e),s=r;break;case"img":case"image":case"link":Le("error",e),Le("load",e),s=r;break;case"details":Le("toggle",e),s=r;break;case"input":ly(e,r),s=ef(e,r),Le("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=Ue({},r,{value:void 0}),Le("invalid",e);break;case"textarea":cy(e,r),s=rf(e,r),Le("invalid",e);break;default:s=r}of(n,s),a=s;for(o in a)if(a.hasOwnProperty(o)){var l=a[o];o==="style"?Bw(e,l):o==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Fw(e,l)):o==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&$i(e,l):typeof l=="number"&&$i(e,""+l):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Bi.hasOwnProperty(o)?l!=null&&o==="onScroll"&&Le("scroll",e):l!=null&&Ih(e,o,l,i))}switch(n){case"input":Da(e),uy(e,r,!1);break;case"textarea":Da(e),dy(e);break;case"option":r.value!=null&&e.setAttribute("value",""+qr(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?co(e,!!r.multiple,o,!1):r.defaultValue!=null&&co(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=Xl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return ht(t),null;case 6:if(e&&t.stateNode!=null)uS(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(F(166));if(n=vs(Ji.current),vs(qn.current),Ka(t)){if(r=t.stateNode,n=t.memoizedProps,r[$n]=t,(o=r.nodeValue!==n)&&(e=Gt,e!==null))switch(e.tag){case 3:Wa(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Wa(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[$n]=t,t.stateNode=r}return ht(t),null;case 13:if(De(Be),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Fe&&Kt!==null&&t.mode&1&&!(t.flags&128))Tb(),Co(),t.flags|=98560,o=!1;else if(o=Ka(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(F(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(F(317));o[$n]=t}else Co(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;ht(t),o=!1}else vn!==null&&($f(vn),vn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Be.current&1?et===0&&(et=3):fp())),t.updateQueue!==null&&(t.flags|=4),ht(t),null);case 4:return Eo(),jf(e,t),e===null&&Gi(t.stateNode.containerInfo),ht(t),null;case 10:return Yh(t.type._context),ht(t),null;case 17:return Ot(t.type)&&Ql(),ht(t),null;case 19:if(De(Be),o=t.memoizedState,o===null)return ht(t),null;if(r=(t.flags&128)!==0,i=o.rendering,i===null)if(r)di(o,!1);else{if(et!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(i=su(e),i!==null){for(t.flags|=128,di(o,!1),r=i.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,i=o.alternate,i===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=i.childLanes,o.lanes=i.lanes,o.child=i.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=i.memoizedProps,o.memoizedState=i.memoizedState,o.updateQueue=i.updateQueue,o.type=i.type,e=i.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return je(Be,Be.current&1|2),t.child}e=e.sibling}o.tail!==null&&qe()>Ro&&(t.flags|=128,r=!0,di(o,!1),t.lanes=4194304)}else{if(!r)if(e=su(i),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),di(o,!0),o.tail===null&&o.tailMode==="hidden"&&!i.alternate&&!Fe)return ht(t),null}else 2*qe()-o.renderingStartTime>Ro&&n!==1073741824&&(t.flags|=128,r=!0,di(o,!1),t.lanes=4194304);o.isBackwards?(i.sibling=t.child,t.child=i):(n=o.last,n!==null?n.sibling=i:t.child=i,o.last=i)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=qe(),t.sibling=null,n=Be.current,je(Be,r?n&1|2:n&1),t):(ht(t),null);case 22:case 23:return dp(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Ut&1073741824&&(ht(t),t.subtreeFlags&6&&(t.flags|=8192)):ht(t),null;case 24:return null;case 25:return null}throw Error(F(156,t.tag))}function gN(e,t){switch(Wh(t),t.tag){case 1:return Ot(t.type)&&Ql(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Eo(),De(Mt),De(gt),ep(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Zh(t),null;case 13:if(De(Be),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(F(340));Co()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return De(Be),null;case 4:return Eo(),null;case 10:return Yh(t.type._context),null;case 22:case 23:return dp(),null;case 24:return null;default:return null}}var Ya=!1,mt=!1,yN=typeof WeakSet=="function"?WeakSet:Set,K=null;function so(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ve(e,t,r)}else n.current=null}function Mf(e,t,n){try{n()}catch(r){Ve(e,t,r)}}var ev=!1;function vN(e,t){if(yf=ql,e=pb(),Hh(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var i=0,a=-1,l=-1,c=0,d=0,h=e,p=null;t:for(;;){for(var m;h!==n||s!==0&&h.nodeType!==3||(a=i+s),h!==o||r!==0&&h.nodeType!==3||(l=i+r),h.nodeType===3&&(i+=h.nodeValue.length),(m=h.firstChild)!==null;)p=h,h=m;for(;;){if(h===e)break t;if(p===n&&++c===s&&(a=i),p===o&&++d===r&&(l=i),(m=h.nextSibling)!==null)break;h=p,p=h.parentNode}h=m}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(vf={focusedElem:e,selectionRange:n},ql=!1,K=t;K!==null;)if(t=K,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,K=e;else for(;K!==null;){t=K;try{var v=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,b=v.memoizedState,g=t.stateNode,x=g.getSnapshotBeforeUpdate(t.elementType===t.type?y:gn(t.type,y),b);g.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var w=t.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(F(163))}}catch(C){Ve(t,t.return,C)}if(e=t.sibling,e!==null){e.return=t.return,K=e;break}K=t.return}return v=ev,ev=!1,v}function Ri(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var o=s.destroy;s.destroy=void 0,o!==void 0&&Mf(t,n,o)}s=s.next}while(s!==r)}}function Uu(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Of(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function cS(e){var t=e.alternate;t!==null&&(e.alternate=null,cS(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[$n],delete t[Xi],delete t[bf],delete t[eN],delete t[tN])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function dS(e){return e.tag===5||e.tag===3||e.tag===4}function tv(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||dS(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Lf(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Xl));else if(r!==4&&(e=e.child,e!==null))for(Lf(e,t,n),e=e.sibling;e!==null;)Lf(e,t,n),e=e.sibling}function Df(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Df(e,t,n),e=e.sibling;e!==null;)Df(e,t,n),e=e.sibling}var it=null,yn=!1;function Er(e,t,n){for(n=n.child;n!==null;)fS(e,t,n),n=n.sibling}function fS(e,t,n){if(Kn&&typeof Kn.onCommitFiberUnmount=="function")try{Kn.onCommitFiberUnmount(Mu,n)}catch{}switch(n.tag){case 5:mt||so(n,t);case 6:var r=it,s=yn;it=null,Er(e,t,n),it=r,yn=s,it!==null&&(yn?(e=it,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):it.removeChild(n.stateNode));break;case 18:it!==null&&(yn?(e=it,n=n.stateNode,e.nodeType===8?nd(e.parentNode,n):e.nodeType===1&&nd(e,n),Wi(e)):nd(it,n.stateNode));break;case 4:r=it,s=yn,it=n.stateNode.containerInfo,yn=!0,Er(e,t,n),it=r,yn=s;break;case 0:case 11:case 14:case 15:if(!mt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var o=s,i=o.destroy;o=o.tag,i!==void 0&&(o&2||o&4)&&Mf(n,t,i),s=s.next}while(s!==r)}Er(e,t,n);break;case 1:if(!mt&&(so(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ve(n,t,a)}Er(e,t,n);break;case 21:Er(e,t,n);break;case 22:n.mode&1?(mt=(r=mt)||n.memoizedState!==null,Er(e,t,n),mt=r):Er(e,t,n);break;default:Er(e,t,n)}}function nv(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new yN),t.forEach(function(r){var s=TN.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function pn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var o=e,i=t,a=i;e:for(;a!==null;){switch(a.tag){case 5:it=a.stateNode,yn=!1;break e;case 3:it=a.stateNode.containerInfo,yn=!0;break e;case 4:it=a.stateNode.containerInfo,yn=!0;break e}a=a.return}if(it===null)throw Error(F(160));fS(o,i,s),it=null,yn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Ve(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)hS(t,e),t=t.sibling}function hS(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(pn(t,e),Dn(e),r&4){try{Ri(3,e,e.return),Uu(3,e)}catch(y){Ve(e,e.return,y)}try{Ri(5,e,e.return)}catch(y){Ve(e,e.return,y)}}break;case 1:pn(t,e),Dn(e),r&512&&n!==null&&so(n,n.return);break;case 5:if(pn(t,e),Dn(e),r&512&&n!==null&&so(n,n.return),e.flags&32){var s=e.stateNode;try{$i(s,"")}catch(y){Ve(e,e.return,y)}}if(r&4&&(s=e.stateNode,s!=null)){var o=e.memoizedProps,i=n!==null?n.memoizedProps:o,a=e.type,l=e.updateQueue;if(e.updateQueue=null,l!==null)try{a==="input"&&o.type==="radio"&&o.name!=null&&Ow(s,o),af(a,i);var c=af(a,o);for(i=0;i<l.length;i+=2){var d=l[i],h=l[i+1];d==="style"?Bw(s,h):d==="dangerouslySetInnerHTML"?Fw(s,h):d==="children"?$i(s,h):Ih(s,d,h,c)}switch(a){case"input":tf(s,o);break;case"textarea":Lw(s,o);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?co(s,!!o.multiple,m,!1):p!==!!o.multiple&&(o.defaultValue!=null?co(s,!!o.multiple,o.defaultValue,!0):co(s,!!o.multiple,o.multiple?[]:"",!1))}s[Xi]=o}catch(y){Ve(e,e.return,y)}}break;case 6:if(pn(t,e),Dn(e),r&4){if(e.stateNode===null)throw Error(F(162));s=e.stateNode,o=e.memoizedProps;try{s.nodeValue=o}catch(y){Ve(e,e.return,y)}}break;case 3:if(pn(t,e),Dn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Wi(t.containerInfo)}catch(y){Ve(e,e.return,y)}break;case 4:pn(t,e),Dn(e);break;case 13:pn(t,e),Dn(e),s=e.child,s.flags&8192&&(o=s.memoizedState!==null,s.stateNode.isHidden=o,!o||s.alternate!==null&&s.alternate.memoizedState!==null||(up=qe())),r&4&&nv(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(mt=(c=mt)||d,pn(t,e),mt=c):pn(t,e),Dn(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!d&&e.mode&1)for(K=e,d=e.child;d!==null;){for(h=K=d;K!==null;){switch(p=K,m=p.child,p.tag){case 0:case 11:case 14:case 15:Ri(4,p,p.return);break;case 1:so(p,p.return);var v=p.stateNode;if(typeof v.componentWillUnmount=="function"){r=p,n=p.return;try{t=r,v.props=t.memoizedProps,v.state=t.memoizedState,v.componentWillUnmount()}catch(y){Ve(r,n,y)}}break;case 5:so(p,p.return);break;case 22:if(p.memoizedState!==null){sv(h);continue}}m!==null?(m.return=p,K=m):sv(h)}d=d.sibling}e:for(d=null,h=e;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(o=s.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(a=h.stateNode,l=h.memoizedProps.style,i=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=zw("display",i))}catch(y){Ve(e,e.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Ve(e,e.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===e)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===e)break e;for(;h.sibling===null;){if(h.return===null||h.return===e)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:pn(t,e),Dn(e),r&4&&nv(e);break;case 21:break;default:pn(t,e),Dn(e)}}function Dn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(dS(n)){var r=n;break e}n=n.return}throw Error(F(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&($i(s,""),r.flags&=-33);var o=tv(e);Df(e,o,s);break;case 3:case 4:var i=r.stateNode.containerInfo,a=tv(e);Lf(e,a,i);break;default:throw Error(F(161))}}catch(l){Ve(e,e.return,l)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function xN(e,t,n){K=e,pS(e)}function pS(e,t,n){for(var r=(e.mode&1)!==0;K!==null;){var s=K,o=s.child;if(s.tag===22&&r){var i=s.memoizedState!==null||Ya;if(!i){var a=s.alternate,l=a!==null&&a.memoizedState!==null||mt;a=Ya;var c=mt;if(Ya=i,(mt=l)&&!c)for(K=s;K!==null;)i=K,l=i.child,i.tag===22&&i.memoizedState!==null?ov(s):l!==null?(l.return=i,K=l):ov(s);for(;o!==null;)K=o,pS(o),o=o.sibling;K=s,Ya=a,mt=c}rv(e)}else s.subtreeFlags&8772&&o!==null?(o.return=s,K=o):rv(e)}}function rv(e){for(;K!==null;){var t=K;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:mt||Uu(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!mt)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:gn(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&$y(t,o,r);break;case 3:var i=t.updateQueue;if(i!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}$y(t,i,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var l=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Wi(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(F(163))}mt||t.flags&512&&Of(t)}catch(p){Ve(t,t.return,p)}}if(t===e){K=null;break}if(n=t.sibling,n!==null){n.return=t.return,K=n;break}K=t.return}}function sv(e){for(;K!==null;){var t=K;if(t===e){K=null;break}var n=t.sibling;if(n!==null){n.return=t.return,K=n;break}K=t.return}}function ov(e){for(;K!==null;){var t=K;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Uu(4,t)}catch(l){Ve(t,n,l)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(l){Ve(t,s,l)}}var o=t.return;try{Of(t)}catch(l){Ve(t,o,l)}break;case 5:var i=t.return;try{Of(t)}catch(l){Ve(t,i,l)}}}catch(l){Ve(t,t.return,l)}if(t===e){K=null;break}var a=t.sibling;if(a!==null){a.return=t.return,K=a;break}K=t.return}}var wN=Math.ceil,au=wr.ReactCurrentDispatcher,ap=wr.ReactCurrentOwner,ln=wr.ReactCurrentBatchConfig,be=0,st=null,Xe=null,at=0,Ut=0,oo=Jr(0),et=0,na=null,Es=0,Hu=0,lp=0,Ni=null,At=null,up=0,Ro=1/0,sr=null,lu=!1,Ff=null,Vr=null,Xa=!1,Dr=null,uu=0,Ii=0,zf=null,kl=-1,El=0;function kt(){return be&6?qe():kl!==-1?kl:kl=qe()}function Wr(e){return e.mode&1?be&2&&at!==0?at&-at:rN.transition!==null?(El===0&&(El=Jw()),El):(e=Ne,e!==0||(e=window.event,e=e===void 0?16:ob(e.type)),e):1}function bn(e,t,n,r){if(50<Ii)throw Ii=0,zf=null,Error(F(185));ga(e,n,r),(!(be&2)||e!==st)&&(e===st&&(!(be&2)&&(Hu|=n),et===4&&Or(e,at)),Lt(e,r),n===1&&be===0&&!(t.mode&1)&&(Ro=qe()+500,zu&&Zr()))}function Lt(e,t){var n=e.callbackNode;rR(e,t);var r=Kl(e,e===st?at:0);if(r===0)n!==null&&py(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&py(n),t===1)e.tag===0?nN(iv.bind(null,e)):Cb(iv.bind(null,e)),JR(function(){!(be&6)&&Zr()}),n=null;else{switch(Zw(r)){case 1:n=Oh;break;case 4:n=Xw;break;case 16:n=Wl;break;case 536870912:n=Qw;break;default:n=Wl}n=SS(n,mS.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function mS(e,t){if(kl=-1,El=0,be&6)throw Error(F(327));var n=e.callbackNode;if(go()&&e.callbackNode!==n)return null;var r=Kl(e,e===st?at:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=cu(e,r);else{t=r;var s=be;be|=2;var o=yS();(st!==e||at!==t)&&(sr=null,Ro=qe()+500,ws(e,t));do try{_N();break}catch(a){gS(e,a)}while(!0);Gh(),au.current=o,be=s,Xe!==null?t=0:(st=null,at=0,t=et)}if(t!==0){if(t===2&&(s=ff(e),s!==0&&(r=s,t=Bf(e,s))),t===1)throw n=na,ws(e,0),Or(e,r),Lt(e,qe()),n;if(t===6)Or(e,r);else{if(s=e.current.alternate,!(r&30)&&!bN(s)&&(t=cu(e,r),t===2&&(o=ff(e),o!==0&&(r=o,t=Bf(e,o))),t===1))throw n=na,ws(e,0),Or(e,r),Lt(e,qe()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(F(345));case 2:fs(e,At,sr);break;case 3:if(Or(e,r),(r&130023424)===r&&(t=up+500-qe(),10<t)){if(Kl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){kt(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=wf(fs.bind(null,e,At,sr),t);break}fs(e,At,sr);break;case 4:if(Or(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var i=31-wn(r);o=1<<i,i=t[i],i>s&&(s=i),r&=~o}if(r=s,r=qe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*wN(r/1960))-r,10<r){e.timeoutHandle=wf(fs.bind(null,e,At,sr),r);break}fs(e,At,sr);break;case 5:fs(e,At,sr);break;default:throw Error(F(329))}}}return Lt(e,qe()),e.callbackNode===n?mS.bind(null,e):null}function Bf(e,t){var n=Ni;return e.current.memoizedState.isDehydrated&&(ws(e,t).flags|=256),e=cu(e,t),e!==2&&(t=At,At=n,t!==null&&$f(t)),e}function $f(e){At===null?At=e:At.push.apply(At,e)}function bN(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],o=s.getSnapshot;s=s.value;try{if(!Cn(o(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Or(e,t){for(t&=~lp,t&=~Hu,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-wn(t),r=1<<n;e[n]=-1,t&=~r}}function iv(e){if(be&6)throw Error(F(327));go();var t=Kl(e,0);if(!(t&1))return Lt(e,qe()),null;var n=cu(e,t);if(e.tag!==0&&n===2){var r=ff(e);r!==0&&(t=r,n=Bf(e,r))}if(n===1)throw n=na,ws(e,0),Or(e,t),Lt(e,qe()),n;if(n===6)throw Error(F(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,fs(e,At,sr),Lt(e,qe()),null}function cp(e,t){var n=be;be|=1;try{return e(t)}finally{be=n,be===0&&(Ro=qe()+500,zu&&Zr())}}function Ts(e){Dr!==null&&Dr.tag===0&&!(be&6)&&go();var t=be;be|=1;var n=ln.transition,r=Ne;try{if(ln.transition=null,Ne=1,e)return e()}finally{Ne=r,ln.transition=n,be=t,!(be&6)&&Zr()}}function dp(){Ut=oo.current,De(oo)}function ws(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,QR(n)),Xe!==null)for(n=Xe.return;n!==null;){var r=n;switch(Wh(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Ql();break;case 3:Eo(),De(Mt),De(gt),ep();break;case 5:Zh(r);break;case 4:Eo();break;case 13:De(Be);break;case 19:De(Be);break;case 10:Yh(r.type._context);break;case 22:case 23:dp()}n=n.return}if(st=e,Xe=e=Kr(e.current,null),at=Ut=t,et=0,na=null,lp=Hu=Es=0,At=Ni=null,ys!==null){for(t=0;t<ys.length;t++)if(n=ys[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,o=n.pending;if(o!==null){var i=o.next;o.next=s,r.next=i}n.pending=r}ys=null}return e}function gS(e,t){do{var n=Xe;try{if(Gh(),Sl.current=iu,ou){for(var r=$e.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}ou=!1}if(ks=0,rt=Ze=$e=null,Ti=!1,Zi=0,ap.current=null,n===null||n.return===null){et=1,na=t,Xe=null;break}e:{var o=e,i=n.return,a=n,l=t;if(t=at,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var p=d.alternate;p?(d.updateQueue=p.updateQueue,d.memoizedState=p.memoizedState,d.lanes=p.lanes):(d.updateQueue=null,d.memoizedState=null)}var m=qy(i);if(m!==null){m.flags&=-257,Gy(m,i,a,o,t),m.mode&1&&Ky(o,c,t),t=m,l=c;var v=t.updateQueue;if(v===null){var y=new Set;y.add(l),t.updateQueue=y}else v.add(l);break e}else{if(!(t&1)){Ky(o,c,t),fp();break e}l=Error(F(426))}}else if(Fe&&a.mode&1){var b=qy(i);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Gy(b,i,a,o,t),Kh(To(l,a));break e}}o=l=To(l,a),et!==4&&(et=2),Ni===null?Ni=[o]:Ni.push(o),o=i;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var g=Zb(o,l,t);By(o,g);break e;case 1:a=l;var x=o.type,w=o.stateNode;if(!(o.flags&128)&&(typeof x.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(Vr===null||!Vr.has(w)))){o.flags|=65536,t&=-t,o.lanes|=t;var C=eS(o,a,t);By(o,C);break e}}o=o.return}while(o!==null)}xS(n)}catch(R){t=R,Xe===n&&n!==null&&(Xe=n=n.return);continue}break}while(!0)}function yS(){var e=au.current;return au.current=iu,e===null?iu:e}function fp(){(et===0||et===3||et===2)&&(et=4),st===null||!(Es&268435455)&&!(Hu&268435455)||Or(st,at)}function cu(e,t){var n=be;be|=2;var r=yS();(st!==e||at!==t)&&(sr=null,ws(e,t));do try{SN();break}catch(s){gS(e,s)}while(!0);if(Gh(),be=n,au.current=r,Xe!==null)throw Error(F(261));return st=null,at=0,et}function SN(){for(;Xe!==null;)vS(Xe)}function _N(){for(;Xe!==null&&!GT();)vS(Xe)}function vS(e){var t=bS(e.alternate,e,Ut);e.memoizedProps=e.pendingProps,t===null?xS(e):Xe=t,ap.current=null}function xS(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=gN(n,t),n!==null){n.flags&=32767,Xe=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{et=6,Xe=null;return}}else if(n=mN(n,t,Ut),n!==null){Xe=n;return}if(t=t.sibling,t!==null){Xe=t;return}Xe=t=e}while(t!==null);et===0&&(et=5)}function fs(e,t,n){var r=Ne,s=ln.transition;try{ln.transition=null,Ne=1,CN(e,t,n,r)}finally{ln.transition=s,Ne=r}return null}function CN(e,t,n,r){do go();while(Dr!==null);if(be&6)throw Error(F(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(F(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(sR(e,o),e===st&&(Xe=st=null,at=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Xa||(Xa=!0,SS(Wl,function(){return go(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=ln.transition,ln.transition=null;var i=Ne;Ne=1;var a=be;be|=4,ap.current=null,vN(e,n),hS(n,e),VR(vf),ql=!!yf,vf=yf=null,e.current=n,xN(n),YT(),be=a,Ne=i,ln.transition=o}else e.current=n;if(Xa&&(Xa=!1,Dr=e,uu=s),o=e.pendingLanes,o===0&&(Vr=null),JT(n.stateNode),Lt(e,qe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(lu)throw lu=!1,e=Ff,Ff=null,e;return uu&1&&e.tag!==0&&go(),o=e.pendingLanes,o&1?e===zf?Ii++:(Ii=0,zf=e):Ii=0,Zr(),null}function go(){if(Dr!==null){var e=Zw(uu),t=ln.transition,n=Ne;try{if(ln.transition=null,Ne=16>e?16:e,Dr===null)var r=!1;else{if(e=Dr,Dr=null,uu=0,be&6)throw Error(F(331));var s=be;for(be|=4,K=e.current;K!==null;){var o=K,i=o.child;if(K.flags&16){var a=o.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(K=c;K!==null;){var d=K;switch(d.tag){case 0:case 11:case 15:Ri(8,d,o)}var h=d.child;if(h!==null)h.return=d,K=h;else for(;K!==null;){d=K;var p=d.sibling,m=d.return;if(cS(d),d===c){K=null;break}if(p!==null){p.return=m,K=p;break}K=m}}}var v=o.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}K=o}}if(o.subtreeFlags&2064&&i!==null)i.return=o,K=i;else e:for(;K!==null;){if(o=K,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Ri(9,o,o.return)}var g=o.sibling;if(g!==null){g.return=o.return,K=g;break e}K=o.return}}var x=e.current;for(K=x;K!==null;){i=K;var w=i.child;if(i.subtreeFlags&2064&&w!==null)w.return=i,K=w;else e:for(i=x;K!==null;){if(a=K,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Uu(9,a)}}catch(R){Ve(a,a.return,R)}if(a===i){K=null;break e}var C=a.sibling;if(C!==null){C.return=a.return,K=C;break e}K=a.return}}if(be=s,Zr(),Kn&&typeof Kn.onPostCommitFiberRoot=="function")try{Kn.onPostCommitFiberRoot(Mu,e)}catch{}r=!0}return r}finally{Ne=n,ln.transition=t}}return!1}function av(e,t,n){t=To(n,t),t=Zb(e,t,1),e=Hr(e,t,1),t=kt(),e!==null&&(ga(e,1,t),Lt(e,t))}function Ve(e,t,n){if(e.tag===3)av(e,e,n);else for(;t!==null;){if(t.tag===3){av(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Vr===null||!Vr.has(r))){e=To(n,e),e=eS(t,e,1),t=Hr(t,e,1),e=kt(),t!==null&&(ga(t,1,e),Lt(t,e));break}}t=t.return}}function kN(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=kt(),e.pingedLanes|=e.suspendedLanes&n,st===e&&(at&n)===n&&(et===4||et===3&&(at&130023424)===at&&500>qe()-up?ws(e,0):lp|=n),Lt(e,t)}function wS(e,t){t===0&&(e.mode&1?(t=Ba,Ba<<=1,!(Ba&130023424)&&(Ba=4194304)):t=1);var n=kt();e=pr(e,t),e!==null&&(ga(e,t,n),Lt(e,n))}function EN(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),wS(e,n)}function TN(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(F(314))}r!==null&&r.delete(t),wS(e,n)}var bS;bS=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Mt.current)jt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return jt=!1,pN(e,t,n);jt=!!(e.flags&131072)}else jt=!1,Fe&&t.flags&1048576&&kb(t,eu,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Cl(e,t),e=t.pendingProps;var s=_o(t,gt.current);mo(t,n),s=np(null,t,r,e,s,n);var o=rp();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ot(r)?(o=!0,Jl(t)):o=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Qh(t),s.updater=$u,t.stateNode=s,s._reactInternals=t,Tf(t,r,e,n),t=If(null,t,r,!0,o,n)):(t.tag=0,Fe&&o&&Vh(t),Ct(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Cl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=NN(r),e=gn(r,e),s){case 0:t=Nf(null,t,r,e,n);break e;case 1:t=Qy(null,t,r,e,n);break e;case 11:t=Yy(null,t,r,e,n);break e;case 14:t=Xy(null,t,r,gn(r.type,e),n);break e}throw Error(F(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Nf(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Qy(e,t,r,s,n);case 3:e:{if(sS(t),e===null)throw Error(F(387));r=t.pendingProps,o=t.memoizedState,s=o.element,Pb(e,t),ru(t,r,null,n);var i=t.memoizedState;if(r=i.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:i.cache,pendingSuspenseBoundaries:i.pendingSuspenseBoundaries,transitions:i.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){s=To(Error(F(423)),t),t=Jy(e,t,r,n,s);break e}else if(r!==s){s=To(Error(F(424)),t),t=Jy(e,t,r,n,s);break e}else for(Kt=Ur(t.stateNode.containerInfo.firstChild),Gt=t,Fe=!0,vn=null,n=Nb(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Co(),r===s){t=mr(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return Ab(t),e===null&&Cf(t),r=t.type,s=t.pendingProps,o=e!==null?e.memoizedProps:null,i=s.children,xf(r,s)?i=null:o!==null&&xf(r,o)&&(t.flags|=32),rS(e,t),Ct(e,t,i,n),t.child;case 6:return e===null&&Cf(t),null;case 13:return oS(e,t,n);case 4:return Jh(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=ko(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Yy(e,t,r,s,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,o=t.memoizedProps,i=s.value,je(tu,r._currentValue),r._currentValue=i,o!==null)if(Cn(o.value,i)){if(o.children===s.children&&!Mt.current){t=mr(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var a=o.dependencies;if(a!==null){i=o.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(o.tag===1){l=cr(-1,n&-n),l.tag=2;var c=o.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}o.lanes|=n,l=o.alternate,l!==null&&(l.lanes|=n),kf(o.return,n,t),a.lanes|=n;break}l=l.next}}else if(o.tag===10)i=o.type===t.type?null:o.child;else if(o.tag===18){if(i=o.return,i===null)throw Error(F(341));i.lanes|=n,a=i.alternate,a!==null&&(a.lanes|=n),kf(i,n,t),i=o.sibling}else i=o.child;if(i!==null)i.return=o;else for(i=o;i!==null;){if(i===t){i=null;break}if(o=i.sibling,o!==null){o.return=i.return,i=o;break}i=i.return}o=i}Ct(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,mo(t,n),s=un(s),r=r(s),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,s=gn(r,t.pendingProps),s=gn(r.type,s),Xy(e,t,r,s,n);case 15:return tS(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:gn(r,s),Cl(e,t),t.tag=1,Ot(r)?(e=!0,Jl(t)):e=!1,mo(t,n),Jb(t,r,s),Tf(t,r,s,n),If(null,t,r,!0,e,n);case 19:return iS(e,t,n);case 22:return nS(e,t,n)}throw Error(F(156,t.tag))};function SS(e,t){return Yw(e,t)}function RN(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function an(e,t,n,r){return new RN(e,t,n,r)}function hp(e){return e=e.prototype,!(!e||!e.isReactComponent)}function NN(e){if(typeof e=="function")return hp(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Ah)return 11;if(e===jh)return 14}return 2}function Kr(e,t){var n=e.alternate;return n===null?(n=an(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Tl(e,t,n,r,s,o){var i=2;if(r=e,typeof e=="function")hp(e)&&(i=1);else if(typeof e=="string")i=5;else e:switch(e){case Ys:return bs(n.children,s,o,t);case Ph:i=8,s|=8;break;case Xd:return e=an(12,n,t,s|2),e.elementType=Xd,e.lanes=o,e;case Qd:return e=an(13,n,t,s),e.elementType=Qd,e.lanes=o,e;case Jd:return e=an(19,n,t,s),e.elementType=Jd,e.lanes=o,e;case Aw:return Vu(n,s,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Iw:i=10;break e;case Pw:i=9;break e;case Ah:i=11;break e;case jh:i=14;break e;case Pr:i=16,r=null;break e}throw Error(F(130,e==null?e:typeof e,""))}return t=an(i,n,t,s),t.elementType=e,t.type=r,t.lanes=o,t}function bs(e,t,n,r){return e=an(7,e,r,t),e.lanes=n,e}function Vu(e,t,n,r){return e=an(22,e,r,t),e.elementType=Aw,e.lanes=n,e.stateNode={isHidden:!1},e}function cd(e,t,n){return e=an(6,e,null,t),e.lanes=n,e}function dd(e,t,n){return t=an(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function IN(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Wc(0),this.expirationTimes=Wc(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Wc(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function pp(e,t,n,r,s,o,i,a,l){return e=new IN(e,t,n,a,l),t===1?(t=1,o===!0&&(t|=8)):t=0,o=an(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Qh(o),e}function PN(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Gs,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function _S(e){if(!e)return Gr;e=e._reactInternals;e:{if(Os(e)!==e||e.tag!==1)throw Error(F(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ot(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(F(171))}if(e.tag===1){var n=e.type;if(Ot(n))return _b(e,n,t)}return t}function CS(e,t,n,r,s,o,i,a,l){return e=pp(n,r,!0,e,s,o,i,a,l),e.context=_S(null),n=e.current,r=kt(),s=Wr(n),o=cr(r,s),o.callback=t??null,Hr(n,o,s),e.current.lanes=s,ga(e,s,r),Lt(e,r),e}function Wu(e,t,n,r){var s=t.current,o=kt(),i=Wr(s);return n=_S(n),t.context===null?t.context=n:t.pendingContext=n,t=cr(o,i),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hr(s,t,i),e!==null&&(bn(e,s,i,o),bl(e,s,i)),i}function du(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function lv(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function mp(e,t){lv(e,t),(e=e.alternate)&&lv(e,t)}function AN(){return null}var kS=typeof reportError=="function"?reportError:function(e){console.error(e)};function gp(e){this._internalRoot=e}Ku.prototype.render=gp.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(F(409));Wu(e,t,null,null)};Ku.prototype.unmount=gp.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ts(function(){Wu(null,e,null,null)}),t[hr]=null}};function Ku(e){this._internalRoot=e}Ku.prototype.unstable_scheduleHydration=function(e){if(e){var t=nb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Mr.length&&t!==0&&t<Mr[n].priority;n++);Mr.splice(n,0,e),n===0&&sb(e)}};function yp(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function qu(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function uv(){}function jN(e,t,n,r,s){if(s){if(typeof r=="function"){var o=r;r=function(){var c=du(i);o.call(c)}}var i=CS(t,r,e,0,null,!1,!1,"",uv);return e._reactRootContainer=i,e[hr]=i.current,Gi(e.nodeType===8?e.parentNode:e),Ts(),i}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=du(l);a.call(c)}}var l=pp(e,0,!1,null,null,!1,!1,"",uv);return e._reactRootContainer=l,e[hr]=l.current,Gi(e.nodeType===8?e.parentNode:e),Ts(function(){Wu(t,l,n,r)}),l}function Gu(e,t,n,r,s){var o=n._reactRootContainer;if(o){var i=o;if(typeof s=="function"){var a=s;s=function(){var l=du(i);a.call(l)}}Wu(t,i,e,s)}else i=jN(n,t,e,s,r);return du(i)}eb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=xi(t.pendingLanes);n!==0&&(Lh(t,n|1),Lt(t,qe()),!(be&6)&&(Ro=qe()+500,Zr()))}break;case 13:Ts(function(){var r=pr(e,1);if(r!==null){var s=kt();bn(r,e,1,s)}}),mp(e,1)}};Dh=function(e){if(e.tag===13){var t=pr(e,134217728);if(t!==null){var n=kt();bn(t,e,134217728,n)}mp(e,134217728)}};tb=function(e){if(e.tag===13){var t=Wr(e),n=pr(e,t);if(n!==null){var r=kt();bn(n,e,t,r)}mp(e,t)}};nb=function(){return Ne};rb=function(e,t){var n=Ne;try{return Ne=e,t()}finally{Ne=n}};uf=function(e,t,n){switch(t){case"input":if(tf(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=Fu(r);if(!s)throw Error(F(90));Mw(r),tf(r,s)}}}break;case"textarea":Lw(e,n);break;case"select":t=n.value,t!=null&&co(e,!!n.multiple,t,!1)}};Hw=cp;Vw=Ts;var MN={usingClientEntryPoint:!1,Events:[va,Zs,Fu,$w,Uw,cp]},fi={findFiberByHostInstance:gs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ON={bundleType:fi.bundleType,version:fi.version,rendererPackageName:fi.rendererPackageName,rendererConfig:fi.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:wr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=qw(e),e===null?null:e.stateNode},findFiberByHostInstance:fi.findFiberByHostInstance||AN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Qa=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Qa.isDisabled&&Qa.supportsFiber)try{Mu=Qa.inject(ON),Kn=Qa}catch{}}Qt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=MN;Qt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!yp(t))throw Error(F(200));return PN(e,t,null,n)};Qt.createRoot=function(e,t){if(!yp(e))throw Error(F(299));var n=!1,r="",s=kS;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=pp(e,1,!1,null,null,n,!1,r,s),e[hr]=t.current,Gi(e.nodeType===8?e.parentNode:e),new gp(t)};Qt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(F(188)):(e=Object.keys(e).join(","),Error(F(268,e)));return e=qw(t),e=e===null?null:e.stateNode,e};Qt.flushSync=function(e){return Ts(e)};Qt.hydrate=function(e,t,n){if(!qu(t))throw Error(F(200));return Gu(null,e,t,!0,n)};Qt.hydrateRoot=function(e,t,n){if(!yp(e))throw Error(F(405));var r=n!=null&&n.hydratedSources||null,s=!1,o="",i=kS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(i=n.onRecoverableError)),t=CS(t,null,e,1,n??null,s,!1,o,i),e[hr]=t.current,Gi(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new Ku(t)};Qt.render=function(e,t,n){if(!qu(t))throw Error(F(200));return Gu(null,e,t,!1,n)};Qt.unmountComponentAtNode=function(e){if(!qu(e))throw Error(F(40));return e._reactRootContainer?(Ts(function(){Gu(null,null,e,!1,function(){e._reactRootContainer=null,e[hr]=null})}),!0):!1};Qt.unstable_batchedUpdates=cp;Qt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!qu(n))throw Error(F(200));if(e==null||e._reactInternals===void 0)throw Error(F(38));return Gu(e,t,n,!1,r)};Qt.version="18.3.1-next-f1338f8080-20240426";function ES(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(ES)}catch(e){console.error(e)}}ES(),Ew.exports=Qt;var $o=Ew.exports;const LN=Do($o);var TS,cv=$o;TS=cv.createRoot,cv.hydrateRoot;function DN(e){const t=[];for(const n of e.commitTasks)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t,"Errors during commit")}}function FN(e){var n;const t=[];for(const r of e.cells)if((r==null?void 0:r.type)==="effect"&&(r.deps=null,r.cleanup))try{(n=r.cleanup)==null||n.call(r)}catch(s){t.push(s)}finally{r.cleanup=void 0}if(t.length>0){if(t.length===1)throw t[0];for(const r of t)console.error(r);throw new AggregateError(t,"Errors during cleanup")}}let Pi=null;function zN(e,t){e.currentIndex=0;const n=Pi;Pi=e;try{if(t(),e.isFirstRender=!1,e.cells.length!==e.currentIndex)throw new Error(`Rendered ${e.currentIndex} hooks but expected ${e.cells.length}. Hooks must be called in the exact same order in every render.`)}finally{Pi=n}}function vp(){if(!Pi)throw new Error("No resource fiber available");return Pi}function BN(e){return null}function RS(e,t){const n=e[NS];if(!n)throw new Error("ResourceElement.type is not a valid Resource");return n(t)}const NS=Symbol("fnSymbol");function ra(e,t,n=BN()){return{type:e,dispatchUpdate:t,devStrictMode:n,cells:[],currentIndex:0,renderContext:void 0,isFirstRender:!0,isMounted:!1,isNeverMounted:!0}}function yo(e){if(!e.isMounted)throw new Error("Tried to unmount a fiber that is already unmounted");e.isMounted=!1,FN(e)}function Ss(e,t){const n={commitTasks:[],props:t,output:void 0};return zN(e,()=>{e.renderContext=n;try{n.output=RS(e.type,t)}finally{e.renderContext=void 0}}),n}function sa(e,t){e.isMounted=!0,e.isNeverMounted=!1,DN(t)}const $N=()=>null,UN=(e,t)=>e+(t()?1:0);function HN(e){const[,t]=f.useReducer(UN,0),n=$N(),r=f.useMemo(()=>ra(e.type,t,n),[e.type,e.key]),s=Ss(r,e.props);return f.useLayoutEffect(()=>()=>yo(r),[r]),f.useLayoutEffect(()=>{sa(r,s)}),s.output}function Ie(e){const t=n=>({type:t,props:n});return t[NS]=e,t}function gr(e,t){return{...t,key:e}}const VN=(e,t)=>{if(e.renderContext)throw new Error("Resource updated during render");if(e.isMounted)e.dispatchUpdate(t);else if(e.isNeverMounted)throw new Error("Resource updated before mount")};function WN(e){const t=vp(),n=t.currentIndex++;if(!t.isFirstRender&&n>=t.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");const r=t.cells[n];if(r){if(r.type!=="state")throw new Error("Hook order changed between renders");return r}const o={type:"state",value:typeof e=="function"?e():e,set:i=>{VN(t,()=>{const a=o.value,l=typeof i=="function"?i(a):i;return Object.is(a,l)?!1:(o.value=l,!0)})}};return t.cells[n]=o,o}function kn(e){const t=WN(e);return[t.value,t.set]}const IS=(e,t)=>{if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(!Object.is(e[n],t[n]))return!1;return!0},KN=(e,t)=>{const n=vp(),r=n.currentIndex++;if(!n.isFirstRender&&r>=n.cells.length)throw new Error("Rendered more hooks than during the previous render. Hooks must be called in the exact same order in every render.");let s=n.cells[r];if(s||(s=t(),n.cells[r]=s),s.type!==e)throw new Error("Hook order changed between renders");return s},qN=e=>{vp().renderContext.commitTasks.push(e)},GN=()=>({type:"effect",cleanup:void 0,deps:null});function ut(e,t){const n=KN("effect",GN);if(!(t&&n.deps&&IS(n.deps,t))){if(n.deps!==null&&!!t!=!!n.deps)throw new Error("tapEffect called with and without dependencies across re-renders");qN(()=>{var s;const r=[];try{(s=n.cleanup)==null||s.call(n)}catch(o){r.push(o)}finally{n.cleanup=void 0}try{const o=e();if(o!==void 0&&typeof o!="function")throw new Error(`An effect function must either return a cleanup function or nothing. Received: ${typeof o}`);n.cleanup=o}catch(o){r.push(o)}if(n.deps=t,r.length>0){if(r.length===1)throw r[0];for(const o of r)console.error(o);throw new AggregateError(r,"Errors during commit")}})}}function Fr(e){const[t]=kn(()=>({current:e}));return t}function No(e,t){const[n]=kn(e);return n}const Se=(e,t)=>{const n=Fr();return n.current||(n.current={value:e(),deps:t}),IS(n.current.deps,t)||(n.current.value=e(),n.current.deps=t),n.current.value},PS=(e,t)=>Se(()=>e,t);function xp(e){const t=Fr(e);return ut(()=>{t.current=e}),t.current}function AS(e,t){const[n,r]=kn(0),s=No(()=>()=>r(a=>a+1)),o=Se(()=>(e.key,ra(e.type,a=>{a()&&s()})),[e.type,e.key]),i=Ss(o,e.props);return ut(()=>()=>yo(o),[o]),ut(()=>{sa(o,i)},[o,i]),i.output}function Qn(e){return RS(e.type,e.props)}function wp(e,t){const[n,r]=kn(0),s=No(()=>()=>r(l=>l+1)),o=No(()=>new Map),i=t?PS(e,t):e,a=Se(()=>{const l=i(),c=new Set,d=[];let h=0;for(let p=0;p<l.length;p++){const m=l[p],v=m.key;if(v===void 0)throw new Error(`tapResources did not provide a key for array at index ${p}`);if(c.has(v))throw new Error(`Duplicate key ${v} in tapResources`);c.add(v);let y=o.get(v);if(y)if(y.fiber.type!==m.type){const b=ra(m.type,x=>{x()&&s()}),g=Ss(b,m.props);y.next=[b,g],d.push(g.output)}else y.next=Ss(y.fiber,m.props),d.push(y.next.output);else{const b=ra(m.type,x=>{x()&&s()}),g=Ss(b,m.props);y={fiber:b,next:g},h++,o.set(v,y),d.push(g.output)}}if(o.size>d.length-h)for(const p of o.keys())c.has(p)||(o.get(p).next="delete");return d},[i,n]);return ut(()=>()=>{for(const l of o.keys()){const c=o.get(l).fiber;yo(c)}},[]),ut(()=>{for(const[l,c]of o.entries())c.next==="delete"?(c.fiber.isMounted&&yo(c.fiber),o.delete(l)):Array.isArray(c.next)?(yo(c.fiber),c.fiber=c.next[0],sa(c.fiber,c.next[1])):sa(c.fiber,c.next)},[a]),a}const YN=50;let Vn={schedulers:new Set([]),isScheduled:!1};class XN{constructor(t){P(this,"_task");P(this,"_isDirty",!1);this._task=t}get isDirty(){return this._isDirty}markDirty(){this._isDirty=!0,Vn.schedulers.add(this),QN()}runTask(){this._isDirty=!1,this._task()}}const QN=()=>{Vn.isScheduled||(Vn.isScheduled=!0,queueMicrotask(jS))},jS=()=>{try{const e=[];let t=0;for(const n of Vn.schedulers)if(Vn.schedulers.delete(n),!!n.isDirty){if(t++,t>YN)throw new Error("Maximum update depth exceeded. This can happen when a resource repeatedly calls setState inside tapEffect.");try{n.runTask()}catch(r){e.push(r)}}if(e.length>0){if(e.length===1)throw e[0];for(const n of e)console.error(n);throw new AggregateError(e,"Errors occurred during flushSync")}}finally{Vn.schedulers.clear(),Vn.isScheduled=!1}},MS=e=>{const t=Vn;Vn={schedulers:new Set([]),isScheduled:!0};try{const n=e();return jS(),n}finally{Vn=t}},JN=e=>{const t=No(()=>new XN(()=>{r.current=null,l()})),n=Se(()=>(e.key,ra(e.type,c=>{c()&&t.markDirty()})),[e.type,e.key]),r=Fr(null);r.current=Ss(n,e.props);const s=Fr(!1),o=Fr(e.props),i=Fr(r.current.output),a=No(()=>new Set),l=xp(()=>{s.current&&(r.current===null&&(r.current=Ss(n,o.current)),!t.isDirty&&(o.current=r.current.props,sa(n,r.current),!(t.isDirty||i.current===r.current.output)&&(i.current=r.current.output,a.forEach(c=>c()))))});return ut(()=>(s.current=!0,()=>{s.current=!1,yo(n)}),[n]),ut(()=>{MS(l)}),Se(()=>({getValue:()=>i.current,subscribe:c=>(a.add(c),()=>a.delete(c))}),[])},Ai=Symbol("tap.Context"),OS=e=>({[Ai]:e}),LS=(e,t,n)=>{const r=e[Ai];e[Ai]=t;try{return n()}finally{e[Ai]=r}},DS=e=>e[Ai],Uf=Symbol("assistant-ui.store.clientIndex"),ZN=e=>e[Uf],FS=OS([]),bp=()=>DS(FS),eI=(e,t)=>{const n=bp(),r=Se(()=>[...n,e],[n,e]);return LS(FS,r,t)},tI=new Set(["$$typeof","nodeType","then"]),Yu=(e,t)=>{if(e===Symbol.toStringTag)return t;if(typeof e!="symbol"){if(e==="toJSON")return()=>t;if(!tI.has(e))return!1}};class Sp{getOwnPropertyDescriptor(t,n){const r=this.get(t,n);if(r!==void 0)return{value:r,writable:!1,enumerable:!0,configurable:!1}}set(){return!1}setPrototypeOf(){return!1}defineProperty(){return!1}deleteProperty(){return!1}preventExtensions(){return!1}}const zS=e=>{const t=Ie(e);return n=>{const r=t(n);return n.key===void 0?r:gr(n.key,r)}},fu=Symbol("assistant-ui.store.getValue"),nI=e=>{const t=e[fu];if(!t)throw new Error("Client scope contains a non-client resource. Ensure your Derived get() returns a client created with tapClientResource(), not a plain resource.");return t.state},dv=new Map;function rI(e){let t=dv.get(e);return t||(t=function(...n){if(!this||typeof this!="object")throw new Error(`Method "${String(e)}" called without proper context. This may indicate the function was called incorrectly.`);const r=this[fu];if(!r)throw new Error(`Method "${String(e)}" called on invalid client proxy. Ensure you are calling this method on a valid client instance.`);const s=r.methods[e];if(!s)throw new Error(`Method "${String(e)}" is not implemented.`);if(typeof s!="function")throw new Error(`"${String(e)}" is not a function.`);return s(...n)},dv.set(e,t)),t}class sI extends Sp{constructor(n,r){super();P(this,"outputRef");P(this,"index");P(this,"boundFns");P(this,"cachedReceiver");this.outputRef=n,this.index=r}get(n,r,s){if(r===fu)return this.outputRef.current;if(r===Uf)return this.index;const o=Yu(r,"ClientProxy");if(o!==!1)return o;const i=this.outputRef.current.methods[r];if(typeof i=="function"){this.cachedReceiver!==s&&(this.boundFns=new Map,this.cachedReceiver=s);let a=this.boundFns.get(r);return a||(a=rI(r).bind(s),this.boundFns.set(r,a)),a}return i}ownKeys(){return Object.keys(this.outputRef.current.methods)}has(n,r){return r===fu||r===Uf?!0:r in this.outputRef.current.methods}}const BS=zS(e=>{const t=Fr(null),n=bp().length,r=Se(()=>new Proxy({},new sI(t,n)),[n]),s=eI(r,()=>AS(e));return t.current||(t.current=s),ut(()=>{t.current=s}),{methods:r,state:s.state,key:e.key}}),Xu=e=>Qn(BS(e)),ji=Symbol("assistant-ui.store.proxiedAssistantState"),fd=e=>e==="on"||e==="subscribe"||typeof e=="symbol",$S=e=>{class t extends Sp{get(r,s){const o=Yu(s,"AssistantState");if(o!==!1)return o;const i=s;if(!fd(i))return nI(e[i]())}ownKeys(){return Object.keys(e).filter(r=>!fd(r))}has(r,s){return!fd(s)&&s in e}}return new Proxy({},new t)},oI=e=>e[ji],fv=()=>()=>{},US=e=>{const t=()=>{throw new Error(e)};return t.source=null,t.query=null,t};class iI extends Sp{get(t,n){if(n==="subscribe"||n==="on")return fv;if(n===ji)return aI;const r=Yu(n,"DefaultAssistantClient");return r!==!1?r:US("You are using a component or hook that requires an AuiProvider. Wrap your component in an <AuiProvider> component.")}ownKeys(){return["subscribe","on",ji]}has(t,n){return n==="subscribe"||n==="on"||n===ji}}const Qu=new Proxy({},new iI),aI=$S(Qu),lI=()=>new Proxy({},{get(e,t){const n=Yu(t,"AssistantClient");return n!==!1?n:US(`The current scope does not have a "${String(t)}" property.`)}}),HS=f.createContext(Qu),uI=()=>f.useContext(HS),es=({value:e,children:t})=>u.jsx(HS.Provider,{value:e,children:t}),Sn=Ie(e=>null),Hf=Symbol("assistant-ui.default-peers");function VS(e,t){const n=e,r=n[Hf]??{};for(const s of Object.keys(t))if(s in r)throw new Error(`Default peer "${s}" is already attached to this resource`);n[Hf]={...r,...t}}function cI(e){return e[Hf]}function dI(e,t){const n={},r={};for(const[o,i]of Object.entries(e))i.type===Sn?r[o]=i:n[o]=i;const s=(o,i=new Set)=>{if(i.has(o))return[];i.add(o);const a=cI(o.type);if(!a)return[];const l=[];for(const[c,d]of Object.entries(a))if(l.push([c,d]),d.type!==Sn){const h=s(d,i);l.push(...h)}return l};for(const[o,i]of Object.entries(n)){const a=s(i);for(const[l,c]of a)l in n||l in r||t[l].source!==null||(c.type===Sn?r[l]=c:n[l]=c)}return{rootClients:n,derivedClients:r}}const hv=e=>Se(()=>e,[...Object.entries(e).flat()]),fI=(e,t)=>{const{rootClients:n,derivedClients:r}=dI(e,t);return{rootClients:hv(n),derivedClients:hv(r)}},WS=e=>typeof e=="string"?{scope:e.split(".")[0],event:e}:{scope:e.scope,event:e.event},hI=Ie(()=>No(()=>{const e=new Map,t=new Set,n=new Set;return{on(r,s){const o=s;if(r==="*")return t.add(o),()=>t.delete(o);let i=e.get(r);return i||(i=new Set,e.set(r,i)),i.add(o),()=>{i.delete(o),i.size===0&&e.delete(r)}},emit(r,s,o){const i=e.get(r);!i&&t.size===0||queueMicrotask(()=>{const a=[];if(i)for(const l of i)try{l(s,o)}catch(c){a.push(c)}if(t.size>0){const l={event:r,payload:s};for(const c of t)try{c(l,o)}catch(d){a.push(d)}}if(a.length>0){if(a.length===1)throw a[0];for(const l of a)console.error(l);throw new AggregateError(a,"Errors occurred during event emission")}})},subscribe(r){return n.add(r),()=>n.delete(r)},notifySubscribers(){for(const r of n)try{r()}catch(s){console.error("NotificationManager: subscriber callback error",s)}}}})),KS=OS(null),pI=(e,t)=>LS(KS,e,t),qS=()=>{const e=DS(KS);if(!e)throw new Error("AssistantTapContext is not available");return e},GS=()=>qS().clientRef,_p=()=>{const{emit:e}=qS(),t=bp();return xp((n,r)=>{e(n,r,t)})},YS=e=>Se(()=>e,e),mI=Ie(({element:e,emit:t,clientRef:n})=>{const{methods:r,state:s}=pI({clientRef:n,emit:t},()=>Xu(e));return Se(()=>({state:s,methods:r}),[r,s])}),gI=Ie(({element:e,notifications:t,clientRef:n,name:r})=>{const s=JN(mI({element:e,emit:t.emit,clientRef:n}));return ut(()=>s.subscribe(t.notifySubscribers),[s,t]),Se(()=>{const o=()=>s.getValue().methods;return Object.defineProperties(o,{source:{value:"root",writable:!1},query:{value:{},writable:!1},name:{value:r,configurable:!0}}),o},[s,r])}),yI=Ie(()=>Se(()=>({clients:[],subscribe:void 0,on:void 0}),[])),vI=Ie(({clients:e,clientRef:t})=>{const n=Qn(hI());ut(()=>t.parent.subscribe(n.notifySubscribers),[t,n]);const r=YS(wp(()=>Object.keys(e).map(s=>gr(s,gI({element:e[s],notifications:n,clientRef:t,name:s}))),[e,n,t]));return Se(()=>({clients:r,subscribe:n.subscribe,on:function(s,o){if(!this)throw new Error("const { on } = useAui() is not supported. Use aui.on() instead.");const{scope:i,event:a}=WS(s);if(i!=="*"&&this[i].source===null)throw new Error(`Scope "${i}" is not available. Use { scope: "*", event: "${a}" } to listen globally.`);const l=n.on(a,(d,h)=>{if(i==="*"){o(d);return}const p=this[i](),m=ZN(p);p===h[m]&&o(d)});if(i!=="*"&&t.parent[i].source===null)return l;const c=t.parent.on(s,o);return()=>{l(),c()}}}),[r,n,t])}),pv=(e,t,n)=>{if("source"in e&&"query"in e)return e;if(n.dep===e)return n.meta;const r=e.getMeta(t.current);return n.meta=r,n.dep=e,r},xI=Ie(({element:e,clientRef:t,name:n})=>{const r=xp(()=>e.props);return Se(()=>{const s=()=>r().get(t.current),o={};return Object.defineProperties(s,{source:{get:()=>pv(r(),t,o).source},query:{get:()=>pv(r(),t,o).query},name:{value:n,configurable:!0}}),s},[t,n])}),wI=Ie(({clients:e,clientRef:t})=>YS(wp(()=>Object.keys(e).map(n=>gr(n,xI({element:e[n],clientRef:t,name:n}))),[e,t]))),bI=Ie(({parent:e,clients:t})=>{const{rootClients:n,derivedClients:r}=fI(t,e),s=Fr({parent:e,current:null}).current;ut(()=>{s.current=a});const o=AS(Object.keys(n).length>0?vI({clients:n,clientRef:s}):yI()),i=Qn(wI({clients:r,clientRef:s})),a=Se(()=>{const l=e===Qu?lI():e,c=Object.create(l);Object.assign(c,{subscribe:o.subscribe??e.subscribe,on:o.on??e.on,[ji]:$S(c)});for(const d of o.clients)c[d.name]=d;for(const d of i)c[d.name]=d;return c},[e,o,i]);return s.current===null&&(s.current=a),a});function pe(e,{parent:t}={parent:uI()}){if(e)return HN(bI({parent:t??Qu,clients:e}));if(t===null)throw new Error("received null parent, this usage is not allowed");return t}const ee=e=>{const t=pe(),n=oI(t),r=f.useSyncExternalStore(t.subscribe,()=>e(n),()=>e(n));if(r===n)throw new Error("You tried to return the entire AssistantState. This is not supported due to technical limitations.");return f.useDebugValue(r),r},SI=we.createContext(!0);function mv(){throw new Error("A function wrapped in useEffectEvent can't be called during rendering.")}const _I="use"in we?()=>{try{return we.use(SI)}catch{return!1}}:()=>!1;function CI(e){const t=we.useRef(mv);return we.useInsertionEffect(()=>{t.current=e},[e]),(...n)=>{_I()&&mv();const r=t.current;return r(...n)}}const hd=(e,t)=>{const n=pe(),r=CI(t),{scope:s,event:o}=WS(e);f.useEffect(()=>n.on({scope:s,event:o},r),[n,s,o,r])},kI=zS(e=>{if(e.key===void 0)throw new Error("tapClientResource: Element has no key");return Qn(BS(e))});function Io(e,t){const n=wp(()=>e().map(i=>kI(i)),t),r=Se(()=>Object.keys(n),[n]),s=Se(()=>n.reduce((i,a,l)=>(i[a.key]=l,i),{}),[n]);return{state:Se(()=>n.map(i=>i.state),[n]),get:i=>{if("index"in i){if(i.index<0||i.index>=r.length)throw new Error(`tapClientLookup: Index ${i.index} out of bounds (length: ${r.length})`);return n[i.index].methods}const a=s[i.key];if(a===void 0)throw new Error(`tapClientLookup: Key "${i.key}" not found`);return n[a].methods}}}const EI=e=>Array.from(e).map(n=>n.getModelContext()).sort((n,r)=>(r.priority??0)-(n.priority??0)).reduce((n,r)=>{var s;if(r.system&&(n.system?n.system+=`

${r.system}`:n.system=r.system),r.tools)for(const[o,i]of Object.entries(r.tools)){const a=(s=n.tools)==null?void 0:s[o];if(a&&a!==i)throw new Error(`You tried to define a tool with the name ${o}, but it already exists.`);n.tools||(n.tools={}),n.tools[o]=i}return r.config&&(n.config={...n.config,...r.config}),r.callSettings&&(n.callSettings={...n.callSettings,...r.callSettings}),n},{});class Cp{constructor(){P(this,"_providers",new Set);P(this,"_subscribers",new Set)}getModelContext(){return EI(this._providers)}registerModelContextProvider(t){var r;this._providers.add(t);const n=(r=t.subscribe)==null?void 0:r.call(t,()=>{this.notifySubscribers()});return this.notifySubscribers(),()=>{this._providers.delete(t),n==null||n(),this.notifySubscribers()}}notifySubscribers(){for(const t of this._subscribers)t()}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}}class kp{constructor(){P(this,"_contextProvider",new Cp)}registerModelContextProvider(t){return this._contextProvider.registerModelContextProvider(t)}getModelContextProvider(){return this._contextProvider}}class wa{constructor(){P(this,"_subscribers",new Set)}subscribe(t){return this._subscribers.add(t),()=>this._subscribers.delete(t)}waitForUpdate(){return new Promise(t=>{const n=this.subscribe(()=>{n(),t()})})}_notifySubscribers(){const t=[];for(const n of this._subscribers)try{n()}catch(r){t.push(r)}if(t.length>0){if(t.length===1)throw t[0];for(const n of t)console.error(n);throw new AggregateError(t)}}}const TI=e=>e.status.type==="complete";class XS extends wa{constructor(){super(...arguments);P(this,"isEditing",!0);P(this,"_attachments",[]);P(this,"_text","");P(this,"_role","user");P(this,"_runConfig",{});P(this,"_dictation");P(this,"_dictationSession");P(this,"_dictationUnsubscribes",[]);P(this,"_dictationBaseText","");P(this,"_currentInterimText","");P(this,"_dictationSessionIdCounter",0);P(this,"_activeDictationSessionId");P(this,"_isCleaningDictation",!1);P(this,"_eventSubscribers",new Map)}get attachmentAccept(){var n;return((n=this.getAttachmentAdapter())==null?void 0:n.accept)??"*"}get attachments(){return this._attachments}setAttachments(n){this._attachments=n,this._notifySubscribers()}get isEmpty(){return!this.text.trim()&&!this.attachments.length}get text(){return this._text}get role(){return this._role}get runConfig(){return this._runConfig}setText(n){if(this._text!==n){if(this._text=n,this._dictation){this._dictationBaseText=n,this._currentInterimText="";const{status:r,inputDisabled:s}=this._dictation;this._dictation=s?{status:r,inputDisabled:s}:{status:r}}this._notifySubscribers()}}setRole(n){this._role!==n&&(this._role=n,this._notifySubscribers())}setRunConfig(n){this._runConfig!==n&&(this._runConfig=n,this._notifySubscribers())}_emptyTextAndAttachments(){this._attachments=[],this._text="",this._notifySubscribers()}async _onClearAttachments(){const n=this.getAttachmentAdapter();n&&await Promise.all(this._attachments.map(r=>n.remove(r)))}async reset(){if(this._attachments.length===0&&this._text===""&&this._role==="user"&&Object.keys(this._runConfig).length===0)return;this._role="user",this._runConfig={};const n=this._onClearAttachments();this._emptyTextAndAttachments(),await n}async clearAttachments(){const n=this._onClearAttachments();this.setAttachments([]),await n}async send(){this._dictationSession&&(this._dictationSession.cancel(),this._cleanupDictation());const n=this.getAttachmentAdapter(),r=n&&this.attachments.length>0?Promise.all(this.attachments.map(async i=>TI(i)?i:await n.send(i))):[],s=this.text;this._emptyTextAndAttachments();const o={createdAt:new Date,role:this.role,content:s?[{type:"text",text:s}]:[],attachments:await r,runConfig:this.runConfig,metadata:{custom:{}}};this.handleSend(o),this._notifyEventSubscribers("send")}cancel(){this.handleCancel()}async addAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=i=>{const a=this._attachments.findIndex(l=>l.id===i.id);a!==-1?this._attachments=[...this._attachments.slice(0,a),i,...this._attachments.slice(a+1)]:this._attachments=[...this._attachments,i],this._notifySubscribers()},o=r.add({file:n});if(Symbol.asyncIterator in o)for await(const i of o)s(i);else s(await o);this._notifyEventSubscribers("attachmentAdd"),this._notifySubscribers()}async removeAttachment(n){const r=this.getAttachmentAdapter();if(!r)throw new Error("Attachments are not supported");const s=this._attachments.findIndex(i=>i.id===n);if(s===-1)throw new Error("Attachment not found");const o=this._attachments[s];await r.remove(o),this._attachments=[...this._attachments.slice(0,s),...this._attachments.slice(s+1)],this._notifySubscribers()}get dictation(){return this._dictation}_isActiveSession(n,r){return this._activeDictationSessionId===n&&this._dictationSession===r}startDictation(){const n=this.getDictationAdapter();if(!n)throw new Error("Dictation adapter not configured");if(this._dictationSession){for(const h of this._dictationUnsubscribes)h();this._dictationUnsubscribes=[],this._dictationSession.stop().catch(()=>{}),this._dictationSession=void 0}const r=n.disableInputDuringDictation??!1;this._dictationBaseText=this._text,this._currentInterimText="";const s=n.listen();this._dictationSession=s;const o=++this._dictationSessionIdCounter;this._activeDictationSessionId=o,this._dictation={status:s.status,inputDisabled:r},this._notifySubscribers();const i=s.onSpeech(d=>{if(!this._isActiveSession(o,s))return;const h=d.isFinal!==!1,m=this._dictationBaseText&&!this._dictationBaseText.endsWith(" ")&&d.transcript?" ":"";if(h){if(this._dictationBaseText=this._dictationBaseText+m+d.transcript,this._currentInterimText="",this._text=this._dictationBaseText,this._dictation){const{transcript:v,...y}=this._dictation;this._dictation=y}this._notifySubscribers()}else this._currentInterimText=m+d.transcript,this._text=this._dictationBaseText+this._currentInterimText,this._dictation&&(this._dictation={...this._dictation,transcript:d.transcript}),this._notifySubscribers()});this._dictationUnsubscribes.push(i);const a=s.onSpeechStart(()=>{var d;this._isActiveSession(o,s)&&(this._dictation={status:{type:"running"},inputDisabled:r,...((d=this._dictation)==null?void 0:d.transcript)&&{transcript:this._dictation.transcript}},this._notifySubscribers())});this._dictationUnsubscribes.push(a);const l=s.onSpeechEnd(()=>{this._cleanupDictation({sessionId:o})});this._dictationUnsubscribes.push(l);const c=setInterval(()=>{this._isActiveSession(o,s)&&s.status.type==="ended"&&this._cleanupDictation({sessionId:o})},100);this._dictationUnsubscribes.push(()=>clearInterval(c))}stopDictation(){if(!this._dictationSession)return;const n=this._dictationSession,r=this._activeDictationSessionId;n.stop().finally(()=>{this._cleanupDictation({sessionId:r})})}_cleanupDictation(n){if(!((n==null?void 0:n.sessionId)!==void 0&&n.sessionId!==this._activeDictationSessionId||this._isCleaningDictation)){this._isCleaningDictation=!0;try{for(const s of this._dictationUnsubscribes)s();this._dictationUnsubscribes=[],this._dictationSession=void 0,this._activeDictationSessionId=void 0,this._dictation=void 0,this._dictationBaseText="",this._currentInterimText="",this._notifySubscribers()}finally{this._isCleaningDictation=!1}}}_notifyEventSubscribers(n){const r=this._eventSubscribers.get(n);if(r)for(const s of r)s()}unstable_on(n,r){const s=this._eventSubscribers.get(n);return s?s.add(r):this._eventSubscribers.set(n,new Set([r])),()=>{const o=this._eventSubscribers.get(n);o&&o.delete(r)}}}class QS extends XS{constructor(n){super();P(this,"runtime");P(this,"_canCancel",!1);this.runtime=n,this.connect()}get canCancel(){return this._canCancel}get attachments(){return super.attachments}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}connect(){return this.runtime.subscribe(()=>{this.canCancel!==this.runtime.capabilities.cancel&&(this._canCancel=this.runtime.capabilities.cancel,this._notifySubscribers())})}async handleSend(n){var r;this.runtime.append({...n,parentId:((r=this.runtime.messages.at(-1))==null?void 0:r.id)??null,sourceId:null})}async handleCancel(){this.runtime.cancelRun()}}let RI=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const Rs=RI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7),NI="__optimistic__",II=()=>`${NI}${Rs()}`,Ju=Symbol("autoStatus"),PI=Object.freeze(Object.assign({type:"running"},{[Ju]:!0})),AI=Object.freeze(Object.assign({type:"complete",reason:"unknown"},{[Ju]:!0})),jI=Object.freeze(Object.assign({type:"requires-action",reason:"tool-calls"},{[Ju]:!0})),MI=Object.freeze(Object.assign({type:"requires-action",reason:"interrupt"},{[Ju]:!0})),JS=(e,t,n,r,s)=>e&&t?PI:n?MI:r?jI:AI;var Uo={exports:{}};const OI=typeof Buffer<"u",gv=/"(?:_|\\u005[Ff])(?:_|\\u005[Ff])(?:p|\\u0070)(?:r|\\u0072)(?:o|\\u006[Ff])(?:t|\\u0074)(?:o|\\u006[Ff])(?:_|\\u005[Ff])(?:_|\\u005[Ff])"\s*:/,yv=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/;function ZS(e,t,n){n==null&&t!==null&&typeof t=="object"&&(n=t,t=void 0),OI&&Buffer.isBuffer(e)&&(e=e.toString()),e&&e.charCodeAt(0)===65279&&(e=e.slice(1));const r=JSON.parse(e,t);if(r===null||typeof r!="object")return r;const s=n&&n.protoAction||"error",o=n&&n.constructorAction||"error";if(s==="ignore"&&o==="ignore")return r;if(s!=="ignore"&&o!=="ignore"){if(gv.test(e)===!1&&yv.test(e)===!1)return r}else if(s!=="ignore"&&o==="ignore"){if(gv.test(e)===!1)return r}else if(yv.test(e)===!1)return r;return e_(r,{protoAction:s,constructorAction:o,safe:n&&n.safe})}function e_(e,{protoAction:t="error",constructorAction:n="error",safe:r}={}){let s=[e];for(;s.length;){const o=s;s=[];for(const i of o){if(t!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"__proto__")){if(r===!0)return null;if(t==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.__proto__}if(n!=="ignore"&&Object.prototype.hasOwnProperty.call(i,"constructor")&&i.constructor!==null&&typeof i.constructor=="object"&&Object.prototype.hasOwnProperty.call(i.constructor,"prototype")){if(r===!0)return null;if(n==="error")throw new SyntaxError("Object contains forbidden prototype property");delete i.constructor}for(const a in i){const l=i[a];l&&typeof l=="object"&&s.push(l)}}}return e}function Ep(e,t,n){const{stackTraceLimit:r}=Error;Error.stackTraceLimit=0;try{return ZS(e,t,n)}finally{Error.stackTraceLimit=r}}function LI(e,t){const{stackTraceLimit:n}=Error;Error.stackTraceLimit=0;try{return ZS(e,t,{safe:!0})}catch{return}finally{Error.stackTraceLimit=n}}Uo.exports=Ep;Uo.exports.default=Ep;Uo.exports.parse=Ep;Uo.exports.safeParse=LI;Uo.exports.scan=e_;var DI=Uo.exports;const vv=Do(DI);function FI(e){const t=["ROOT"];let n=-1,r=null;const s=[];let o;function i(){o!==void 0&&(s.push(JSON.parse(`"${o}"`)),o=void 0)}function a(h,p,m){switch(h){case'"':{n=p,t.pop(),t.push(m),t.push("INSIDE_STRING"),i();break}case"f":case"t":case"n":{n=p,r=p,t.pop(),t.push(m),t.push("INSIDE_LITERAL");break}case"-":{t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=p,t.pop(),t.push(m),t.push("INSIDE_NUMBER"),i();break}case"{":{n=p,t.pop(),t.push(m),t.push("INSIDE_OBJECT_START"),i();break}case"[":{n=p,t.pop(),t.push(m),t.push("INSIDE_ARRAY_START"),i();break}}}function l(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_OBJECT_AFTER_COMMA");break}case"}":{n=p,t.pop(),o=s.pop();break}}}function c(h,p){switch(h){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=p,t.pop(),o=s.pop();break}}}for(let h=0;h<e.length;h++){const p=e[h];switch(t[t.length-1]){case"ROOT":a(p,h,"FINISH");break;case"INSIDE_OBJECT_START":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}case"}":{n=h,t.pop(),o=s.pop();break}}break}case"INSIDE_OBJECT_AFTER_COMMA":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_KEY"),o="";break}}break}case"INSIDE_OBJECT_KEY":{switch(p){case'"':{t.pop(),t.push("INSIDE_OBJECT_AFTER_KEY");break}case"\\":{t.push("INSIDE_STRING_ESCAPE"),o+=p;break}default:{o+=p;break}}break}case"INSIDE_OBJECT_AFTER_KEY":{switch(p){case":":{t.pop(),t.push("INSIDE_OBJECT_BEFORE_VALUE");break}}break}case"INSIDE_OBJECT_BEFORE_VALUE":{a(p,h,"INSIDE_OBJECT_AFTER_VALUE");break}case"INSIDE_OBJECT_AFTER_VALUE":{l(p,h);break}case"INSIDE_STRING":{switch(p){case'"':{t.pop(),n=h,o=s.pop();break}case"\\":{t.push("INSIDE_STRING_ESCAPE");break}default:n=h}break}case"INSIDE_ARRAY_START":{switch(p){case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h,o="0",a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}}break}case"INSIDE_ARRAY_AFTER_VALUE":{switch(p){case",":{t.pop(),t.push("INSIDE_ARRAY_AFTER_COMMA"),o=(Number(o)+1).toString();break}case"]":{n=h,t.pop(),o=s.pop();break}default:{n=h;break}}break}case"INSIDE_ARRAY_AFTER_COMMA":{a(p,h,"INSIDE_ARRAY_AFTER_VALUE");break}case"INSIDE_STRING_ESCAPE":{t.pop(),t[t.length-1]==="INSIDE_STRING"?n=h:t[t.length-1]==="INSIDE_OBJECT_KEY"&&(o+=p);break}case"INSIDE_NUMBER":{switch(p){case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":{n=h;break}case"e":case"E":case"-":case".":break;case",":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&c(p,h),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"}":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"&&l(p,h);break}case"]":{t.pop(),o=s.pop(),t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&c(p,h);break}default:{t.pop(),o=s.pop();break}}break}case"INSIDE_LITERAL":{const v=e.substring(r,h+1);!"false".startsWith(v)&&!"true".startsWith(v)&&!"null".startsWith(v)?(t.pop(),t[t.length-1]==="INSIDE_OBJECT_AFTER_VALUE"?l(p,h):t[t.length-1]==="INSIDE_ARRAY_AFTER_VALUE"&&c(p,h)):n=h;break}}}let d=e.slice(0,n+1);for(let h=t.length-1;h>=0;h--)switch(t[h]){case"INSIDE_STRING":{d+='"';break}case"INSIDE_OBJECT_KEY":case"INSIDE_OBJECT_AFTER_KEY":case"INSIDE_OBJECT_AFTER_COMMA":case"INSIDE_OBJECT_START":case"INSIDE_OBJECT_BEFORE_VALUE":case"INSIDE_OBJECT_AFTER_VALUE":{d+="}";break}case"INSIDE_ARRAY_START":case"INSIDE_ARRAY_AFTER_COMMA":case"INSIDE_ARRAY_AFTER_VALUE":{d+="]";break}case"INSIDE_LITERAL":{const m=e.substring(r,e.length);"true".startsWith(m)?d+="true".slice(m.length):"false".startsWith(m)?d+="false".slice(m.length):"null".startsWith(m)&&(d+="null".slice(m.length))}}return[d,s]}const pd=Symbol("aui.parse-partial-json-object.meta"),t_=e=>{if(e.length===0)return{[pd]:{state:"partial",partialPath:[]}};try{const t=vv.parse(e);if(typeof t!="object"||t===null)throw new Error("argsText is expected to be an object");return t[pd]={state:"complete",partialPath:[]},t}catch{try{const[t,n]=FI(e),r=vv.parse(t);if(typeof r!="object"||r===null)throw new Error("argsText is expected to be an object");return r[pd]={state:"partial",partialPath:n},r}catch{return}}},Vf={toResponse(e,t){return new Response(Vf.toByteStream(e,t),{headers:t.headers??{}})},fromResponse(e,t){return Vf.fromByteStream(e.body,t)},toByteStream(e,t){return e.pipeThrough(t)},fromByteStream(e,t){return e.pipeThrough(t)}},n_=function(){let e,t;const n=new Promise((r,s)=>{e=r,t=s});if(!e||!t)throw new Error("Failed to create promise");return{promise:n,resolve:e,reject:t}},zI=()=>{const e=[];let t=!1,n,r;const s=i=>{i.promise||(i.promise=i.reader.read().then(({done:a,value:l})=>{i.promise=void 0,a?(e.splice(e.indexOf(i),1),t&&e.length===0&&n.close()):n.enqueue(l),r==null||r.resolve(),r=void 0}).catch(a=>{console.error(a),e.forEach(l=>{l.reader.cancel()}),e.length=0,n.error(a),r==null||r.reject(a),r=void 0}))};return{readable:new ReadableStream({start(i){n=i},pull(){return r=n_(),e.forEach(i=>{s(i)}),r.promise},cancel(){e.forEach(i=>{i.reader.cancel()}),e.length=0}}),isSealed(){return t},seal(){t=!0,e.length===0&&n.close()},addStream(i){if(t)throw new Error("Cannot add streams after the run callback has settled.");const a={reader:i.getReader()};e.push(a),s(a)},enqueue(i){this.addStream(new ReadableStream({start(a){a.enqueue(i),a.close()}}))}}};class xv{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);this._controller=t}append(t){return this._controller.enqueue({type:"text-delta",path:[],textDelta:t}),this}close(){this._isClosed||(this._isClosed=!0,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const r_=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new xv(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new xv(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),wv=()=>{let e;return[r_({start(n){e=n}}),e]};class bv{constructor(t){P(this,"_controller");P(this,"_isClosed",!1);P(this,"_mergeTask");P(this,"_argsTextController");this._controller=t;const n=r_({start:s=>{this._argsTextController=s}});let r=!1;this._mergeTask=n.pipeTo(new WritableStream({write:s=>{switch(s.type){case"text-delta":r=!0,this._controller.enqueue(s);break;case"part-finish":r||this._controller.enqueue({type:"text-delta",textDelta:"{}",path:[]}),this._controller.enqueue({type:"tool-call-args-text-finish",path:[]});break;default:throw new Error(`Unexpected chunk type: ${s.type}`)}}}))}get argsText(){return this._argsTextController}async setResponse(t){this._argsTextController.close(),await Promise.resolve(),this._controller.enqueue({type:"result",path:[],...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1})}async close(){this._isClosed||(this._isClosed=!0,this._argsTextController.close(),await this._mergeTask,this._controller.enqueue({type:"part-finish",path:[]}),this._controller.close())}}const BI=e=>new ReadableStream({start(t){var n;return(n=e.start)==null?void 0:n.call(e,new bv(t))},pull(t){var n;return(n=e.pull)==null?void 0:n.call(e,new bv(t))},cancel(t){var n;return(n=e.cancel)==null?void 0:n.call(e,t)}}),$I=()=>{let e;return[BI({start(n){e=n}}),e]};class s_{constructor(){P(this,"value",-1)}up(){return++this.value}}class UI extends TransformStream{constructor(t){super({transform(n,r){r.enqueue({...n,path:[t,...n.path]})}})}}class s8 extends TransformStream{constructor(t){super({transform(n,r){const{path:[s,...o]}=n;if(t!==s)throw new Error(`Path mismatch: expected ${t}, got ${s}`);r.enqueue({...n,path:o})}})}}class HI extends TransformStream{constructor(t){const n=new s_,r=new Map;super({transform(s,o){s.type==="part-start"&&s.path.length===0&&r.set(n.up(),t.up());const[i,...a]=s.path;if(i===void 0){o.enqueue(s);return}const l=r.get(i);if(l===void 0)throw new Error("Path not found");o.enqueue({...s,path:[l,...a]})}})}}class VI extends TransformStream{constructor(t){super();const n=t(super.readable);Object.defineProperty(this,"readable",{value:n,writable:!1})}}let WI=(e,t=21)=>(n=t)=>{let r="",s=n|0;for(;s--;)r+=e[Math.random()*e.length|0];return r};const o_=WI("0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz",7);class Tp{constructor(t){P(this,"_state");P(this,"_parentId");this._state=t||{merger:zI(),contentCounter:new s_}}get __internal_isClosed(){return this._state.merger.isSealed()}__internal_getReadable(){return this._state.merger.readable}__internal_subscribeToClose(t){this._state.closeSubscriber=t}_addPart(t,n){this._state.append&&(this._state.append.controller.close(),this._state.append=void 0),this.enqueue({type:"part-start",part:t,path:[]}),this._state.merger.addStream(n.pipeThrough(new UI(this._state.contentCounter.value)))}merge(t){this._state.merger.addStream(t.pipeThrough(new HI(this._state.contentCounter)))}appendText(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="text"&&(this._state.append={kind:"text",controller:this.addTextPart()}),this._state.append.controller.append(t)}appendReasoning(t){var n;((n=this._state.append)==null?void 0:n.kind)!=="reasoning"&&(this._state.append={kind:"reasoning",controller:this.addReasoningPart()}),this._state.append.controller.append(t)}addTextPart(){const[t,n]=wv();return this._addPart({type:"text"},t),n}addReasoningPart(){const[t,n]=wv();return this._addPart({type:"reasoning"},t),n}addToolCallPart(t){const n=typeof t=="string"?{toolName:t}:t,r=n.toolName,s=n.toolCallId??o_(),[o,i]=$I();return this._addPart({type:"tool-call",toolName:r,toolCallId:s,...this._parentId&&{parentId:this._parentId}},o),n.argsText!==void 0&&(i.argsText.append(n.argsText),i.argsText.close()),n.args!==void 0&&(i.argsText.append(JSON.stringify(n.args)),i.argsText.close()),n.response!==void 0&&i.setResponse(n.response),i}appendSource(t){this._addPart({...t,...this._parentId&&{parentId:this._parentId}},new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}appendFile(t){this._addPart(t,new ReadableStream({start(n){n.enqueue({type:"part-finish",path:[]}),n.close()}}))}enqueue(t){this._state.merger.enqueue(t),t.type==="part-start"&&t.path.length===0&&this._state.contentCounter.up()}withParentId(t){const n=new Tp(this._state);return n._parentId=t,n}close(){var t,n,r,s;(n=(t=this._state.append)==null?void 0:t.controller)==null||n.close(),this._state.merger.seal(),(s=(r=this._state).closeSubscriber)==null||s.call(r)}}function KI(e){const t=new Tp;return(async()=>{try{await e(t)}catch(r){throw t.__internal_isClosed||t.enqueue({type:"error",path:[],error:String(r)}),r}finally{t.__internal_isClosed||t.close()}})(),t.__internal_getReadable()}function qI(){const{resolve:e,promise:t}=n_();let n;return[KI(s=>(n=s,n.__internal_subscribeToClose(e),t)),n]}class GI extends TransformStream{constructor(t,n,r){const[s,o]=qI();let i;super({start(a){var l;return i=s.pipeTo(new WritableStream({write(c){a.enqueue(c)},abort(c){a.error(c)},close(){a.terminate()}})).catch(c=>{a.error(c)}),(l=t.start)==null?void 0:l.call(t,o)},transform(a){var l;return(l=t.transform)==null?void 0:l.call(t,a,o)},async flush(){var a;await((a=t.flush)==null?void 0:a.call(t,o)),o.close(),await i}},n,r)}}const ba=(e,t,n)=>{const{role:r,id:s,createdAt:o,attachments:i,status:a,metadata:l}=e,c={id:s??t,createdAt:o??new Date},d=typeof e.content=="string"?[{type:"text",text:e.content}]:e.content,h=({image:p,...m})=>p.match(/^data:image\/(png|jpeg|jpg|gif|webp);base64,(.*)$/)?{...m,image:p}:(console.warn("Invalid image data format detected"),null);if(r!=="user"&&(i!=null&&i.length))throw new Error("attachments are only supported for user messages");if(r!=="assistant"&&a)throw new Error("status is only supported for assistant messages");if(r!=="assistant"&&(l!=null&&l.steps))throw new Error("metadata.steps is only supported for assistant messages");switch(r){case"assistant":return{...c,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"reasoning":return p.text.trim().length===0?null:p;case"file":case"source":return p;case"image":return h(p);case"data":return p;case"tool-call":{const{parentId:v,messages:y,...b}=p,g={...b,toolCallId:p.toolCallId??`tool-${Rs()}`,...v!==void 0&&{parentId:v},...y!==void 0&&{messages:y}};return p.args?{...g,args:p.args,argsText:p.argsText??JSON.stringify(p.args)}:{...g,args:t_(p.argsText??"")??{},argsText:p.argsText??""}}default:{const v=m;throw new Error(`Unsupported assistant message part type: ${v}`)}}}).filter(p=>!!p),status:a??n,metadata:{unstable_state:(l==null?void 0:l.unstable_state)??null,unstable_annotations:(l==null?void 0:l.unstable_annotations)??[],unstable_data:(l==null?void 0:l.unstable_data)??[],custom:(l==null?void 0:l.custom)??{},steps:(l==null?void 0:l.steps)??[],...(l==null?void 0:l.submittedFeedback)&&{submittedFeedback:l.submittedFeedback}}};case"user":return{...c,role:r,content:d.map(p=>{const m=p.type;switch(m){case"text":case"image":case"audio":case"file":return p;default:{const v=m;throw new Error(`Unsupported user message part type: ${v}`)}}}),attachments:i??[],metadata:{custom:(l==null?void 0:l.custom)??{}}};case"system":if(d.length!==1||d[0].type!=="text")throw new Error("System messages must have exactly one text message part.");return{...c,role:r,content:d,metadata:{custom:(l==null?void 0:l.custom)??{}}};default:{const p=r;throw new Error(`Unknown message role: ${p}`)}}},Rp={fromArray:e=>{const t=e.map(n=>ba(n,Rs(),JS(!1,!1,!1,!1)));return{messages:t.map((n,r)=>({parentId:r>0?t[r-1].id:null,message:n}))}}},Rl=e=>e.next?Rl(e.next):"current"in e?e:null;class YI{constructor(t){P(this,"func");P(this,"_value",null);this.func=t}get value(){return this._value===null&&(this._value=this.func()),this._value}dirty(){this._value=null}}class i_{constructor(){P(this,"messages",new Map);P(this,"head",null);P(this,"root",{children:[],next:null});P(this,"_messages",new YI(()=>{var n;const t=new Array((((n=this.head)==null?void 0:n.level)??-1)+1);for(let r=this.head;r;r=r.prev)t[r.level]=r.current;return t}))}updateLevels(t,n){t.level=n;for(const r of t.children){const s=this.messages.get(r);s&&this.updateLevels(s,n+1)}}performOp(t,n,r){const s=n.prev??this.root,o=t??this.root;if(!(r==="relink"&&s===o)){if(r!=="link"&&(s.children=s.children.filter(i=>i!==n.current.id),s.next===n)){const i=s.children.at(-1),a=i?this.messages.get(i):null;if(a===void 0)throw new Error("MessageRepository(performOp/cut): Fallback sibling message not found. This is likely an internal bug in assistant-ui.");s.next=a}if(r!=="cut"){for(let a=t;a;a=a.prev)if(a.current.id===n.current.id)throw new Error("MessageRepository(performOp/link): A message with the same id already exists in the parent tree. This error occurs if the same message id is found multiple times. This is likely an internal bug in assistant-ui.");o.children=[...o.children,n.current.id],(Rl(n)===this.head||o.next===null)&&(o.next=n),n.prev=t;const i=t?t.level+1:0;this.updateLevels(n,i)}}}get headId(){var t;return((t=this.head)==null?void 0:t.current.id)??null}getMessages(t){var s;if(t===void 0||t===((s=this.head)==null?void 0:s.current.id))return this._messages.value;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getMessages): Head message not found. This is likely an internal bug in assistant-ui.");const r=new Array(n.level+1);for(let o=n;o;o=o.prev)r[o.level]=o.current;return r}addOrUpdateMessage(t,n){const r=this.messages.get(n.id),s=t?this.messages.get(t):null;if(s===void 0)throw new Error("MessageRepository(addOrUpdateMessage): Parent message not found. This is likely an internal bug in assistant-ui.");if(r){r.current=n,this.performOp(s,r,"relink"),this._messages.dirty();return}const o={prev:s,current:n,next:null,children:[],level:s?s.level+1:0};this.messages.set(n.id,o),this.performOp(s,o,"link"),this.head===s&&(this.head=o),this._messages.dirty()}getMessage(t){var r;const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(updateMessage): Message not found. This is likely an internal bug in assistant-ui.");return{parentId:((r=n.prev)==null?void 0:r.current.id)??null,message:n.current,index:n.level}}appendOptimisticMessage(t,n){let r;do r=II();while(this.messages.has(r));return this.addOrUpdateMessage(t,ba(n,r,{type:"running"})),r}deleteMessage(t,n){const r=this.messages.get(t);if(!r)throw new Error("MessageRepository(deleteMessage): Message not found. This is likely an internal bug in assistant-ui.");const s=n===void 0?r.prev:n===null?null:this.messages.get(n);if(s===void 0)throw new Error("MessageRepository(deleteMessage): Replacement not found. This is likely an internal bug in assistant-ui.");for(const o of r.children){const i=this.messages.get(o);if(!i)throw new Error("MessageRepository(deleteMessage): Child message not found. This is likely an internal bug in assistant-ui.");this.performOp(s,i,"relink")}this.performOp(null,r,"cut"),this.messages.delete(t),this.head===r&&(this.head=Rl(s??this.root)),this._messages.dirty()}getBranches(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(getBranches): Message not found. This is likely an internal bug in assistant-ui.");const{children:r}=n.prev??this.root;return r}switchToBranch(t){const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(switchToBranch): Branch not found. This is likely an internal bug in assistant-ui.");const r=n.prev??this.root;r.next=n,this.head=Rl(n),this._messages.dirty()}resetHead(t){if(t===null){this.clear();return}const n=this.messages.get(t);if(!n)throw new Error("MessageRepository(resetHead): Branch not found. This is likely an internal bug in assistant-ui.");if(n.children.length>0){const r=s=>{for(const o of s.children){const i=this.messages.get(o);i&&(r(i),this.messages.delete(o))}};r(n),n.children=[],n.next=null}this.head=n;for(let r=n;r;r=r.prev)r.prev&&(r.prev.next=r);this._messages.dirty()}clear(){this.messages.clear(),this.head=null,this.root={children:[],next:null},this._messages.dirty()}export(){var n,r;const t=[];for(const[,s]of this.messages)t.push({message:s.current,parentId:((n=s.prev)==null?void 0:n.current.id)??null});return{headId:((r=this.head)==null?void 0:r.current.id)??null,messages:t}}import({headId:t,messages:n}){var r;for(const{message:s,parentId:o}of n)this.addOrUpdateMessage(o,s);this.resetHead(t??((r=n.at(-1))==null?void 0:r.message.id)??null)}}class Zu{constructor(){P(this,"_subscriptions",new Set);P(this,"_connection")}get isConnected(){return!!this._connection}notifySubscribers(){for(const t of this._subscriptions)t()}_updateConnection(){var t;if(this._subscriptions.size>0){if(this._connection)return;this._connection=this._connect()}else(t=this._connection)==null||t.call(this),this._connection=void 0}subscribe(t){return this._subscriptions.add(t),this._updateConnection(),()=>{this._subscriptions.delete(t),this._updateConnection()}}}const En=Symbol("skip-update");class Np extends Zu{constructor(n){super();P(this,"binding");P(this,"_previousStateDirty",!0);P(this,"_previousState");P(this,"getState",()=>{if(!this.isConnected||this._previousStateDirty){const n=this.binding.getState();n!==En&&(this._previousState=n),this._previousStateDirty=!1}if(this._previousState===void 0)throw new Error("Entry not available in the store");return this._previousState});this.binding=n}get path(){return this.binding.path}_connect(){const n=()=>{this._previousStateDirty=!0,this.notifySubscribers()};return this.binding.subscribe(n)}}class Ja{constructor(t,n){P(this,"_core");P(this,"_threadListBinding");this._core=t,this._threadListBinding=n,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.switchTo=this.switchTo.bind(this),this.rename=this.rename.bind(this),this.archive=this.archive.bind(this),this.unarchive=this.unarchive.bind(this),this.delete=this.delete.bind(this),this.initialize=this.initialize.bind(this),this.generateTitle=this.generateTitle.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getState=this.getState.bind(this),this.detach=this.detach.bind(this)}getState(){return this._core.getState()}switchTo(){const t=this._core.getState();return this._threadListBinding.switchToThread(t.id)}rename(t){const n=this._core.getState();return this._threadListBinding.rename(n.id,t)}archive(){const t=this._core.getState();return this._threadListBinding.archive(t.id)}unarchive(){const t=this._core.getState();return this._threadListBinding.unarchive(t.id)}delete(){const t=this._core.getState();return this._threadListBinding.delete(t.id)}initialize(){const t=this._core.getState();return this._threadListBinding.initialize(t.id)}generateTitle(){const t=this._core.getState();return this._threadListBinding.generateTitle(t.id)}unstable_on(t,n){let r=this._core.getState().isMain,s=this._core.getState().id;return this.subscribe(()=>{const o=this._core.getState(),i=o.isMain,a=o.id;r===i&&s===a||(r=i,s=a,!(t==="switchedTo"&&!i)&&(t==="switchedAway"&&i||n()))})}subscribe(t){return this._core.subscribe(t)}detach(){const t=this._core.getState();this._threadListBinding.detach(t.id)}__internal_getRuntime(){return this}}function XI(e,t){if(e===void 0&&t===void 0)return!0;if(e===void 0||t===void 0)return!1;for(const n of Object.keys(e)){const r=e[n],s=t[n];if(!Object.is(r,s))return!1}return!0}class xn extends Zu{constructor(n){super();P(this,"binding");P(this,"_previousState");P(this,"getState",()=>(this.isConnected||this._syncState(),this._previousState));this.binding=n;const r=n.getState();if(r===En)throw new Error("Entry not available in the store");this._previousState=r}get path(){return this.binding.path}_syncState(){const n=this.binding.getState();return n===En||XI(n,this._previousState)?!1:(this._previousState=n,!0)}_connect(){const n=()=>{this._syncState()&&this.notifySubscribers()};return this.binding.subscribe(n)}}const hu=Symbol("innerMessage"),pu=e=>e.content.filter(n=>n.type==="text").map(n=>n.text).join(`

`);class a_{constructor(t){P(this,"_core");this._core=t,this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.getState=this.getState.bind(this),this.remove=this.remove.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this._core.getState()}subscribe(t){return this._core.subscribe(t)}}class l_ extends a_{constructor(n,r){super(n);P(this,"_composerApi");this._composerApi=r}remove(){const n=this._composerApi.getState();if(!n)throw new Error("Composer is not available");return n.removeAttachment(this.getState().id)}}class QI extends l_{get source(){return"thread-composer"}}class JI extends l_{get source(){return"edit-composer"}}class ZI extends a_{get source(){return"message"}constructor(t){super(t)}remove(){throw new Error("Message attachments cannot be removed")}}class u_ extends Zu{constructor(n){super();P(this,"config");this.config=n}getState(){return this.config.binding.getState()}outerSubscribe(n){return this.config.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.config.binding.getState(),s=r==null?void 0:r.unstable_on(this.config.event,n);const o=()=>{var l;const a=this.config.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.config.binding.getState())==null?void 0:l.unstable_on(this.config.event,n))},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const c_=Object.freeze([]),d_=Object.freeze({}),eP=e=>Object.freeze({type:"thread",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,attachments:(e==null?void 0:e.attachments)??c_,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",runConfig:(e==null?void 0:e.runConfig)??d_,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""}),tP=e=>Object.freeze({type:"edit",isEditing:(e==null?void 0:e.isEditing)??!1,canCancel:(e==null?void 0:e.canCancel)??!1,isEmpty:(e==null?void 0:e.isEmpty)??!0,text:(e==null?void 0:e.text)??"",role:(e==null?void 0:e.role)??"user",attachments:(e==null?void 0:e.attachments)??c_,runConfig:(e==null?void 0:e.runConfig)??d_,attachmentAccept:(e==null?void 0:e.attachmentAccept)??"",dictation:e==null?void 0:e.dictation,value:(e==null?void 0:e.text)??""});class f_{constructor(t){P(this,"_core");P(this,"_eventSubscriptionSubjects",new Map);this._core=t}get path(){return this._core.path}__internal_bindMethods(){this.setText=this.setText.bind(this),this.setRunConfig=this.setRunConfig.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.addAttachment=this.addAttachment.bind(this),this.reset=this.reset.bind(this),this.clearAttachments=this.clearAttachments.bind(this),this.send=this.send.bind(this),this.cancel=this.cancel.bind(this),this.setRole=this.setRole.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.startDictation=this.startDictation.bind(this),this.stopDictation=this.stopDictation.bind(this),this.unstable_on=this.unstable_on.bind(this)}setText(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setText(t)}setRunConfig(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRunConfig(t)}addAttachment(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");return n.addAttachment(t)}reset(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.reset()}clearAttachments(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");return t.clearAttachments()}send(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.send()}cancel(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.cancel()}setRole(t){const n=this._core.getState();if(!n)throw new Error("Composer is not available");n.setRole(t)}startDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.startDictation()}stopDictation(){const t=this._core.getState();if(!t)throw new Error("Composer is not available");t.stopDictation()}subscribe(t){return this._core.subscribe(t)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new u_({event:t,binding:this._core}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}class nP extends f_{constructor(n){const r=new Np({path:n.path,getState:()=>eP(n.getState()),subscribe:s=>n.subscribe(s)});super({path:n.path,getState:()=>n.getState(),subscribe:s=>r.subscribe(s)});P(this,"_getState");this._getState=r.getState.bind(r),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"thread"}getState(){return this._getState()}getAttachmentByIndex(n){return new QI(new xn({path:{...this.path,attachmentSource:"thread-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"thread-composer"}:En},subscribe:r=>this._core.subscribe(r)}),this._core)}}class rP extends f_{constructor(n,r){const s=new Np({path:n.path,getState:()=>tP(n.getState()),subscribe:o=>n.subscribe(o)});super({path:n.path,getState:()=>n.getState(),subscribe:o=>s.subscribe(o)});P(this,"_beginEdit");P(this,"_getState");this._beginEdit=r,this._getState=s.getState.bind(s),this.__internal_bindMethods()}get path(){return this._core.path}get type(){return"edit"}__internal_bindMethods(){super.__internal_bindMethods(),this.beginEdit=this.beginEdit.bind(this)}getState(){return this._getState()}beginEdit(){this._beginEdit()}getAttachmentByIndex(n){return new JI(new xn({path:{...this.path,attachmentSource:"edit-composer",attachmentSelector:{type:"index",index:n},ref:`${this.path.ref}.attachments[${n}]`},getState:()=>{const s=this.getState().attachments[n];return s?{...s,source:"edit-composer"}:En},subscribe:r=>this._core.subscribe(r)}),this._core)}}class Mi{constructor(t=null){P(this,"_state");this._state=t}get state(){return this._state}append(t){this._state=t.reduce((n,r)=>Mi.apply(n,r),this._state)}static apply(t,n){const r=n.type;switch(r){case"set":return Mi.updatePath(t,n.path,()=>n.value);case"append-text":return Mi.updatePath(t,n.path,s=>{if(typeof s!="string")throw new Error(`Expected string at path [${n.path.join(", ")}]`);return s+n.value});default:{const s=r;throw new Error(`Invalid operation type: ${s}`)}}}static updatePath(t,n,r){if(n.length===0)return r(t);if(t??(t={}),typeof t!="object")throw new Error(`Invalid path: [${n.join(", ")}]`);const[s,...o]=n;if(Array.isArray(t)){const a=Number(s);if(Number.isNaN(a))throw new Error(`Expected array index at [${n.join(", ")}]`);if(a>t.length||a<0)throw new Error("Insert array index out of bounds");const l=[...t];return l[a]=this.updatePath(l[a],o,r),l}const i={...t};return i[s]=this.updatePath(i[s],o,r),i}}const sP=({unstable_state:e=null}={})=>({role:"assistant",status:{type:"running"},parts:[],get content(){return this.parts},metadata:{unstable_state:e,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}),ec=(e,t,n)=>{if(e.parts.length===0)throw new Error("No parts available to update.");if(t.path.length!==1)throw new Error("Nested paths are not supported yet.");const r=t.path[0],s=n(e.parts[r]);return{...e,parts:[...e.parts.slice(0,r),s,...e.parts.slice(r+1)],get content(){return this.parts}}},oP=(e,t)=>{const n=t.part;if(n.type==="text"||n.type==="reasoning"){const r={type:n.type,text:"",status:{type:"running"},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="tool-call"){const r={type:"tool-call",state:"partial-call",status:{type:"running",isArgsComplete:!1},toolCallId:n.toolCallId,toolName:n.toolName,argsText:"",args:{},...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="source"){const r={type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0,...n.parentId&&{parentId:n.parentId}};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else if(n.type==="file"){const r={type:"file",mimeType:n.mimeType,data:n.data};return{...e,parts:[...e.parts,r],get content(){return this.parts}}}else throw new Error(`Unsupported part type: ${n.type}`)},iP=(e,t)=>ec(e,t,n=>{if(n.type!=="tool-call")throw new Error("Last is not a tool call");return n.state!=="partial-call"?n:{...n,state:"call"}}),aP=(e,t)=>ec(e,t,n=>({...n,status:{type:"complete",reason:"unknown"}})),lP=(e,t)=>ec(e,t,n=>{if(n.type==="text"||n.type==="reasoning")return{...n,text:n.text+t.textDelta};if(n.type==="tool-call"){const r=n.argsText+t.textDelta,s=t_(r)??n.args;return{...n,argsText:r,args:s}}else throw new Error("text-delta received but part is neither text nor tool-call")}),uP=(e,t)=>ec(e,t,n=>{if(n.type==="tool-call")return{...n,state:"result",...t.artifact!==void 0?{artifact:t.artifact}:{},result:t.result,isError:t.isError??!1,status:{type:"complete",reason:"stop"}};throw new Error("Result chunk received but part is not a tool-call")}),Sv=(e,t)=>{var r,s;if(((r=e.status)==null?void 0:r.type)==="incomplete"&&((s=e.status)==null?void 0:s.reason)==="error")return e;const n=cP(t);return{...e,status:n}},cP=e=>e.finishReason==="tool-calls"?{type:"requires-action",reason:"tool-calls"}:e.finishReason==="stop"||e.finishReason==="unknown"?{type:"complete",reason:e.finishReason}:{type:"incomplete",reason:e.finishReason},dP=(e,t)=>({...e,metadata:{...e.metadata,unstable_annotations:[...e.metadata.unstable_annotations,...t.annotations]}}),fP=(e,t)=>({...e,metadata:{...e.metadata,unstable_data:[...e.metadata.unstable_data,...t.data]}}),hP=(e,t)=>({...e,metadata:{...e.metadata,steps:[...e.metadata.steps,{state:"started",messageId:t.messageId}]}}),pP=(e,t)=>{var s;const n=e.metadata.steps.slice(),r=n.length-1;return n.length>0&&((s=n[r])==null?void 0:s.state)==="started"?n[r]={...n[r],state:"finished",finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}:n.push({state:"finished",messageId:o_(),finishReason:t.finishReason,usage:t.usage,isContinued:t.isContinued}),{...e,metadata:{...e.metadata,steps:n}}},mP=(e,t)=>({...e,status:{type:"incomplete",reason:"error",error:t.error}}),gP=(e,t)=>{const n=new Mi(e.metadata.unstable_state);return n.append(t.operations),{...e,metadata:{...e.metadata,unstable_state:n.state}}},yP=e=>{let t=!1;return()=>{t||(t=!0,queueMicrotask(()=>{t=!1,e()}))}};class vP extends TransformStream{constructor({initialMessage:t,throttle:n,onError:r}={}){let s=t??sP(),o;const i=n?yP(()=>{o==null||o.enqueue(s)}):()=>{o==null||o.enqueue(s)};super({start(a){o=a},transform(a){const l=a.type;switch(l){case"part-start":s=oP(s,a);break;case"tool-call-args-text-finish":s=iP(s,a);break;case"part-finish":s=aP(s,a);break;case"text-delta":s=lP(s,a);break;case"result":s=uP(s,a);break;case"message-finish":s=Sv(s,a);break;case"annotations":s=dP(s,a);break;case"data":s=fP(s,a);break;case"step-start":s=hP(s,a);break;case"step-finish":s=pP(s,a);break;case"error":s=mP(s,a),r==null||r(a.error);break;case"update-state":s=gP(s,a);break;default:{const c=l;throw new Error(`Unsupported chunk type: ${c}`)}}i()},flush(a){var l,c;if(((l=s.status)==null?void 0:l.type)==="running"){const d=((c=s.parts)==null?void 0:c.some(h=>h.type==="tool-call"&&(h.state==="call"||h.state==="partial-call")&&h.result===void 0))??!1;s=Sv(s,{finishReason:d?"tool-calls":"unknown"}),a.enqueue(s)}}})}}class xP extends VI{constructor(){super(t=>{const n=new GI({transform(r,s){s.appendText(r)}});return t.pipeThrough(new TextDecoderStream).pipeThrough(n)})}}class Oi{constructor(t){P(this,"readable");this.readable=t,this.readable=t}static fromAssistantStream(t){return new Oi(t.pipeThrough(new vP))}async unstable_result(){let t;for await(const n of this)t=n;return t||{role:"assistant",status:{type:"complete",reason:"unknown"},parts:[],content:[],metadata:{unstable_state:null,unstable_data:[],unstable_annotations:[],steps:[],custom:{}}}}[Symbol.asyncIterator](){const t=this.readable.getReader();return{async next(){const{done:n,value:r}=await t.read();return n?{done:!0,value:void 0}:{done:!1,value:r}}}}tee(){const[t,n]=this.readable.tee();return[new Oi(t),new Oi(n)]}}const _v=Symbol.for("aui.tool-response");class mu{constructor(t){P(this,"artifact");P(this,"result");P(this,"isError");t.artifact!==void 0&&(this.artifact=t.artifact),this.result=t.result,this.isError=t.isError??!1}get[_v](){return!0}static[Symbol.hasInstance](t){return typeof t=="object"&&t!==null&&_v in t}static toResponse(t){return t instanceof mu?t:new mu({result:t===void 0?"<no result>":t})}}class Cv{constructor(t,n,r){P(this,"contentBinding");P(this,"messageApi");P(this,"threadApi");this.contentBinding=t,this.messageApi=n,this.threadApi=r,this.__internal_bindMethods()}get path(){return this.contentBinding.path}__internal_bindMethods(){this.addToolResult=this.addToolResult.bind(this),this.resumeToolCall=this.resumeToolCall.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this)}getState(){return this.contentBinding.getState()}addToolResult(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to add tool result to non-tool message part");if(!this.messageApi)throw new Error("Message API is not available. This is likely a bug in assistant-ui.");if(!this.threadApi)throw new Error("Thread API is not available");const r=this.messageApi.getState();if(!r)throw new Error("Message is not available");const s=n.toolName,o=n.toolCallId,i=mu.toResponse(t);this.threadApi.getState().addToolResult({messageId:r.id,toolName:s,toolCallId:o,result:i.result,artifact:i.artifact,isError:i.isError})}resumeToolCall(t){const n=this.contentBinding.getState();if(!n)throw new Error("Message part is not available");if(n.type!=="tool-call")throw new Error("Tried to resume tool call on non-tool message part");if(!this.threadApi)throw new Error("Thread API is not available");const r=n.toolCallId;this.threadApi.getState().resumeToolCall({toolCallId:r,payload:t})}subscribe(t){return this.contentBinding.subscribe(t)}}class gu extends Zu{constructor(n){super();P(this,"binding");this.binding=n}get path(){return this.binding.path}getState(){return this.binding.getState()}outerSubscribe(n){return this.binding.subscribe(n)}_connect(){const n=()=>{this.notifySubscribers()};let r=this.binding.getState(),s=r==null?void 0:r.subscribe(n);const o=()=>{var l;const a=this.binding.getState();a!==r&&(r=a,s==null||s(),s=(l=this.binding.getState())==null?void 0:l.subscribe(n),n())},i=this.outerSubscribe(o);return()=>{i==null||i(),s==null||s()}}}const Za=Object.freeze({type:"complete"}),wP=(e,t,n)=>{if(e.role!=="assistant")return Za;if(n.type==="tool-call")return n.result?Za:e.status;const r=t===Math.max(0,e.content.length-1);return e.status.type==="requires-action"?Za:r?e.status:Za},kv=(e,t)=>{const n=e.content[t];if(!n)return En;const r=wP(e,t,n);return Object.freeze({...n,[hu]:n[hu],status:r})};class bP{constructor(t,n){P(this,"_core");P(this,"_threadBinding");P(this,"composer");P(this,"_getEditComposerRuntimeCore",()=>this._threadBinding.getState().getEditComposer(this._core.getState().id));this._core=t,this._threadBinding=n,this.composer=new rP(new gu({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"edit"},getState:this._getEditComposerRuntimeCore,subscribe:r=>this._threadBinding.subscribe(r)}),()=>this._threadBinding.getState().beginEdit(this._core.getState().id)),this.__internal_bindMethods()}get path(){return this._core.path}__internal_bindMethods(){this.reload=this.reload.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getMessagePartByIndex=this.getMessagePartByIndex.bind(this),this.getMessagePartByToolCallId=this.getMessagePartByToolCallId.bind(this),this.getAttachmentByIndex=this.getAttachmentByIndex.bind(this),this.unstable_getCopyText=this.unstable_getCopyText.bind(this),this.speak=this.speak.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.submitFeedback=this.submitFeedback.bind(this),this.switchToBranch=this.switchToBranch.bind(this)}getState(){return this._core.getState()}reload(t={}){const n=this._getEditComposerRuntimeCore(),r=n??this._threadBinding.getState().composer,s=n??r,{runConfig:o=s.runConfig}=t,i=this._core.getState();if(i.role!=="assistant")throw new Error("Can only reload assistant messages");this._threadBinding.getState().startRun({parentId:i.parentId,sourceId:i.id,runConfig:o})}speak(){const t=this._core.getState();return this._threadBinding.getState().speak(t.id)}stopSpeaking(){var r;const t=this._core.getState();if(((r=this._threadBinding.getState().speech)==null?void 0:r.messageId)===t.id)this._threadBinding.getState().stopSpeaking();else throw new Error("Message is not being spoken")}submitFeedback({type:t}){const n=this._core.getState();this._threadBinding.getState().submitFeedback({messageId:n.id,type:t})}switchToBranch({position:t,branchId:n}){const r=this._core.getState();if(n&&t)throw new Error("May not specify both branchId and position");if(!n&&!t)throw new Error("Must specify either branchId or position");const o=this._threadBinding.getState().getBranches(r.id);let i=n;if(t==="previous"?i=o[r.branchNumber-2]:t==="next"&&(i=o[r.branchNumber]),!i)throw new Error("Branch not found");this._threadBinding.getState().switchToBranch(i)}unstable_getCopyText(){return pu(this.getState())}subscribe(t){return this._core.subscribe(t)}getMessagePartByIndex(t){if(t<0)throw new Error("Message part index must be >= 0");return new Cv(new xn({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.content[${t}]`,messagePartSelector:{type:"index",index:t}},getState:()=>kv(this.getState(),t),subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getMessagePartByToolCallId(t){return new Cv(new xn({path:{...this.path,ref:this.path.ref+`${this.path.ref}.content[toolCallId=${JSON.stringify(t)}]`,messagePartSelector:{type:"toolCallId",toolCallId:t}},getState:()=>{const n=this._core.getState(),r=n.content.findIndex(s=>s.type==="tool-call"&&s.toolCallId===t);return r===-1?En:kv(n,r)},subscribe:n=>this._core.subscribe(n)}),this._core,this._threadBinding)}getAttachmentByIndex(t){return new ZI(new xn({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.attachments[${t}]`,attachmentSource:"message",attachmentSelector:{type:"index",index:t}},getState:()=>{const n=this.getState().attachments,r=n==null?void 0:n[t];return r?{...r,source:"message"}:En},subscribe:n=>this._core.subscribe(n)}))}}const SP=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{},...e.stream?{stream:e.stream}:{}}),_P=e=>({parentId:e.parentId??null,sourceId:e.sourceId??null,runConfig:e.runConfig??{}}),CP=(e,t)=>{var n,r;return typeof t=="string"?{createdAt:new Date,parentId:((n=e.at(-1))==null?void 0:n.id)??null,sourceId:null,runConfig:{},role:"user",content:[{type:"text",text:t}],attachments:[],metadata:{custom:{}}}:{createdAt:t.createdAt??new Date,parentId:t.parentId??((r=e.at(-1))==null?void 0:r.id)??null,sourceId:t.sourceId??null,role:t.role??"user",content:t.content,attachments:t.attachments??[],metadata:t.metadata??{custom:{}},runConfig:t.runConfig??{},startRun:t.startRun}},kP=(e,t)=>{const n=e.messages.at(-1);return Object.freeze({threadId:t.id,metadata:t,capabilities:e.capabilities,isDisabled:e.isDisabled,isLoading:e.isLoading,isRunning:(n==null?void 0:n.role)!=="assistant"?!1:n.status.type==="running",messages:e.messages,state:e.state,suggestions:e.suggestions,extras:e.extras,speech:e.speech})};class h_{constructor(t,n){P(this,"_threadBinding");P(this,"composer");P(this,"_eventSubscriptionSubjects",new Map);const r=new xn({path:t.path,getState:()=>kP(t.getState(),n.getState()),subscribe:s=>{const o=t.subscribe(s),i=n.subscribe(s);return()=>{o(),i()}}});this._threadBinding={path:t.path,getState:()=>t.getState(),getStateState:()=>r.getState(),outerSubscribe:s=>t.outerSubscribe(s),subscribe:s=>t.subscribe(s)},this.composer=new nP(new gu({path:{...this.path,ref:`${this.path.ref}${this.path.ref}.composer`,composerSource:"thread"},getState:()=>this._threadBinding.getState().composer,subscribe:s=>this._threadBinding.subscribe(s)})),this.__internal_bindMethods()}get path(){return this._threadBinding.path}get __internal_threadBinding(){return this._threadBinding}__internal_bindMethods(){this.append=this.append.bind(this),this.unstable_resumeRun=this.unstable_resumeRun.bind(this),this.unstable_loadExternalState=this.unstable_loadExternalState.bind(this),this.importExternalState=this.importExternalState.bind(this),this.exportExternalState=this.exportExternalState.bind(this),this.startRun=this.startRun.bind(this),this.cancelRun=this.cancelRun.bind(this),this.stopSpeaking=this.stopSpeaking.bind(this),this.export=this.export.bind(this),this.import=this.import.bind(this),this.reset=this.reset.bind(this),this.getMessageByIndex=this.getMessageByIndex.bind(this),this.getMessageById=this.getMessageById.bind(this),this.subscribe=this.subscribe.bind(this),this.unstable_on=this.unstable_on.bind(this),this.getModelContext=this.getModelContext.bind(this),this.getModelConfig=this.getModelConfig.bind(this),this.getState=this.getState.bind(this)}getState(){return this._threadBinding.getStateState()}append(t){this._threadBinding.getState().append(CP(this._threadBinding.getState().messages,t))}subscribe(t){return this._threadBinding.subscribe(t)}getModelContext(){return this._threadBinding.getState().getModelContext()}getModelConfig(){return this.getModelContext()}startRun(t){const n=t===null||typeof t=="string"?{parentId:t}:t;return this._threadBinding.getState().startRun(_P(n))}unstable_resumeRun(t){return this._threadBinding.getState().resumeRun(SP(t))}exportExternalState(){return this._threadBinding.getState().exportExternalState()}importExternalState(t){this._threadBinding.getState().importExternalState(t)}unstable_loadExternalState(t){this._threadBinding.getState().unstable_loadExternalState(t)}cancelRun(){this._threadBinding.getState().cancelRun()}stopSpeaking(){return this._threadBinding.getState().stopSpeaking()}export(){return this._threadBinding.getState().export()}import(t){this._threadBinding.getState().import(t)}reset(t){this._threadBinding.getState().reset(t)}getMessageByIndex(t){if(t<0)throw new Error("Message index must be >= 0");return this._getMessageRuntime({...this.path,ref:`${this.path.ref}${this.path.ref}.messages[${t}]`,messageSelector:{type:"index",index:t}},()=>{var s;const n=this._threadBinding.getState().messages,r=n[t];if(r)return{message:r,parentId:((s=n[t-1])==null?void 0:s.id)??null,index:t}})}getMessageById(t){return this._getMessageRuntime({...this.path,ref:this.path.ref+`${this.path.ref}.messages[messageId=${JSON.stringify(t)}]`,messageSelector:{type:"messageId",messageId:t}},()=>this._threadBinding.getState().getMessageById(t))}_getMessageRuntime(t,n){return new bP(new xn({path:t,getState:()=>{var h;const{message:r,parentId:s,index:o}=n()??{},{messages:i,speech:a}=this._threadBinding.getState();if(!r||s===void 0||o===void 0)return En;const c=this._threadBinding.getState().getBranches(r.id),d=r.metadata.submittedFeedback;return{...r,[hu]:r[hu],index:o,isLast:((h=i.at(-1))==null?void 0:h.id)===r.id,parentId:s,branchNumber:c.indexOf(r.id)+1,branchCount:c.length,speech:(a==null?void 0:a.messageId)===r.id?a:void 0,submittedFeedback:d}},subscribe:r=>this._threadBinding.subscribe(r)}),this._threadBinding)}unstable_on(t,n){let r=this._eventSubscriptionSubjects.get(t);return r||(r=new u_({event:t,binding:this._threadBinding}),this._eventSubscriptionSubjects.set(t,r)),r.subscribe(n)}}const EP=e=>({mainThreadId:e.mainThreadId,newThreadId:e.newThreadId,threadIds:e.threadIds,archivedThreadIds:e.archivedThreadIds,isLoading:e.isLoading,threadItems:e.threadItems}),el=(e,t)=>{if(t===void 0)return En;const n=e.getItemById(t);return n?{id:n.id,remoteId:n.remoteId,externalId:n.externalId,title:n.title,status:n.status,isMain:n.id===e.mainThreadId}:En};class p_{constructor(t,n=h_){P(this,"_core");P(this,"_runtimeFactory");P(this,"_getState");P(this,"_mainThreadListItemRuntime");P(this,"main");this._core=t,this._runtimeFactory=n;const r=new Np({path:{},getState:()=>EP(t),subscribe:s=>t.subscribe(s)});this._getState=r.getState.bind(r),this._mainThreadListItemRuntime=new Ja(new xn({path:{ref:"threadItems[main]",threadSelector:{type:"main"}},getState:()=>el(this._core,this._core.mainThreadId),subscribe:s=>this._core.subscribe(s)}),this._core),this.main=new n(new gu({path:{ref:"threads.main",threadSelector:{type:"main"}},getState:()=>t.getMainThreadRuntimeCore(),subscribe:s=>t.subscribe(s)}),this._mainThreadListItemRuntime),this.__internal_bindMethods()}__internal_bindMethods(){this.switchToThread=this.switchToThread.bind(this),this.switchToNewThread=this.switchToNewThread.bind(this),this.getState=this.getState.bind(this),this.subscribe=this.subscribe.bind(this),this.getById=this.getById.bind(this),this.getItemById=this.getItemById.bind(this),this.getItemByIndex=this.getItemByIndex.bind(this),this.getArchivedItemByIndex=this.getArchivedItemByIndex.bind(this)}switchToThread(t){return this._core.switchToThread(t)}switchToNewThread(){return this._core.switchToNewThread()}getState(){return this._getState()}subscribe(t){return this._core.subscribe(t)}get mainItem(){return this._mainThreadListItemRuntime}getById(t){return new this._runtimeFactory(new gu({path:{ref:`threads[threadId=${JSON.stringify(t)}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>this._core.getThreadRuntimeCore(t),subscribe:n=>this._core.subscribe(n)}),this.mainItem)}getItemByIndex(t){return new Ja(new xn({path:{ref:`threadItems[${t}]`,threadSelector:{type:"index",index:t}},getState:()=>el(this._core,this._core.threadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getArchivedItemByIndex(t){return new Ja(new xn({path:{ref:`archivedThreadItems[${t}]`,threadSelector:{type:"archiveIndex",index:t}},getState:()=>el(this._core,this._core.archivedThreadIds[t]),subscribe:n=>this._core.subscribe(n)}),this._core)}getItemById(t){return new Ja(new xn({path:{ref:`threadItems[threadId=${t}]`,threadSelector:{type:"threadId",threadId:t}},getState:()=>el(this._core,t),subscribe:n=>this._core.subscribe(n)}),this._core)}}const TP=e=>e.startsWith("image/")?"image":e.startsWith("text/")?"document":"file";class RP{constructor(t){P(this,"cloud");P(this,"accept","*");P(this,"uploadedUrls",new Map);this.cloud=t}async*add({file:t}){const n=crypto.randomUUID(),r=TP(t.type);let s={id:n,type:r,name:t.name,contentType:t.type,file:t,status:{type:"running",reason:"uploading",progress:0}};yield s;try{const{signedUrl:o,publicUrl:i}=await this.cloud.files.generatePresignedUploadUrl({filename:t.name});await fetch(o,{method:"PUT",body:t,headers:{"Content-Type":t.type},mode:"cors"}),this.uploadedUrls.set(n,i),s={...s,status:{type:"requires-action",reason:"composer-send"}},yield s}catch{s={...s,status:{type:"incomplete",reason:"error"}},yield s}}async remove(t){this.uploadedUrls.delete(t.id)}async send(t){const n=this.uploadedUrls.get(t.id);if(!n)throw new Error("Attachment not uploaded");this.uploadedUrls.delete(t.id);let r;return t.type==="image"?r=[{type:"image",image:n,filename:t.name}]:r=[{type:"file",data:n,mimeType:t.contentType,filename:t.name}],{...t,status:{type:"complete"},content:r}}}const Wf=f.createContext(null),m_=({adapters:e,children:t})=>{const n=f.useContext(Wf);return u.jsx(Wf.Provider,{value:{...n,...e},children:t})},NP=()=>f.useContext(Wf);class IP extends XS{constructor(n,r,{parentId:s,message:o}){super();P(this,"runtime");P(this,"endEditCallback");P(this,"_nonTextParts");P(this,"_previousText");P(this,"_parentId");P(this,"_sourceId");this.runtime=n,this.endEditCallback=r,this._parentId=s,this._sourceId=o.id,this._previousText=pu(o),this.setText(this._previousText),this.setRole(o.role),this.setAttachments(o.attachments??[]),this._nonTextParts=o.content.filter(i=>i.type!=="text"),this.setRunConfig({...n.composer.runConfig})}get canCancel(){return!0}getAttachmentAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.attachments}getDictationAdapter(){var n;return(n=this.runtime.adapters)==null?void 0:n.dictation}async handleSend(n){pu(n)!==this._previousText&&this.runtime.append({...n,content:[...n.content,...this._nonTextParts],parentId:this._parentId,sourceId:this._sourceId}),this.handleCancel()}handleCancel(){this.endEditCallback(),this._notifySubscribers()}}class PP{constructor(t){P(this,"_contextProvider");P(this,"_subscriptions",new Set);P(this,"_isInitialized",!1);P(this,"repository",new i_);P(this,"composer",new QS(this));P(this,"_editComposers",new Map);P(this,"_stopSpeaking");P(this,"speech");P(this,"_eventSubscribers",new Map);this._contextProvider=t}get messages(){return this.repository.getMessages()}get state(){let t;for(const n of this.messages)if(n.role==="assistant"){t=n;break}return(t==null?void 0:t.metadata.unstable_state)??null}getModelContext(){return this._contextProvider.getModelContext()}getEditComposer(t){return this._editComposers.get(t)}beginEdit(t){if(this._editComposers.has(t))throw new Error("Edit already in progress");this._editComposers.set(t,new IP(this,()=>this._editComposers.delete(t),this.repository.getMessage(t))),this._notifySubscribers()}getMessageById(t){try{return this.repository.getMessage(t)}catch{return}}getBranches(t){return this.repository.getBranches(t)}switchToBranch(t){this.repository.switchToBranch(t),this._notifySubscribers()}_notifySubscribers(){for(const t of this._subscriptions)t()}_notifyEventSubscribers(t){const n=this._eventSubscribers.get(t);if(n)for(const r of n)r()}subscribe(t){return this._subscriptions.add(t),()=>this._subscriptions.delete(t)}submitFeedback({messageId:t,type:n}){var i;const r=(i=this.adapters)==null?void 0:i.feedback;if(!r)throw new Error("Feedback adapter not configured");const{message:s,parentId:o}=this.repository.getMessage(t);if(r.submit({message:s,type:n}),s.role==="assistant"){const a={...s,metadata:{...s.metadata,submittedFeedback:{type:n}}};this.repository.addOrUpdateMessage(o,a)}this._notifySubscribers()}speak(t){var i,a;const n=(i=this.adapters)==null?void 0:i.speech;if(!n)throw new Error("Speech adapter not configured");const{message:r}=this.repository.getMessage(t);(a=this._stopSpeaking)==null||a.call(this);const s=n.speak(pu(r)),o=s.subscribe(()=>{s.status.type==="ended"?(this._stopSpeaking=void 0,this.speech=void 0):this.speech={messageId:t,status:s.status},this._notifySubscribers()});this.speech={messageId:t,status:s.status},this._notifySubscribers(),this._stopSpeaking=()=>{s.cancel(),o(),this.speech=void 0,this._stopSpeaking=void 0}}stopSpeaking(){if(!this._stopSpeaking)throw new Error("No message is being spoken");this._stopSpeaking(),this._notifySubscribers()}ensureInitialized(){this._isInitialized||(this._isInitialized=!0,this._notifyEventSubscribers("initialize"))}export(){return this.repository.export()}import(t){this.ensureInitialized(),this.repository.clear(),this.repository.import(t),this._notifySubscribers()}reset(t){this.import(Rp.fromArray(t??[]))}unstable_on(t,n){var s,o;if(t==="modelContextUpdate")return((o=(s=this._contextProvider).subscribe)==null?void 0:o.call(s,n))??(()=>{});const r=this._eventSubscribers.get(t);return r?r.add(n):this._eventSubscribers.set(t,new Set([n])),()=>{this._eventSubscribers.get(t).delete(n)}}}class AP{list(){return Promise.resolve({threads:[]})}rename(){return Promise.resolve()}archive(){return Promise.resolve()}unarchive(){return Promise.resolve()}delete(){return Promise.resolve()}initialize(t){return Promise.resolve({remoteId:t,externalId:void 0})}generateTitle(){return Promise.resolve(new ReadableStream)}fetch(t){return Promise.reject(new Error("Thread not found"))}}const Ev=(e,t)=>{var n,r;return t===void 0?((n=e.status)==null?void 0:n.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result):((r=e.status)==null?void 0:r.type)==="requires-action"&&e.status.reason==="tool-calls"&&e.content.every(s=>s.type!=="tool-call"||!!s.result||!t.includes(s.toolName))};class md extends Error{constructor(n,r){super(r);P(this,"name","AbortError");P(this,"detach");this.detach=n}}class jP extends PP{constructor(n,r){super(n);P(this,"capabilities",{switchToBranch:!0,switchBranchDuringRun:!0,edit:!0,reload:!0,cancel:!0,unstable_copy:!0,speech:!1,dictation:!1,attachments:!1,feedback:!1});P(this,"abortController",null);P(this,"isDisabled",!1);P(this,"_isLoading",!1);P(this,"_suggestions",[]);P(this,"_suggestionsController",null);P(this,"_options");P(this,"_lastRunConfig",{});P(this,"_getThreadId");P(this,"_getInitializePromise");P(this,"_loadPromise");this.__internal_setOptions(r)}get isLoading(){return this._isLoading}get suggestions(){return this._suggestions}get adapters(){return this._options.adapters}__internal_setGetThreadId(n){this._getThreadId=n}__internal_setGetInitializePromise(n){this._getInitializePromise=n}get extras(){}__internal_setOptions(n){var l,c,d,h;if(this._options===n)return;this._options=n;let r=!1;const s=((l=n.adapters)==null?void 0:l.speech)!==void 0;this.capabilities.speech!==s&&(this.capabilities.speech=s,r=!0);const o=((c=n.adapters)==null?void 0:c.dictation)!==void 0;this.capabilities.dictation!==o&&(this.capabilities.dictation=o,r=!0);const i=((d=n.adapters)==null?void 0:d.attachments)!==void 0;this.capabilities.attachments!==i&&(this.capabilities.attachments=i,r=!0);const a=((h=n.adapters)==null?void 0:h.feedback)!==void 0;this.capabilities.feedback!==a&&(this.capabilities.feedback=a,r=!0),r&&this._notifySubscribers()}__internal_load(){var r;if(this._loadPromise)return this._loadPromise;const n=((r=this.adapters.history)==null?void 0:r.load())??Promise.resolve(null);return this._isLoading=!0,this._notifySubscribers(),this._loadPromise=n.then(s=>{var i,a;if(!s)return;this.repository.import(s),s.messages.length>0&&this.ensureInitialized(),this._notifySubscribers();const o=(a=(i=this.adapters.history)==null?void 0:i.resume)==null?void 0:a.bind(this.adapters.history);s.unstable_resume&&o&&this.startRun({parentId:this.repository.headId,sourceId:this.repository.headId,runConfig:this._lastRunConfig},o)}).finally(()=>{this._isLoading=!1,this._notifySubscribers()}),this._loadPromise}async append(n){var i,a;this.ensureInitialized();const r=(i=this._getInitializePromise)==null?void 0:i.call(this);r&&await r;const s=ba(n,Rs(),{type:"complete",reason:"unknown"});this.repository.addOrUpdateMessage(n.parentId,s),(a=this._options.adapters.history)==null||a.append({parentId:n.parentId,message:s,...n.runConfig!==void 0&&{runConfig:n.runConfig}}),n.startRun??n.role==="user"?await this.startRun({parentId:s.id,sourceId:n.sourceId,runConfig:n.runConfig??{}}):(this.repository.resetHead(s.id),this._notifySubscribers())}resumeRun({stream:n,...r}){if(!n)throw new Error("You must pass a stream parameter to resume runs.");return this.startRun(r,n)}exportExternalState(){throw new Error("Runtime does not support exporting external states.")}importExternalState(){throw new Error("Runtime does not support importing external states.")}unstable_loadExternalState(){throw new Error("Runtime does not support importing external states.")}async startRun({parentId:n,runConfig:r},s){var l,c,d;this.ensureInitialized();let i={id:Rs(),role:"assistant",status:{type:"running"},content:[],metadata:{unstable_state:this.state,unstable_annotations:[],unstable_data:[],steps:[],custom:{}},createdAt:new Date};this._notifyEventSubscribers("runStart");try{this._suggestions=[],(l=this._suggestionsController)==null||l.abort(),this._suggestionsController=null,this._notifySubscribers();do i=await this.performRoundtrip(n,i,r,s),s=void 0;while(Ev(i,this._options.unstable_humanToolNames))}finally{this._notifyEventSubscribers("runEnd")}this._suggestionsController=new AbortController;const a=this._suggestionsController.signal;if(this.adapters.suggestion&&((c=i.status)==null?void 0:c.type)!=="requires-action"){const h=(d=this.adapters.suggestion)==null?void 0:d.generate({messages:this.messages});if(Symbol.asyncIterator in h)for await(const p of h){if(a.aborted)break;this._suggestions=p,this._notifySubscribers()}else{const p=await h;if(a.aborted)return;this._suggestions=p,this._notifySubscribers()}}}async performRoundtrip(n,r,s,o){var y,b,g,x,w,C,R,S,T;const i=n?this.repository.getMessages(n):[];(y=this.abortController)==null||y.abort(),this.abortController=new AbortController;const a=r.content,l=(b=r.metadata)==null?void 0:b.unstable_annotations,c=(g=r.metadata)==null?void 0:g.unstable_data,d=(x=r.metadata)==null?void 0:x.steps,h=(w=r.metadata)==null?void 0:w.custom,p=N=>{var W,H,G,j;const M=(W=N.metadata)==null?void 0:W.steps,A=M?[...d??[],...M]:void 0,L=(H=N.metadata)==null?void 0:H.unstable_annotations,I=(G=N.metadata)==null?void 0:G.unstable_data,V=L?[...l??[],...L]:void 0,$=I?[...c??[],...I]:void 0;r={...r,...N.content?{content:[...a,...N.content??[]]}:void 0,status:N.status??r.status,...N.metadata?{metadata:{...r.metadata,...N.metadata.unstable_state?{unstable_state:N.metadata.unstable_state}:void 0,...V?{unstable_annotations:V}:void 0,...$?{unstable_data:$}:void 0,...A?{steps:A}:void 0,...(j=N.metadata)!=null&&j.custom?{custom:{...h??{},...N.metadata.custom}}:void 0}}:void 0},this.repository.addOrUpdateMessage(n,r),this._notifySubscribers()},m=this._options.maxSteps??2;if((((R=(C=r.metadata)==null?void 0:C.steps)==null?void 0:R.length)??0)>=m)return p({status:{type:"incomplete",reason:"tool-calls"}}),r;p({status:{type:"running"}}),this.repository.resetHead(r.id),this._notifySubscribers();try{this._lastRunConfig=s??{};const N=this.getModelContext();o=o??this.adapters.chatModel.run.bind(this.adapters.chatModel);const M=this.abortController.signal,A=(S=this._getThreadId)==null?void 0:S.call(this),L=o({messages:i,runConfig:this._lastRunConfig,abortSignal:M,context:N,config:N,unstable_assistantMessageId:r.id,unstable_threadId:A,unstable_parentId:n,unstable_getMessage(){return r}});if(Symbol.asyncIterator in L)for await(const I of L){if(M.aborted){p({status:{type:"incomplete",reason:"cancelled"}});break}p(I)}else p(await L);r.status.type==="running"&&p({status:{type:"complete",reason:"unknown"}})}catch(N){if(N instanceof md)p({status:{type:"incomplete",reason:"cancelled"}});else if(N instanceof Error&&N.name==="AbortError")p({status:{type:"incomplete",reason:"cancelled"}});else throw p({status:{type:"incomplete",reason:"error",error:N instanceof Error?N.message:`[${typeof N}] ${new String(N).toString()}`}}),N}finally{this.abortController=null,(r.status.type==="complete"||r.status.type==="incomplete")&&await((T=this._options.adapters.history)==null?void 0:T.append({parentId:n,message:r,runConfig:this._lastRunConfig}))}return r}detach(){var r;const n=new md(!0);(r=this.abortController)==null||r.abort(n),this.abortController=null}cancelRun(){var r;const n=new md(!1);(r=this.abortController)==null||r.abort(n),this.abortController=null}addToolResult({messageId:n,toolCallId:r,result:s,isError:o,artifact:i}){const a=this.repository.getMessage(n),{parentId:l}=a;let{message:c}=a;if(c.role!=="assistant")throw new Error("Tried to add tool result to non-assistant message");let d=!1,h=!1;const p=c.content.map(m=>m.type!=="tool-call"||m.toolCallId!==r?m:(h=!0,m.result||(d=!0),{...m,result:s,artifact:i,isError:o}));if(!h)throw new Error("Tried to add tool result to non-existing tool call");c={...c,content:p},this.repository.addOrUpdateMessage(l,c),d&&Ev(c,this._options.unstable_humanToolNames)&&this.performRoundtrip(l,c,this._lastRunConfig)}resumeToolCall(n){throw new Error("Local runtime does not support resuming tool calls.")}}const Tv=Object.freeze([]),Kf="__DEFAULT_ID__",MP=Object.freeze({[Kf]:{id:Kf,remoteId:void 0,externalId:void 0,status:"regular",title:void 0}});class OP extends wa{constructor(n){super();P(this,"_mainThread");this._mainThread=n()}get isLoading(){return!1}getMainThreadRuntimeCore(){return this._mainThread}get newThreadId(){throw new Error("Method not implemented.")}get threadIds(){throw Tv}get archivedThreadIds(){throw Tv}get mainThreadId(){return Kf}get threadItems(){return MP}getThreadRuntimeCore(){throw new Error("Method not implemented.")}getLoadThreadsPromise(){throw new Error("Method not implemented.")}getItemById(n){if(n===this.mainThreadId)return{status:"regular",id:this.mainThreadId,remoteId:this.mainThreadId,externalId:void 0,title:void 0,isMain:!0};throw new Error("Method not implemented")}async switchToThread(){throw new Error("Method not implemented.")}switchToNewThread(){throw new Error("Method not implemented.")}rename(){throw new Error("Method not implemented.")}archive(){throw new Error("Method not implemented.")}detach(){throw new Error("Method not implemented.")}unarchive(){throw new Error("Method not implemented.")}delete(){throw new Error("Method not implemented.")}initialize(n){return Promise.resolve({remoteId:n,externalId:void 0})}generateTitle(){throw new Error("Method not implemented.")}}class LP extends kp{constructor(n,r){super();P(this,"threads");P(this,"Provider");P(this,"_options");this._options=n,this.threads=new OP(()=>new jP(this._contextProvider,this._options)),r&&this.threads.getMainThreadRuntimeCore().import(Rp.fromArray(r))}}const Rv=e=>{try{const n=e.split(".")[1];if(!n)throw new Error("Invalid JWT format");let r=n.replace(/-/g,"+").replace(/_/g,"/");for(;r.length%4!==0;)r+="=";const s=atob(r),i=JSON.parse(s).exp;if(!i||typeof i!="number")throw new Error('JWT does not contain a valid "exp" field');return i*1e3}catch(t){throw new Error(`Unable to determine the token expiry: ${t}`)}};var da;class g_{constructor(t){P(this,"strategy","jwt");P(this,"cachedToken",null);P(this,"tokenExpiry",null);ri(this,da);si(this,da,t)}async getAuthHeaders(){const t=Date.now();if(this.cachedToken&&this.tokenExpiry&&this.tokenExpiry-t>30*1e3)return{Authorization:`Bearer ${this.cachedToken}`};const n=await ni(this,da).call(this);return n?(this.cachedToken=n,this.tokenExpiry=Rv(n),{Authorization:`Bearer ${n}`}):!1}readAuthHeaders(t){const n=t.get("Authorization");if(!n)return;const[r,s]=n.split(" ");if(r!=="Bearer"||!s)throw new Error("Invalid auth header received");this.cachedToken=s,this.tokenExpiry=Rv(s)}}da=new WeakMap;var fa,ha,pa;class DP{constructor(t,n,r){P(this,"strategy","api-key");ri(this,fa);ri(this,ha);ri(this,pa);si(this,fa,t),si(this,ha,n),si(this,pa,r)}async getAuthHeaders(){return{Authorization:`Bearer ${ni(this,fa)}`,"Aui-User-Id":ni(this,ha),"Aui-Workspace-Id":ni(this,pa)}}readAuthHeaders(){}}fa=new WeakMap,ha=new WeakMap,pa=new WeakMap;const tl="aui:refresh_token";class FP{constructor(t){P(this,"strategy","anon");P(this,"baseUrl");P(this,"jwtStrategy");this.baseUrl=t,this.jwtStrategy=new g_(async()=>{const n=Date.now(),r=localStorage.getItem(tl),s=r?JSON.parse(r):void 0;if(s)if(new Date(s.expires_at).getTime()-n>30*1e3){const d=await fetch(`${this.baseUrl}/v1/auth/tokens/refresh`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({refresh_token:s.token})});if(d.ok){const h=await d.json(),{access_token:p,refresh_token:m}=h;return m&&localStorage.setItem(tl,JSON.stringify(m)),p}}else localStorage.removeItem(tl);const o=await fetch(`${this.baseUrl}/v1/auth/tokens/anonymous`,{method:"POST"});if(!o.ok)return null;const i=await o.json(),{access_token:a,refresh_token:l}=i;return!a||!l?null:(localStorage.setItem(tl,JSON.stringify(l)),a)})}async getAuthHeaders(){return this.jwtStrategy.getAuthHeaders()}readAuthHeaders(t){this.jwtStrategy.readAuthHeaders(t)}}class zP extends Error{constructor(t){super(t),this.name="APIError"}}class BP{constructor(t){P(this,"_auth");P(this,"_baseUrl");if("authToken"in t)this._baseUrl=t.baseUrl,this._auth=new g_(t.authToken);else if("apiKey"in t)this._baseUrl="https://backend.assistant-api.com",this._auth=new DP(t.apiKey,t.userId,t.workspaceId);else if("anonymous"in t)this._baseUrl=t.baseUrl,this._auth=new FP(t.baseUrl);else throw new Error("Invalid configuration: Must provide authToken, apiKey, or anonymous configuration")}async initializeAuth(){return!!this._auth.getAuthHeaders()}async makeRawRequest(t,n={}){const r=await this._auth.getAuthHeaders();if(!r)throw new Error("Authorization failed");const s={...r,...n.headers,"Content-Type":"application/json"},o=new URLSearchParams;if(n.query)for(const[l,c]of Object.entries(n.query))c!==!1&&(c===!0?o.set(l,"true"):o.set(l,c.toString()));const i=new URL(`${this._baseUrl}/v1${t}`);i.search=o.toString();const a=await fetch(i,{method:n.method??"GET",headers:s,body:n.body?JSON.stringify(n.body):null});if(this._auth.readAuthHeaders(a.headers),!a.ok){const l=await a.text();try{const c=JSON.parse(l);throw new zP(c.message)}catch{throw new Error(`Request failed with status ${a.status}, ${l}`)}}return a}async makeRequest(t,n={}){return(await this.makeRawRequest(t,n)).json()}}class $P{constructor(t){P(this,"cloud");this.cloud=t}async create(){return this.cloud.makeRequest("/auth/tokens",{method:"POST"})}}class UP{constructor(t){P(this,"cloud");this.cloud=t}__internal_getAssistantOptions(t){return{api:`${this.cloud._baseUrl}/v1/runs/stream`,headers:async()=>{const n=await this.cloud._auth.getAuthHeaders();if(!n)throw new Error("Authorization failed");return{...n,Accept:"text/plain"}},body:{assistant_id:t,response_format:"vercel-ai-data-stream/v1",thread_id:"unstable_todo"}}}async stream(t){const n=await this.cloud.makeRawRequest("/runs/stream",{method:"POST",headers:{Accept:"text/plain"},body:t});return Vf.fromResponse(n,new xP)}}class HP{constructor(t){P(this,"cloud");this.cloud=t}async list(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{query:n})}async create(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}/messages`,{method:"POST",body:n})}}class VP{constructor(t){P(this,"cloud");P(this,"messages");this.cloud=t,this.messages=new HP(t)}async list(t){return this.cloud.makeRequest("/threads",{query:t})}async get(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`)}async create(t){return this.cloud.makeRequest("/threads",{method:"POST",body:t})}async update(t,n){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"PUT",body:n})}async delete(t){return this.cloud.makeRequest(`/threads/${encodeURIComponent(t)}`,{method:"DELETE"})}}class WP{constructor(t){P(this,"cloud");this.cloud=t}async pdfToImages(t){return this.cloud.makeRequest("/files/pdf-to-images",{method:"POST",body:t})}async generatePresignedUploadUrl(t){return this.cloud.makeRequest("/files/attachments/generate-presigned-upload-url",{method:"POST",body:t})}}class KP{constructor(t){P(this,"threads");P(this,"auth");P(this,"runs");P(this,"files");const n=new BP(t);this.threads=new VP(n),this.auth={tokens:new $P(n)},this.runs=new UP(n),this.files=new WP(n)}}function qf(e,t=0){return t>100?!1:e===null||typeof e=="string"||typeof e=="boolean"?!0:typeof e=="number"?!Number.isNaN(e)&&Number.isFinite(e):Array.isArray(e)?e.every(n=>qf(n,t+1)):typeof e=="object"?Object.entries(e).every(([n,r])=>typeof n=="string"&&qf(r,t+1)):!1}const qP=e=>{var t;return{role:e.role,content:e.content.map(n=>{const r=n.type;switch(r){case"text":return{type:"text",text:n.text};case"reasoning":return{type:"reasoning",text:n.text};case"source":return{type:"source",sourceType:n.sourceType,id:n.id,url:n.url,...n.title?{title:n.title}:void 0};case"tool-call":return qf(n.result)||console.warn(`tool-call result is not JSON! ${JSON.stringify(n)}`),{type:"tool-call",toolCallId:n.toolCallId,toolName:n.toolName,...JSON.stringify(n.args)===n.argsText?{args:n.args}:{argsText:n.argsText},...n.result?{result:n.result}:{},...n.isError?{isError:!0}:{}};case"image":return{type:"image",image:n.image};case"file":return{type:"file",data:n.data,mimeType:n.mimeType,...n.filename?{filename:n.filename}:void 0};default:{const s=r;throw new Error(`Message part type not supported by aui/v0: ${s}`)}}}),metadata:e.metadata,...e.status?{status:((t=e.status)==null?void 0:t.type)==="running"?{type:"incomplete",reason:"cancelled"}:e.status}:void 0}},GP=e=>{const t=e.content,n=ba({id:e.id,createdAt:e.created_at,...t},e.id,{type:"complete",reason:"unknown"});return{parentId:e.parent_id,message:n}},gd=new WeakMap;class YP{constructor(t,n){P(this,"parent");P(this,"formatAdapter");this.parent=t,this.formatAdapter=n}async append(t){const n=this.formatAdapter.encode(t),r=this.formatAdapter.getId(t.message);return this.parent._appendWithFormat(t.parentId,r,this.formatAdapter.format,n)}async load(){return this.parent._loadWithFormat(this.formatAdapter.format,t=>this.formatAdapter.decode(t))}}class XP{constructor(t,n){P(this,"cloudRef");P(this,"aui");this.cloudRef=t,this.aui=n}get _getIdForLocalId(){return gd.has(this.aui.threadListItem())||gd.set(this.aui.threadListItem(),{}),gd.get(this.aui.threadListItem())}withFormat(t){return new YP(this,t)}async append({parentId:t,message:n}){const{remoteId:r}=await this.aui.threadListItem().initialize(),s=this.cloudRef.current.threads.messages.create(r,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:"aui/v0",content:qP(n)}).then(({message_id:o})=>(this._getIdForLocalId[n.id]=o,o));return this._getIdForLocalId[n.id]=s,s.then(()=>{})}async load(){const t=this.aui.threadListItem().getState().remoteId;if(!t)return{messages:[]};const{messages:n}=await this.cloudRef.current.threads.messages.list(t,{format:"aui/v0"});return{messages:n.filter(s=>s.format==="aui/v0").map(GP).reverse()}}async _appendWithFormat(t,n,r,s){const{remoteId:o}=await this.aui.threadListItem().initialize(),i=this.cloudRef.current.threads.messages.create(o,{parent_id:t?await this._getIdForLocalId[t]??t:null,format:r,content:s}).then(({message_id:a})=>(this._getIdForLocalId[n]=a,a));return this._getIdForLocalId[n]=i,i.then(()=>{})}async _loadWithFormat(t,n){const r=this.aui.threadListItem().getState().remoteId;if(!r)return{messages:[]};const{messages:s}=await this.cloudRef.current.threads.messages.list(r,{format:t});return{messages:s.filter(o=>o.format===t).map(o=>n({id:o.id,parent_id:o.parent_id,format:o.format,content:o.content})).reverse()}}}const QP=e=>{const t=pe(),[n]=f.useState(()=>new XP(e,t));return n};var pw;const Nv=typeof process<"u"&&((pw=process==null?void 0:process.env)==null?void 0:pw.NEXT_PUBLIC_ASSISTANT_BASE_URL),yd=Nv?new KP({baseUrl:Nv,anonymous:!0}):void 0,JP=e=>{const t=f.useRef(e);f.useEffect(()=>{t.current=e},[e]);const n=f.useCallback(function({children:o}){const i=QP({get current(){return t.current.cloud??yd}}),a=t.current.cloud??yd,l=f.useMemo(()=>new RP(a),[a]),c=f.useMemo(()=>({history:i,attachments:l}),[i,l]);return u.jsx(m_,{adapters:c,children:o})},[]),r=e.cloud??yd;return r?{list:async()=>{const{threads:s}=await r.threads.list();return{threads:s.map(o=>({status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}))}},initialize:async()=>{var l;const o=await(((l=e.create)==null?void 0:l.call(e))??Promise.resolve()),i=o?o.externalId:void 0,{thread_id:a}=await r.threads.create({last_message_at:new Date,external_id:i});return{externalId:i,remoteId:a}},rename:async(s,o)=>r.threads.update(s,{title:o}),archive:async s=>r.threads.update(s,{is_archived:!0}),unarchive:async s=>r.threads.update(s,{is_archived:!1}),delete:async s=>{var o;return await((o=e.delete)==null?void 0:o.call(e,s)),r.threads.delete(s)},generateTitle:async(s,o)=>{const i=o.map(a=>({...a,content:a.content.filter(l=>l.type==="text"||l.type==="tool-call")}));return r.runs.stream({thread_id:s,assistant_id:"system/thread_title",messages:i})},fetch:async s=>{const o=await r.threads.get(s);return{status:o.is_archived?"archived":"regular",remoteId:o.id,title:o.title,externalId:o.external_id??void 0}},unstable_Provider:n}:new AP},ZP=(e,{initialMessages:t,...n})=>{const{modelContext:r,...s}=NP()??{},o={...n,adapters:{...s,...n.adapters,chatModel:e}},[i]=f.useState(()=>new LP(o,t)),a=f.useRef(void 0);return a.current=ee(({threadListItem:l})=>l.remoteId),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setGetThreadId(()=>a.current)},[i]),f.useEffect(()=>()=>{i.threads.getMainThreadRuntimeCore().detach()},[i]),f.useEffect(()=>{i.threads.getMainThreadRuntimeCore().__internal_setOptions(o),i.threads.getMainThreadRuntimeCore().__internal_load()}),f.useEffect(()=>{if(r)return i.registerModelContextProvider(r)},[r,i]),f.useMemo(()=>new Ip(i),[i])},eA=(e,{cloud:t,...n}={})=>{const r=JP({cloud:t});return UA({runtimeHook:function(){return ZP(e,n)},adapter:r,allowNesting:!0})};class Ip{constructor(t){P(this,"_core");P(this,"threads");P(this,"_thread");this._core=t,this.threads=new p_(t.threads),this._thread=this.threads.main,this.__internal_bindMethods()}get threadList(){return this.threads}__internal_bindMethods(){this.switchToNewThread=this.switchToNewThread.bind(this),this.switchToThread=this.switchToThread.bind(this),this.registerModelContextProvider=this.registerModelContextProvider.bind(this),this.registerModelConfigProvider=this.registerModelConfigProvider.bind(this),this.reset=this.reset.bind(this)}get thread(){return this._thread}switchToNewThread(){return this._core.threads.switchToNewThread()}switchToThread(t){return this._core.threads.switchToThread(t)}registerModelContextProvider(t){return this._core.registerModelContextProvider(t)}registerModelConfigProvider(t){return this.registerModelContextProvider(t)}reset({initialMessages:t}={}){return this._core.threads.getMainThreadRuntimeCore().import(Rp.fromArray(t??[]))}}function We(e){const t=f.useRef(e);return f.useEffect(()=>{t.current=e}),f.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}const Iv=e=>{let t;const n=new Set,r=(c,d)=>{const h=typeof c=="function"?c(t):c;if(!Object.is(h,t)){const p=t;t=d??(typeof h!="object"||h===null)?h:Object.assign({},t,h),n.forEach(m=>m(t,p))}},s=()=>t,a={setState:r,getState:s,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=t=e(r,s,a);return a},tA=e=>e?Iv(e):Iv,nA=e=>e;function rA(e,t=nA){const n=we.useSyncExternalStore(e.subscribe,we.useCallback(()=>t(e.getState()),[e,t]),we.useCallback(()=>t(e.getInitialState()),[e,t]));return we.useDebugValue(n),n}const Pv=e=>{const t=tA(e),n=r=>rA(t,r);return Object.assign(n,t),n},Po=e=>e?Pv(e):Pv;function y_(e,t){function n(s){const o=e(s);return o?o[t]:null}function r(s){let o=!1,i;typeof s=="function"?i=s:s&&typeof s=="object"&&(o=!!s.optional,i=s.selector);const a=n({optional:o});return a?i?a(i):a():null}return{[t]:r,[`${t}Store`]:n}}const v_=f.createContext(null),sA=e=>({useSmoothStatus:Po(()=>e)}),oA=({children:e})=>{const t=x_({optional:!0}),n=pe(),[r]=f.useState(()=>sA(n.part().getState().status));return t?e:u.jsx(v_.Provider,{value:r,children:e})},iA=e=>{const t=f.forwardRef((n,r)=>u.jsx(oA,{children:u.jsx(e,{...n,ref:r})}));return t.displayName=e.displayName,t};function x_(e){const t=f.useContext(v_);if(!(e!=null&&e.optional)&&!t)throw new Error("This component must be used within a SmoothContextProvider.");return t}const{useSmoothStatus:aA,useSmoothStatusStore:lA}=y_(x_,"useSmoothStatus"),oa=e=>e;class uA{constructor(t,n){P(this,"currentText");P(this,"setText");P(this,"animationFrameId",null);P(this,"lastUpdateTime",Date.now());P(this,"targetText","");P(this,"animate",()=>{const t=Date.now();let r=t-this.lastUpdateTime;const s=this.targetText.length-this.currentText.length,o=Math.min(5,250/s);let i=0;for(;r>=o&&i<s;)i++,r-=o;i!==s?this.animationFrameId=requestAnimationFrame(this.animate):this.animationFrameId=null,i!==0&&(this.currentText=this.targetText.slice(0,this.currentText.length+i),this.lastUpdateTime=t-r,this.setText(this.currentText))});this.currentText=t,this.setText=n}start(){this.animationFrameId===null&&(this.lastUpdateTime=Date.now(),this.animate())}stop(){this.animationFrameId!==null&&(cancelAnimationFrame(this.animationFrameId),this.animationFrameId=null)}}const vd=Object.freeze({type:"running"}),w_=(e,t=!1)=>{const{text:n}=e,r=ee(({message:d})=>d.id),s=f.useRef(r),[o,i]=f.useState(n),a=lA({optional:!0}),l=We(d=>{if(i(d),a){const h=o!==d||e.status.type==="running"?vd:e.status;oa(a).setState(h,!0)}});f.useEffect(()=>{if(a){const d=t&&(o!==n||e.status.type==="running")?vd:e.status;oa(a).setState(d,!0)}},[a,t,n,o,e.status]);const[c]=f.useState(new uA(n,l));return f.useEffect(()=>{if(!t){c.stop();return}if(s.current!==r||!n.startsWith(c.targetText)){s.current=r,l(n),c.currentText=n,c.targetText=n,c.stop();return}c.targetText=n,c.start()},[l,c,r,t,n]),f.useEffect(()=>()=>{c.stop()},[c]),f.useMemo(()=>t?{type:"text",text:o,status:n===o?e.status:vd}:e,[t,o,e,n])},Pp=Object.freeze(Object.defineProperty({__proto__:null,AssistantRuntimeImpl:Ip,BaseAssistantRuntimeCore:kp,CompositeContextProvider:Cp,DefaultThreadComposerRuntimeCore:QS,MessageRepository:i_,ThreadRuntimeImpl:h_,fromThreadMessageLike:ba,generateId:Rs,getAutoStatus:JS,useSmooth:w_,useSmoothStatus:aA,withSmoothContextProvider:iA},Symbol.toStringTag,{value:"Module"})),Ls=e=>{const[,t]=kn(e.getState);return ut(()=>(t(e.getState()),e.subscribe(()=>{t(e.getState())})),[e]),e.getState()},b_=Ie(({runtime:e})=>{const t=Ls(e),n=_p();return ut(()=>{const r=[],s=["switchedTo","switchedAway"];for(const o of s){const i=e.unstable_on(o,()=>{n(`threadListItem.${o}`,{threadId:e.getState().id})});r.push(i)}return()=>{for(const o of r)o()}},[e,n]),{state:t,methods:{getState:()=>t,switchTo:e.switchTo,rename:e.rename,archive:e.archive,unarchive:e.unarchive,delete:e.delete,generateTitle:e.generateTitle,initialize:e.initialize,detach:e.detach,__internal_getRuntime:()=>e}}}),S_=Ie(({runtime:e})=>{const t=Ls(e);return{state:t,methods:{getState:()=>t,remove:e.remove,__internal_getRuntime:()=>e}}}),cA=Ie(({runtime:e,index:t})=>{const n=Se(()=>e.getAttachmentByIndex(t),[e,t]);return Qn(S_({runtime:n}))}),__=Ie(({threadIdRef:e,messageIdRef:t,runtime:n})=>{const r=Ls(n),s=_p();ut(()=>{const a=[],l=["send","attachmentAdd"];for(const c of l){const d=n.unstable_on(c,()=>{s(`composer.${c}`,{threadId:e.current,...t&&{messageId:t.current}})});a.push(d)}return()=>{for(const c of a)c()}},[n,s,e,t]);const o=Io(()=>r.attachments.map((a,l)=>gr(a.id,cA({runtime:n,index:l}))),[r.attachments,n]),i=Se(()=>({text:r.text,role:r.role,attachments:o.state,runConfig:r.runConfig,isEditing:r.isEditing,canCancel:r.canCancel,attachmentAccept:r.attachmentAccept,isEmpty:r.isEmpty,type:r.type??"thread",dictation:r.dictation}),[r,o.state]);return{state:i,methods:{getState:()=>i,setText:n.setText,setRole:n.setRole,setRunConfig:n.setRunConfig,addAttachment:n.addAttachment,reset:n.reset,clearAttachments:n.clearAttachments,send:n.send,cancel:n.cancel,beginEdit:n.beginEdit??(()=>{throw new Error("beginEdit is not supported in this runtime")}),startDictation:n.startDictation,stopDictation:n.stopDictation,attachment:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>n}}}),dA=Ie(({runtime:e})=>{const t=Ls(e);return{state:t,methods:{getState:()=>t,addToolResult:n=>e.addToolResult(n),resumeToolCall:n=>e.resumeToolCall(n),__internal_getRuntime:()=>e}}}),fA=Ie(({runtime:e,index:t})=>{const n=Se(()=>e.getAttachmentByIndex(t),[e,t]);return Qn(S_({runtime:n}))}),hA=Ie(({runtime:e,index:t})=>{const n=Se(()=>e.getMessagePartByIndex(t),[e,t]);return Qn(dA({runtime:n}))}),pA=Ie(({runtime:e,threadIdRef:t})=>{const n=Ls(e),[r,s]=kn(!1),[o,i]=kn(!1),a=Se(()=>({get current(){return e.getState().id}}),[e]),l=Xu(__({runtime:e.composer,threadIdRef:t,messageIdRef:a})),c=Io(()=>n.content.map((p,m)=>gr("toolCallId"in p&&p.toolCallId!=null?`toolCallId-${p.toolCallId}`:`index-${m}`,hA({runtime:e,index:m}))),[n.content,e]),d=Io(()=>(n.attachments??[]).map((p,m)=>gr(p.id,fA({runtime:e,index:m}))),[n.attachments,e]),h=Se(()=>({...n,parts:c.state,composer:l.state,isCopied:r,isHovering:o}),[n,c.state,l.state,r,o]);return{state:h,methods:{getState:()=>h,composer:l.methods,reload:p=>e.reload(p),speak:()=>e.speak(),stopSpeaking:()=>e.stopSpeaking(),submitFeedback:p=>e.submitFeedback(p),switchToBranch:p=>e.switchToBranch(p),getCopyText:()=>e.unstable_getCopyText(),part:p=>"index"in p?c.get({index:p.index}):c.get({key:`toolCallId-${p.toolCallId}`}),attachment:p=>"id"in p?d.get({key:p.id}):d.get(p),setIsCopied:s,setIsHovering:i,__internal_getRuntime:()=>e}}}),mA=Ie(({runtime:e,id:t,threadIdRef:n})=>{const r=Se(()=>e.getMessageById(t),[e,t]);return Qn(pA({runtime:r,threadIdRef:n}))}),gA=Ie(({runtime:e})=>{const t=Ls(e),n=_p();ut(()=>{const a=[],l=["runStart","runEnd","initialize","modelContextUpdate"];for(const c of l){const d=e.unstable_on(c,()=>{var p;const h=((p=e.getState())==null?void 0:p.threadId)||"unknown";n(`thread.${c}`,{threadId:h})});a.push(d)}return()=>{for(const c of a)c()}},[e,n]);const r=Se(()=>({get current(){return e.getState().threadId}}),[e]),s=Xu(__({runtime:e.composer,threadIdRef:r})),o=Io(()=>t.messages.map(a=>gr(a.id,mA({runtime:e,id:a.id,threadIdRef:r}))),[t.messages,e,r]),i=Se(()=>({isEmpty:o.state.length===0&&!t.isLoading,isDisabled:t.isDisabled,isLoading:t.isLoading,isRunning:t.isRunning,capabilities:t.capabilities,state:t.state,suggestions:t.suggestions,extras:t.extras,speech:t.speech,composer:s.state,messages:o.state}),[t,o,s.state]);return{state:i,methods:{getState:()=>i,composer:s.methods,append:e.append,startRun:e.startRun,unstable_resumeRun:e.unstable_resumeRun,cancelRun:e.cancelRun,getModelContext:e.getModelContext,export:e.export,import:e.import,reset:e.reset,stopSpeaking:e.stopSpeaking,startVoice:async()=>{throw new Error("startVoice is not supported in this runtime")},stopVoice:async()=>{throw new Error("stopVoice is not supported in this runtime")},message:a=>"id"in a?o.get({key:a.id}):o.get(a),__internal_getRuntime:()=>e}}}),yA=Ie(({runtime:e,id:t})=>{const n=Se(()=>e.getItemById(t),[e,t]);return Qn(b_({runtime:n}))}),vA=Ie(({runtime:e,__internal_assistantRuntime:t})=>{const n=Ls(e),r=Xu(gA({runtime:e.main})),s=Io(()=>Object.keys(n.threadItems).map(i=>gr(i,yA({runtime:e,id:i}))),[n.threadItems,e]),o=Se(()=>({mainThreadId:n.mainThreadId,newThreadId:n.newThreadId??null,isLoading:n.isLoading,threadIds:n.threadIds,archivedThreadIds:n.archivedThreadIds,threadItems:s.state,main:r.state}),[n,s.state,r.state]);return{state:o,methods:{getState:()=>o,thread:()=>r.methods,item:i=>{if(i==="main")return s.get({key:o.mainThreadId});if("id"in i)return s.get({key:i.id});const{index:a,archived:l=!1}=i,c=l?o.archivedThreadIds[a]:o.threadIds[a];return s.get({key:c})},switchToThread:async i=>{await e.switchToThread(i)},switchToNewThread:async()=>{await e.switchToNewThread()},__internal_getAssistantRuntime:()=>t}}}),xA=1,C_=Ie(()=>{const[e]=kn(()=>({version:xA+1})),t=Se(()=>new Cp,[]);return{state:e,methods:{getState:()=>e,getModelContext:()=>t.getModelContext(),subscribe:n=>t.subscribe(n),register:n=>t.registerModelContextProvider(n)}}});function Av(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function tc(...e){return t=>{let n=!1;const r=e.map(s=>{const o=Av(s,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let s=0;s<r.length;s++){const o=r[s];typeof o=="function"?o():Av(e[s],null)}}}}function me(...e){return f.useCallback(tc(...e),e)}const k_=Ie(({toolkit:e})=>{const[t,n]=kn(()=>({tools:{}})),r=GS(),s=PS((o,i)=>(n(a=>({...a,tools:{...a.tools,[o]:[...a.tools[o]??[],i]}})),()=>{n(a=>{var l;return{...a,tools:{...a.tools,[o]:((l=a.tools[o])==null?void 0:l.filter(c=>c!==i))??[]}}})}),[]);return ut(()=>{if(!e)return;const o=[];for(const[l,c]of Object.entries(e))c.render&&o.push(s(l,c.render));const i=Object.entries(e).reduce((l,[c,d])=>{const{render:h,...p}=d;return l[c]=p,l},{}),a={getModelContext:()=>({tools:i})};return o.push(r.current.modelContext().register(a)),()=>{o.forEach(l=>l())}},[e,s,r]),{state:t,methods:{getState:()=>t,setToolUI:s}}});VS(k_,{modelContext:C_()});const wA=Ie(e=>({state:e,methods:{getState:()=>e}})),bA=Ie(e=>{const[t]=kn(()=>({suggestions:(e??[]).map(s=>typeof s=="string"?{title:s,label:"",prompt:s}:{title:s.title,label:s.label,prompt:s.prompt})})),n=Io(()=>t.suggestions.map((r,s)=>gr(s,wA(r))),[t.suggestions]);return{state:t,methods:{getState:()=>t,suggestion:({index:r})=>n.get({index:r})}}}),SA=bA,E_=Ie(e=>{const t=GS();return ut(()=>e.registerModelContextProvider(t.current.modelContext()),[e,t]),Qn(vA({runtime:e.threads,__internal_assistantRuntime:e}))});VS(E_,{modelContext:C_(),tools:k_({}),suggestions:SA(),threadListItem:Sn({source:"threads",query:{type:"main"},get:e=>e.threads().item("main")}),thread:Sn({source:"threads",query:{type:"main"},get:e=>e.threads().thread("main")}),composer:Sn({source:"thread",query:{},get:e=>e.threads().thread("main").composer})});const xd=e=>{const t=new Map,n=()=>{let r=0;for(const s of t.values())r+=s;e(r)};return{register:()=>{const r=Symbol();return t.set(r,0),{setHeight:s=>{t.get(r)!==s&&(t.set(r,s),n())},unregister:()=>{t.delete(r),n()}}}}},_A=(e={})=>{const t=new Set,n=xd(i=>{o.setState({height:{...o.getState().height,viewport:i}})}),r=xd(i=>{o.setState({height:{...o.getState().height,inset:i}})}),s=xd(i=>{o.setState({height:{...o.getState().height,userMessage:i}})}),o=Po(()=>({isAtBottom:!0,scrollToBottom:({behavior:i="auto"}={})=>{for(const a of t)a({behavior:i})},onScrollToBottom:i=>(t.add(i),()=>{t.delete(i)}),turnAnchor:e.turnAnchor??"bottom",height:{viewport:0,inset:0,userMessage:0},registerViewport:n.register,registerContentInset:r.register,registerUserMessageHeight:s.register}));return o};function CA(e,t){function n(r){const s=f.useContext(e);if(!(r!=null&&r.optional)&&!s)throw new Error(`This component must be used within ${t}.`);return s}return n}const T_=f.createContext(null),kA=CA(T_,"ThreadPrimitive.Viewport"),{useThreadViewport:ia,useThreadViewportStore:nc}=y_(kA,"useThreadViewport"),EA=e=>{const t=nc({optional:!0}),[n]=f.useState(()=>_A(e));return f.useEffect(()=>t==null?void 0:t.getState().onScrollToBottom(()=>{n.getState().scrollToBottom()}),[t,n]),f.useEffect(()=>{if(t)return n.subscribe(r=>{t.getState().isAtBottom!==r.isAtBottom&&oa(t).setState({isAtBottom:r.isAtBottom})})},[n,t]),f.useEffect(()=>{const r={turnAnchor:e.turnAnchor??"bottom"};n.getState().turnAnchor!==r.turnAnchor&&oa(n).setState(r)},[n,e.turnAnchor]),n},R_=({children:e,options:t={}})=>{const n=EA(t),[r]=f.useState(()=>({useThreadViewport:n}));return u.jsx(T_.Provider,{value:r,children:e})},TA=e=>{var t;return(t=e._core)==null?void 0:t.RenderComponent},RA=({children:e,aui:t=null,runtime:n})=>{const r=pe({threads:E_(n)},{parent:t});f.useEffect(()=>{},[r]);const s=TA(n);return u.jsxs(es,{value:r,children:[s&&u.jsx(s,{}),u.jsx(R_,{children:e})]})},N_=f.memo(RA),NA=({runtime:e,children:t})=>{const n=pe({threadListItem:b_({runtime:e})});return u.jsx(es,{value:n,children:t})},IA=({index:e,children:t})=>{const n=pe({message:Sn({source:"thread",query:{type:"index",index:e},get:r=>r.thread().message({index:e})}),composer:Sn({source:"message",query:{},get:r=>r.thread().message({index:e}).composer})});return u.jsx(es,{value:n,children:t})},PA=({index:e,children:t})=>{const n=pe({part:Sn({source:"message",query:{type:"index",index:e},get:r=>r.message().part({index:e})})});return u.jsx(es,{value:n,children:t})},AA=({index:e,children:t})=>{const n=pe({attachment:Sn({source:"message",query:{type:"index",index:e},get:r=>r.message().attachment({index:e})})});return u.jsx(es,{value:n,children:t})},jA=({index:e,children:t})=>{const n=pe({attachment:Sn({source:"composer",query:{type:"index",index:e},get:r=>r.composer().attachment({index:e})})});return u.jsx(es,{value:n,children:t})},MA=Ie(({text:e,isRunning:t})=>{const n=Se(()=>({type:"text",text:e,status:t?{type:"running"}:{type:"complete"}}),[e,t]);return{state:n,methods:{getState:()=>n,addToolResult:()=>{throw new Error("Not supported")},resumeToolCall:()=>{throw new Error("Not supported")}}}}),OA=({text:e,isRunning:t=!1,children:n})=>{const r=pe({part:MA({text:e,isRunning:t})});return u.jsx(es,{value:r,children:n})};class LA extends wa{constructor(n,r){super();P(this,"useRuntimeHook");P(this,"instances",new Map);P(this,"useAliveThreadsKeysChanged",Po(()=>({})));P(this,"parent");P(this,"_InnerActiveThreadProvider",({threadId:n})=>{const{useRuntime:r}=this.useRuntimeHook(),s=r(),o=s.thread.__internal_threadBinding,i=f.useCallback(()=>{const d=this.instances.get(n);if(!d)throw new Error("Thread not found. This is a bug in assistant-ui.");d.runtime=o.getState(),this._notifySubscribers()},[n,o]),a=f.useRef(!1);a.current||i(),f.useEffect(()=>(a.current=!0,i(),o.outerSubscribe(i)),[o,i]);const l=pe(),c=f.useRef(void 0);return f.useEffect(()=>{const d=o.getState(),h=d.__internal_setGetInitializePromise;typeof h=="function"&&h.call(d,()=>c.current)},[o]),f.useEffect(()=>s.threads.main.unstable_on("initialize",()=>{if(l.threadListItem().getState().status==="new"){c.current=l.threadListItem().initialize();const h=s.thread.unstable_on("runEnd",()=>{h(),l.threadListItem().generateTitle()})}}),[s,l]),null});P(this,"_OuterActiveThreadProvider",f.memo(({threadId:n,provider:r})=>{const s=f.useMemo(()=>new p_(this.parent).getItemById(n),[n]);return u.jsx(NA,{runtime:s,children:u.jsx(r,{children:u.jsx(this._InnerActiveThreadProvider,{threadId:n})})})}));P(this,"__internal_RenderThreadRuntimes",({provider:n})=>(this.useAliveThreadsKeysChanged(),Array.from(this.instances.keys()).map(r=>u.jsx(this._OuterActiveThreadProvider,{threadId:r,provider:n},r))));this.parent=r,this.useRuntimeHook=Po(()=>({useRuntime:n}))}startThreadRuntime(n){return this.instances.has(n)||(this.instances.set(n,{}),this.useAliveThreadsKeysChanged.setState({},!0)),new Promise((r,s)=>{const o=()=>{const a=this.instances.get(n);if(!a)i(),s(new Error("Thread was deleted before runtime was started"));else if(a.runtime)i(),r(a.runtime);else return},i=this.subscribe(o);o()})}getThreadRuntimeCore(n){const r=this.instances.get(n);if(r)return r.runtime}stopThreadRuntime(n){this.instances.delete(n),this.useAliveThreadsKeysChanged.setState({},!0)}setRuntimeHook(n){this.useRuntimeHook.getState().useRuntime!==n&&this.useRuntimeHook.setState({useRuntime:n},!0)}}const ze=new Error("This is the empty thread, a placeholder for the main thread. You cannot perform any actions on this thread instance. This error is probably because you tried to call a thread method in your render function. Call the method inside a `useEffect` hook instead."),DA={getMessageById(){},getBranches(){return[]},switchToBranch(){throw ze},append(){throw ze},startRun(){throw ze},resumeRun(){throw ze},cancelRun(){throw ze},addToolResult(){throw ze},resumeToolCall(){throw ze},speak(){throw ze},stopSpeaking(){throw ze},submitFeedback(){throw ze},getModelContext(){return{}},exportExternalState(){throw ze},importExternalState(){throw ze},unstable_loadExternalState(){throw ze},composer:{attachments:[],attachmentAccept:"*",async addAttachment(){throw ze},async removeAttachment(){throw ze},isEditing:!0,canCancel:!1,isEmpty:!0,text:"",setText(){throw ze},role:"user",setRole(){throw ze},runConfig:{},setRunConfig(){throw ze},async reset(){},async clearAttachments(){},send(){throw ze},cancel(){},dictation:void 0,startDictation(){throw ze},stopDictation(){},subscribe(){return()=>{}},unstable_on(){return()=>{}}},getEditComposer(){},beginEdit(){throw ze},speech:void 0,capabilities:{switchToBranch:!1,switchBranchDuringRun:!1,edit:!1,reload:!1,cancel:!1,unstable_copy:!1,speech:!1,dictation:!1,attachments:!1,feedback:!1},isDisabled:!1,isLoading:!1,messages:[],state:null,suggestions:[],extras:void 0,subscribe(){return()=>{}},import(){throw ze},export(){return{messages:[]}},reset(){throw ze},unstable_on(){return()=>{}}},jv=(e,t,n)=>n.reduce((r,s)=>(s==null?void 0:s(r,t))??r,e);class FA extends wa{constructor(n){super();P(this,"_pendingTransforms",[]);P(this,"_baseValue");P(this,"_cachedValue");this._baseValue=n,this._cachedValue=n}_updateState(){this._cachedValue=this._pendingTransforms.reduce((n,r)=>jv(n,r.task,[r.loading,r.optimistic]),this._baseValue),this._notifySubscribers()}get baseValue(){return this._baseValue}get value(){return this._cachedValue}update(n){this._baseValue=n,this._updateState()}async optimisticUpdate(n){const r=n.execute(),s={...n,task:r};try{this._pendingTransforms.push(s),this._updateState();const o=await r;return this._baseValue=jv(this._baseValue,o,[n.optimistic,n.then]),o}finally{const o=this._pendingTransforms.indexOf(s);o>-1&&this._pendingTransforms.splice(o,1),this._updateState()}}}const Nl=(e,t)=>{const n=e.threadIdMap[t];if(n!==void 0)return e.threadData[n]},nl=(e,t,n)=>{const r=Nl(e,t);if(!r)return e;const{id:s,remoteId:o,status:i}=r;if(i===n)return e;const a={...e};switch(i){case"new":a.newThreadId=void 0;break;case"regular":a.threadIds=a.threadIds.filter(l=>l!==s);break;case"archived":a.archivedThreadIds=a.archivedThreadIds.filter(l=>l!==s);break;default:{const l=i;throw new Error(`Unsupported state: ${l}`)}}switch(n){case"regular":a.threadIds=[s,...a.threadIds];break;case"archived":a.archivedThreadIds=[s,...a.archivedThreadIds];break;case"deleted":a.threadData=Object.fromEntries(Object.entries(a.threadData).filter(([l])=>l!==s)),a.threadIdMap=Object.fromEntries(Object.entries(a.threadIdMap).filter(([l])=>l!==s&&l!==o));break;default:{const l=n;throw new Error(`Unsupported state: ${l}`)}}return n!=="deleted"&&(a.threadData={...a.threadData,[s]:{...r,status:n}}),a};class zA extends wa{constructor(n,r){super();P(this,"contextProvider");P(this,"_options");P(this,"_hookManager");P(this,"_loadThreadsPromise");P(this,"_mainThreadId");P(this,"_state",new FA({isLoading:!1,newThreadId:void 0,threadIds:[],archivedThreadIds:[],threadIdMap:{},threadData:{}}));P(this,"useProvider");P(this,"initialize",async n=>{if(this._state.value.newThreadId!==n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Unexpected new state");return r.initializeTask}return this._state.optimisticUpdate({execute:()=>this._options.adapter.initialize(n),optimistic:r=>nl(r,n,"regular"),loading:(r,s)=>{const o=n;return{...r,threadData:{...r.threadData,[o]:{...r.threadData[o],initializeTask:s}}}},then:(r,{remoteId:s,externalId:o})=>{const i=Nl(r,n);if(!i)return r;const a=n;return{...r,threadIdMap:{...r.threadIdMap,[s]:a},threadData:{...r.threadData,[a]:{...i,initializeTask:Promise.resolve({remoteId:s,externalId:o}),remoteId:s,externalId:o}}}}})});P(this,"generateTitle",async n=>{var c;const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status==="new")throw new Error("Thread is not yet initialized");const{remoteId:s}=await r.initializeTask,o=this._hookManager.getThreadRuntimeCore(r.id);if(!o)return;const i=o.messages,a=await this._options.adapter.generateTitle(s,i),l=Oi.fromAssistantStream(a);for await(const d of l){const h=(c=d.parts.filter(m=>m.type==="text")[0])==null?void 0:c.text,p=this._state.baseValue;this._state.update({...p,threadData:{...p.threadData,[r.id]:{...r,title:h}}})}});P(this,"useBoundIds",Po(()=>[]));P(this,"__internal_RenderComponent",()=>{const n=f.useId();f.useEffect(()=>(this.useBoundIds.setState(i=>[...i,n],!0),()=>{this.useBoundIds.setState(i=>i.filter(a=>a!==n),!0)}),[n]);const r=this.useBoundIds(),{Provider:s}=this.useProvider(),o={modelContext:this.contextProvider};return(r.length===0||r[0]===n)&&u.jsx(m_,{adapters:o,children:u.jsx(this._hookManager.__internal_RenderThreadRuntimes,{provider:s})})});this.contextProvider=r,this._state.subscribe(()=>this._notifySubscribers()),this._hookManager=new LA(n.runtimeHook,this),this.useProvider=Po(()=>({Provider:n.adapter.unstable_Provider??f.Fragment})),this.__internal_setOptions(n),this.switchToNewThread()}get threadItems(){return this._state.value.threadData}getLoadThreadsPromise(){return this._loadThreadsPromise||(this._loadThreadsPromise=this._state.optimisticUpdate({execute:()=>this._options.adapter.list(),loading:n=>({...n,isLoading:!0}),then:(n,r)=>{const s=[],o=[],i={},a={};for(const l of r.threads){switch(l.status){case"regular":s.push(l.remoteId);break;case"archived":o.push(l.remoteId);break;default:{const d=l.status;throw new Error(`Unsupported state: ${d}`)}}const c=l.remoteId;i[l.remoteId]=c,a[c]={id:l.remoteId,remoteId:l.remoteId,externalId:l.externalId,status:l.status,title:l.title,initializeTask:Promise.resolve({remoteId:l.remoteId,externalId:l.externalId})}}return{...n,threadIds:s,archivedThreadIds:o,threadIdMap:{...n.threadIdMap,...i},threadData:{...n.threadData,...a}}}}).then(()=>{})),this._loadThreadsPromise}__internal_setOptions(n){if(this._options===n)return;this._options=n;const r=n.adapter.unstable_Provider??f.Fragment;r!==this.useProvider.getState().Provider&&this.useProvider.setState({Provider:r},!0),this._hookManager.setRuntimeHook(n.runtimeHook)}__internal_load(){this.getLoadThreadsPromise()}get isLoading(){return this._state.value.isLoading}get threadIds(){return this._state.value.threadIds}get archivedThreadIds(){return this._state.value.archivedThreadIds}get newThreadId(){return this._state.value.newThreadId}get mainThreadId(){return this._mainThreadId}getMainThreadRuntimeCore(){const n=this._hookManager.getThreadRuntimeCore(this._mainThreadId);return n||DA}getThreadRuntimeCore(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");const s=this._hookManager.getThreadRuntimeCore(r.id);if(!s)throw new Error("Thread not found");return s}getItemById(n){return Nl(this._state.value,n)}async switchToThread(n){let r=this.getItemById(n);if(!r){const o=await this._options.adapter.fetch(n),i=this._state.value,a=o.remoteId,l={...i.threadData,[a]:{id:a,initializeTask:Promise.resolve({remoteId:o.remoteId,externalId:o.externalId}),remoteId:o.remoteId,externalId:o.externalId,status:o.status,title:o.title}},c={...i.threadIdMap,[o.remoteId]:a},d=o.status==="regular"?[...i.threadIds,o.remoteId]:i.threadIds,h=o.status==="archived"?[...i.archivedThreadIds,o.remoteId]:i.archivedThreadIds;this._state.update({...i,threadIds:d,archivedThreadIds:h,threadIdMap:c,threadData:l}),r=this.getItemById(n)}if(!r)throw new Error("Thread not found");if(this._mainThreadId===r.id)return;const s=this._hookManager.startThreadRuntime(r.id);this.mainThreadId!==void 0?await s:s.then(()=>this._notifySubscribers()),r.status==="archived"&&await this.unarchive(r.id),this._mainThreadId=r.id,this._notifySubscribers()}async switchToNewThread(){for(;this._state.baseValue.newThreadId!==void 0&&this._state.value.newThreadId===void 0;)await this._state.waitForUpdate();const n=this._state.value;let r=this._state.value.newThreadId;if(r===void 0){do r=`__LOCALID_${Rs()}`;while(n.threadIdMap[r]);const s=r;this._state.update({...n,newThreadId:r,threadIdMap:{...n.threadIdMap,[r]:s},threadData:{...n.threadData,[s]:{status:"new",id:r,remoteId:void 0,externalId:void 0,title:void 0}}})}return this.switchToThread(r)}rename(n,r){const s=this.getItemById(n);if(!s)throw new Error("Thread not found");if(s.status==="new")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{const{remoteId:o}=await s.initializeTask;return this._options.adapter.rename(o,r)},optimistic:o=>{const i=Nl(o,n);return i?{...o,threadData:{...o.threadData,[i.id]:{...i,title:r}}}:o}})}async _ensureThreadIsNotMain(n){if(n===this.newThreadId)throw new Error("Cannot ensure new thread is not main");n===this._mainThreadId&&await this.switchToNewThread()}async archive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular")throw new Error("Thread is not yet initialized or already archived");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return this._options.adapter.archive(s)},optimistic:s=>nl(s,r.id,"archived")})}unarchive(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="archived")throw new Error("Thread is not archived");return this._state.optimisticUpdate({execute:async()=>{try{const{remoteId:s}=await r.initializeTask;return await this._options.adapter.unarchive(s)}catch(s){throw await this._ensureThreadIsNotMain(r.id),s}},optimistic:s=>nl(s,r.id,"regular")})}async delete(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");return this._state.optimisticUpdate({execute:async()=>{await this._ensureThreadIsNotMain(r.id);const{remoteId:s}=await r.initializeTask;return await this._options.adapter.delete(s)},optimistic:s=>nl(s,r.id,"deleted")})}async detach(n){const r=this.getItemById(n);if(!r)throw new Error("Thread not found");if(r.status!=="regular"&&r.status!=="archived")throw new Error("Thread is not yet initialized");await this._ensureThreadIsNotMain(r.id),this._hookManager.stopThreadRuntime(r.id)}}class BA extends kp{constructor(n){super();P(this,"threads");this.threads=new zA(n,this._contextProvider)}get RenderComponent(){return this.threads.__internal_RenderComponent}}const $A=e=>{const[t]=f.useState(()=>new BA(e));return f.useEffect(()=>{t.threads.__internal_setOptions(e),t.threads.__internal_load()},[t,e]),f.useMemo(()=>new Ip(t),[t])},UA=e=>{if(pe().threadListItem.source!==null){if(!e.allowNesting)throw new Error("useRemoteThreadListRuntime cannot be nested inside another RemoteThreadListRuntime. Set allowNesting: true to allow nesting (the inner runtime will become a no-op).");return e.runtimeHook()}return $A(e)},HA=e=>{var n;const t=e;t.__isBound||((n=t.__internal_bindMethods)==null||n.call(t),t.__isBound=!0)};function VA(e,t=WA){HA(e);const n=f.useSyncExternalStore(e.subscribe,()=>t(e.getState()),()=>t(e.getState()));return f.useDebugValue(n),n}const WA=e=>e;function Ap(e){function t(n){let r=!1,s;typeof n=="function"?s=n:n&&(r=!!n.optional,s=n.selector);const o=e({optional:r});return o?VA(o,s):null}return t}function KA(e){var r,s;return((s=(r=pe().threads()).__internal_getAssistantRuntime)==null?void 0:s.call(r))??null}function qA(e){const t=pe(),n=ee(()=>{var r,s;return t.attachment.source?((s=(r=t.attachment()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("AttachmentRuntime is not available");return n}const yu=Ap(qA);function GA(e){const t=pe(),n=ee(()=>{var r,s;return t.message.source?((s=(r=t.message()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("MessageRuntime is not available");return n}const I_=Ap(GA);function YA(e){const t=pe(),n=ee(()=>{var r,s;return t.thread.source?((s=(r=t.thread()).__internal_getRuntime)==null?void 0:s.call(r))??null:null});if(!n&&!(e!=null&&e.optional))throw new Error("ThreadRuntime is not available");return n}const Nn=Ap(YA);var XA=Symbol.for("react.lazy"),vu=Th[" use ".trim().toString()];function QA(e){return typeof e=="object"&&e!==null&&"then"in e}function P_(e){return e!=null&&typeof e=="object"&&"$$typeof"in e&&e.$$typeof===XA&&"_payload"in e&&QA(e._payload)}function A_(e){const t=JA(e),n=f.forwardRef((r,s)=>{let{children:o,...i}=r;P_(o)&&typeof vu=="function"&&(o=vu(o._payload));const a=f.Children.toArray(o),l=a.find(ej);if(l){const c=l.props.children,d=a.map(h=>h===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...i,ref:s,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var j_=A_("Slot");function JA(e){const t=f.forwardRef((n,r)=>{let{children:s,...o}=n;if(P_(s)&&typeof vu=="function"&&(s=vu(s._payload)),f.isValidElement(s)){const i=nj(s),a=tj(o,s.props);return s.type!==f.Fragment&&(a.ref=r?tc(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var ZA=Symbol("radix.slottable");function ej(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===ZA}function tj(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function nj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var rj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Zt=rj.reduce((e,t)=>{const n=A_(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{}),ar;(function(e){e.Hidden="hidden",e.Floating="floating",e.Normal="normal"})(ar||(ar={}));const sj=({hideWhenRunning:e,autohide:t,autohideFloat:n})=>ee(({thread:r,message:s})=>e&&r.isRunning?ar.Hidden:t==="always"||t==="not-last"&&!s.isLast?s.isHovering?n==="always"||n==="single-branch"&&s.branchCount<=1?ar.Floating:ar.Normal:ar.Hidden:ar.Normal),jp=f.forwardRef(({hideWhenRunning:e,autohide:t,autohideFloat:n,...r},s)=>{const o=sj({hideWhenRunning:e,autohide:t,autohideFloat:n});return o===ar.Hidden?null:u.jsx(Zt.div,{...o===ar.Floating?{"data-floating":"true"}:null,...r,ref:s})});jp.displayName="ActionBarPrimitive.Root";function J(e,t,{checkForDefaultPrevented:n=!0}={}){return function(s){if(e==null||e(s),n===!1||!s.defaultPrevented)return t==null?void 0:t(s)}}const oj=({copiedDuration:e=3e3}={})=>{const t=pe(),n=ee(({message:i})=>{var a;return(i.role!=="assistant"||((a=i.status)==null?void 0:a.type)!=="running")&&i.parts.some(l=>l.type==="text"&&l.text.length>0)}),r=ee(({composer:i})=>i.isEditing),s=ee(({composer:i})=>i.text),o=f.useCallback(()=>{const i=r?s:t.message().getCopyText();i&&navigator.clipboard.writeText(i).then(()=>{t.message().setIsCopied(!0),setTimeout(()=>t.message().setIsCopied(!1),e)})},[t,r,s,e]);return n?o:null},M_=f.forwardRef(({copiedDuration:e,onClick:t,disabled:n,...r},s)=>{const o=ee(({message:a})=>a.isCopied),i=oj({copiedDuration:e});return u.jsx(Zt.button,{type:"button",...o?{"data-copied":"true"}:{},...r,ref:s,disabled:n||!i,onClick:J(t,()=>{i==null||i()})})});M_.displayName="ActionBarPrimitive.Copy";const In=(e,t,n=[])=>{const r=f.forwardRef((s,o)=>{const i={},a={};Object.keys(s).forEach(c=>{n.includes(c)?i[c]=s[c]:a[c]=s[c]});const l=t(i)??void 0;return u.jsx(Zt.button,{type:"button",...a,ref:o,disabled:a.disabled||!l,onClick:J(a.onClick,l)})});return r.displayName=e,r},ij=()=>{const e=pe(),t=ee(r=>r.thread.isRunning||r.thread.isDisabled||r.message.role!=="assistant"),n=f.useCallback(()=>{e.message().reload()},[e]);return t?null:n},aj=In("ActionBarPrimitive.Reload",ij),lj=()=>{const e=pe(),t=ee(({composer:r})=>r.isEditing),n=f.useCallback(()=>{e.composer().beginEdit()},[e]);return t?null:n},uj=In("ActionBarPrimitive.Edit",lj),cj=()=>{const e=pe(),t=f.useCallback(async()=>{e.message().speak()},[e]);return ee(({message:r})=>{var s;return(r.role!=="assistant"||((s=r.status)==null?void 0:s.type)!=="running")&&r.parts.some(o=>o.type==="text"&&o.text.length>0)})?t:null},dj=In("ActionBarPrimitive.Speak",cj);function Mp(e,t=globalThis==null?void 0:globalThis.document){const n=We(e);f.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}const fj=()=>{const e=pe(),t=ee(({message:r})=>r.speech!=null),n=f.useCallback(()=>{e.message().stopSpeaking()},[e]);return t?n:null},O_=f.forwardRef((e,t)=>{const n=fj();return Mp(r=>{n&&(r.preventDefault(),n())}),u.jsx(Zt.button,{type:"button",disabled:!n,...e,ref:t,onClick:J(e.onClick,()=>{n==null||n()})})});O_.displayName="ActionBarPrimitive.StopSpeaking";const hj=()=>{const e=pe();return f.useCallback(()=>{e.message().submitFeedback({type:"positive"})},[e])},L_=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=ee(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="positive"}),o=hj();return u.jsx(Zt.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:J(e,()=>{o==null||o()})})});L_.displayName="ActionBarPrimitive.FeedbackPositive";const pj=()=>{const e=pe();return f.useCallback(()=>{e.message().submitFeedback({type:"negative"})},[e])},D_=f.forwardRef(({onClick:e,disabled:t,...n},r)=>{const s=ee(i=>{var a;return((a=i.message.metadata.submittedFeedback)==null?void 0:a.type)==="negative"}),o=pj();return u.jsx(Zt.button,{type:"button",...s?{"data-submitted":"true"}:{},...n,ref:r,disabled:t||!o,onClick:J(e,()=>{o==null||o()})})});D_.displayName="ActionBarPrimitive.FeedbackNegative";function mj(e,t){const n=f.createContext(t),r=o=>{const{children:i,...a}=o,l=f.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:i})};r.displayName=e+"Provider";function s(o){const i=f.useContext(n);if(i)return i;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,s]}function Jn(e,t=[]){let n=[];function r(o,i){const a=f.createContext(i),l=n.length;n=[...n,i];const c=h=>{var g;const{scope:p,children:m,...v}=h,y=((g=p==null?void 0:p[e])==null?void 0:g[l])||a,b=f.useMemo(()=>v,Object.values(v));return u.jsx(y.Provider,{value:b,children:m})};c.displayName=o+"Provider";function d(h,p){var y;const m=((y=p==null?void 0:p[e])==null?void 0:y[l])||a,v=f.useContext(m);if(v)return v;if(i!==void 0)return i;throw new Error(`\`${h}\` must be used within \`${o}\``)}return[c,d]}const s=()=>{const o=n.map(i=>f.createContext(i));return function(a){const l=(a==null?void 0:a[e])||o;return f.useMemo(()=>({[`__scope${e}`]:{...a,[e]:l}}),[a,l])}};return s.scopeName=e,[r,gj(s,...t)]}function gj(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(o){const i=r.reduce((a,{useScope:l,scopeName:c})=>{const h=l(o)[`__scope${c}`];return{...a,...h}},{});return f.useMemo(()=>({[`__scope${t.scopeName}`]:i}),[i])}};return n.scopeName=t.scopeName,n}var Qe=globalThis!=null&&globalThis.document?f.useLayoutEffect:()=>{},yj=Th[" useInsertionEffect ".trim().toString()]||Qe;function Ns({prop:e,defaultProp:t,onChange:n=()=>{},caller:r}){const[s,o,i]=vj({defaultProp:t,onChange:n}),a=e!==void 0,l=a?e:s;{const d=f.useRef(e!==void 0);f.useEffect(()=>{const h=d.current;h!==a&&console.warn(`${r} is changing from ${h?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),d.current=a},[a,r])}const c=f.useCallback(d=>{var h;if(a){const p=xj(d)?d(e):d;p!==e&&((h=i.current)==null||h.call(i,p))}else o(d)},[a,e,o,i]);return[l,c]}function vj({defaultProp:e,onChange:t}){const[n,r]=f.useState(e),s=f.useRef(n),o=f.useRef(t);return yj(()=>{o.current=t},[t]),f.useEffect(()=>{var i;s.current!==n&&((i=o.current)==null||i.call(o,n),s.current=n)},[n,s]),[n,r,o]}function xj(e){return typeof e=="function"}function Ao(e){const t=wj(e),n=f.forwardRef((r,s)=>{const{children:o,...i}=r,a=f.Children.toArray(o),l=a.find(Sj);if(l){const c=l.props.children,d=a.map(h=>h===l?f.Children.count(c)>1?f.Children.only(null):f.isValidElement(c)?c.props.children:null:h);return u.jsx(t,{...i,ref:s,children:f.isValidElement(c)?f.cloneElement(c,void 0,d):null})}return u.jsx(t,{...i,ref:s,children:o})});return n.displayName=`${e}.Slot`,n}var ts=Ao("Slot");function wj(e){const t=f.forwardRef((n,r)=>{const{children:s,...o}=n;if(f.isValidElement(s)){const i=Cj(s),a=_j(o,s.props);return s.type!==f.Fragment&&(a.ref=r?tc(r,i):i),f.cloneElement(s,a)}return f.Children.count(s)>1?f.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var F_=Symbol("radix.slottable");function bj(e){const t=({children:n})=>u.jsx(u.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=F_,t}function Sj(e){return f.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===F_}function _j(e,t){const n={...t};for(const r in t){const s=e[r],o=t[r];/^on[A-Z]/.test(r)?s&&o?n[r]=(...a)=>{const l=o(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...o}:r==="className"&&(n[r]=[s,o].filter(Boolean).join(" "))}return{...e,...n}}function Cj(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kj=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],se=kj.reduce((e,t)=>{const n=Ao(`Primitive.${t}`),r=f.forwardRef((s,o)=>{const{asChild:i,...a}=s,l=i?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function z_(e,t){e&&$o.flushSync(()=>e.dispatchEvent(t))}function B_(e){const t=e+"CollectionProvider",[n,r]=Jn(t),[s,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),i=y=>{const{scope:b,children:g}=y,x=we.useRef(null),w=we.useRef(new Map).current;return u.jsx(s,{scope:b,itemMap:w,collectionRef:x,children:g})};i.displayName=t;const a=e+"CollectionSlot",l=Ao(a),c=we.forwardRef((y,b)=>{const{scope:g,children:x}=y,w=o(a,g),C=me(b,w.collectionRef);return u.jsx(l,{ref:C,children:x})});c.displayName=a;const d=e+"CollectionItemSlot",h="data-radix-collection-item",p=Ao(d),m=we.forwardRef((y,b)=>{const{scope:g,children:x,...w}=y,C=we.useRef(null),R=me(b,C),S=o(d,g);return we.useEffect(()=>(S.itemMap.set(C,{ref:C,...w}),()=>void S.itemMap.delete(C))),u.jsx(p,{[h]:"",ref:R,children:x})});m.displayName=d;function v(y){const b=o(e+"CollectionConsumer",y);return we.useCallback(()=>{const x=b.collectionRef.current;if(!x)return[];const w=Array.from(x.querySelectorAll(`[${h}]`));return Array.from(b.itemMap.values()).sort((S,T)=>w.indexOf(S.ref.current)-w.indexOf(T.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:i,Slot:c,ItemSlot:m},v,r]}var $_=f.createContext(void 0),Ej=e=>{const{dir:t,children:n}=e;return u.jsx($_.Provider,{value:t,children:n})};function rc(e){const t=f.useContext($_);return e||t||"ltr"}var Tj=Ej,Rj="DismissableLayer",Gf="dismissableLayer.update",Nj="dismissableLayer.pointerDownOutside",Ij="dismissableLayer.focusOutside",Mv,U_=f.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sc=f.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:o,onInteractOutside:i,onDismiss:a,...l}=e,c=f.useContext(U_),[d,h]=f.useState(null),p=(d==null?void 0:d.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=f.useState({}),v=me(t,T=>h(T)),y=Array.from(c.layers),[b]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),g=y.indexOf(b),x=d?y.indexOf(d):-1,w=c.layersWithOutsidePointerEventsDisabled.size>0,C=x>=g,R=jj(T=>{const N=T.target,M=[...c.branches].some(A=>A.contains(N));!C||M||(s==null||s(T),i==null||i(T),T.defaultPrevented||a==null||a())},p),S=Mj(T=>{const N=T.target;[...c.branches].some(A=>A.contains(N))||(o==null||o(T),i==null||i(T),T.defaultPrevented||a==null||a())},p);return Mp(T=>{x===c.layers.size-1&&(r==null||r(T),!T.defaultPrevented&&a&&(T.preventDefault(),a()))},p),f.useEffect(()=>{if(d)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(Mv=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(d)),c.layers.add(d),Ov(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=Mv)}},[d,p,n,c]),f.useEffect(()=>()=>{d&&(c.layers.delete(d),c.layersWithOutsidePointerEventsDisabled.delete(d),Ov())},[d,c]),f.useEffect(()=>{const T=()=>m({});return document.addEventListener(Gf,T),()=>document.removeEventListener(Gf,T)},[]),u.jsx(se.div,{...l,ref:v,style:{pointerEvents:w?C?"auto":"none":void 0,...e.style},onFocusCapture:J(e.onFocusCapture,S.onFocusCapture),onBlurCapture:J(e.onBlurCapture,S.onBlurCapture),onPointerDownCapture:J(e.onPointerDownCapture,R.onPointerDownCapture)})});sc.displayName=Rj;var Pj="DismissableLayerBranch",Aj=f.forwardRef((e,t)=>{const n=f.useContext(U_),r=f.useRef(null),s=me(t,r);return f.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),u.jsx(se.div,{...e,ref:s})});Aj.displayName=Pj;function jj(e,t=globalThis==null?void 0:globalThis.document){const n=We(e),r=f.useRef(!1),s=f.useRef(()=>{});return f.useEffect(()=>{const o=a=>{if(a.target&&!r.current){let l=function(){H_(Nj,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(t.removeEventListener("click",s.current),s.current=l,t.addEventListener("click",s.current,{once:!0})):l()}else t.removeEventListener("click",s.current);r.current=!1},i=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(i),t.removeEventListener("pointerdown",o),t.removeEventListener("click",s.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function Mj(e,t=globalThis==null?void 0:globalThis.document){const n=We(e),r=f.useRef(!1);return f.useEffect(()=>{const s=o=>{o.target&&!r.current&&H_(Ij,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",s),()=>t.removeEventListener("focusin",s)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Ov(){const e=new CustomEvent(Gf);document.dispatchEvent(e)}function H_(e,t,n,{discrete:r}){const s=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&s.addEventListener(e,t,{once:!0}),r?z_(s,o):s.dispatchEvent(o)}var wd=0;function V_(){f.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Lv()),document.body.insertAdjacentElement("beforeend",e[1]??Lv()),wd++,()=>{wd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),wd--}},[])}function Lv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var bd="focusScope.autoFocusOnMount",Sd="focusScope.autoFocusOnUnmount",Dv={bubbles:!1,cancelable:!0},Oj="FocusScope",Op=f.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:o,...i}=e,[a,l]=f.useState(null),c=We(s),d=We(o),h=f.useRef(null),p=me(t,y=>l(y)),m=f.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;f.useEffect(()=>{if(r){let y=function(w){if(m.paused||!a)return;const C=w.target;a.contains(C)?h.current=C:Nr(h.current,{select:!0})},b=function(w){if(m.paused||!a)return;const C=w.relatedTarget;C!==null&&(a.contains(C)||Nr(h.current,{select:!0}))},g=function(w){if(document.activeElement===document.body)for(const R of w)R.removedNodes.length>0&&Nr(a)};document.addEventListener("focusin",y),document.addEventListener("focusout",b);const x=new MutationObserver(g);return a&&x.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",y),document.removeEventListener("focusout",b),x.disconnect()}}},[r,a,m.paused]),f.useEffect(()=>{if(a){zv.add(m);const y=document.activeElement;if(!a.contains(y)){const g=new CustomEvent(bd,Dv);a.addEventListener(bd,c),a.dispatchEvent(g),g.defaultPrevented||(Lj($j(W_(a)),{select:!0}),document.activeElement===y&&Nr(a))}return()=>{a.removeEventListener(bd,c),setTimeout(()=>{const g=new CustomEvent(Sd,Dv);a.addEventListener(Sd,d),a.dispatchEvent(g),g.defaultPrevented||Nr(y??document.body,{select:!0}),a.removeEventListener(Sd,d),zv.remove(m)},0)}}},[a,c,d,m]);const v=f.useCallback(y=>{if(!n&&!r||m.paused)return;const b=y.key==="Tab"&&!y.altKey&&!y.ctrlKey&&!y.metaKey,g=document.activeElement;if(b&&g){const x=y.currentTarget,[w,C]=Dj(x);w&&C?!y.shiftKey&&g===C?(y.preventDefault(),n&&Nr(w,{select:!0})):y.shiftKey&&g===w&&(y.preventDefault(),n&&Nr(C,{select:!0})):g===x&&y.preventDefault()}},[n,r,m.paused]);return u.jsx(se.div,{tabIndex:-1,...i,ref:p,onKeyDown:v})});Op.displayName=Oj;function Lj(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Nr(r,{select:t}),document.activeElement!==n)return}function Dj(e){const t=W_(e),n=Fv(t,e),r=Fv(t.reverse(),e);return[n,r]}function W_(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Fv(e,t){for(const n of e)if(!Fj(n,{upTo:t}))return n}function Fj(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function zj(e){return e instanceof HTMLInputElement&&"select"in e}function Nr(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&zj(e)&&t&&e.select()}}var zv=Bj();function Bj(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Bv(e,t),e.unshift(t)},remove(t){var n;e=Bv(e,t),(n=e[0])==null||n.resume()}}}function Bv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function $j(e){return e.filter(t=>t.tagName!=="A")}var Uj=Th[" useId ".trim().toString()]||(()=>{}),Hj=0;function dr(e){const[t,n]=f.useState(Uj());return Qe(()=>{n(r=>r??String(Hj++))},[e]),e||(t?`radix-${t}`:"")}const Vj=["top","right","bottom","left"],Yr=Math.min,Vt=Math.max,xu=Math.round,rl=Math.floor,Gn=e=>({x:e,y:e}),Wj={left:"right",right:"left",bottom:"top",top:"bottom"},Kj={start:"end",end:"start"};function Yf(e,t,n){return Vt(e,Yr(t,n))}function yr(e,t){return typeof e=="function"?e(t):e}function vr(e){return e.split("-")[0]}function Ho(e){return e.split("-")[1]}function Lp(e){return e==="x"?"y":"x"}function Dp(e){return e==="y"?"height":"width"}const qj=new Set(["top","bottom"]);function Wn(e){return qj.has(vr(e))?"y":"x"}function Fp(e){return Lp(Wn(e))}function Gj(e,t,n){n===void 0&&(n=!1);const r=Ho(e),s=Fp(e),o=Dp(s);let i=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(i=wu(i)),[i,wu(i)]}function Yj(e){const t=wu(e);return[Xf(e),t,Xf(t)]}function Xf(e){return e.replace(/start|end/g,t=>Kj[t])}const $v=["left","right"],Uv=["right","left"],Xj=["top","bottom"],Qj=["bottom","top"];function Jj(e,t,n){switch(e){case"top":case"bottom":return n?t?Uv:$v:t?$v:Uv;case"left":case"right":return t?Xj:Qj;default:return[]}}function Zj(e,t,n,r){const s=Ho(e);let o=Jj(vr(e),n==="start",r);return s&&(o=o.map(i=>i+"-"+s),t&&(o=o.concat(o.map(Xf)))),o}function wu(e){return e.replace(/left|right|bottom|top/g,t=>Wj[t])}function e2(e){return{top:0,right:0,bottom:0,left:0,...e}}function K_(e){return typeof e!="number"?e2(e):{top:e,right:e,bottom:e,left:e}}function bu(e){const{x:t,y:n,width:r,height:s}=e;return{width:r,height:s,top:n,left:t,right:t+r,bottom:n+s,x:t,y:n}}function Hv(e,t,n){let{reference:r,floating:s}=e;const o=Wn(t),i=Fp(t),a=Dp(i),l=vr(t),c=o==="y",d=r.x+r.width/2-s.width/2,h=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(l){case"top":m={x:d,y:r.y-s.height};break;case"bottom":m={x:d,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:h};break;case"left":m={x:r.x-s.width,y:h};break;default:m={x:r.x,y:r.y}}switch(Ho(t)){case"start":m[i]-=p*(n&&c?-1:1);break;case"end":m[i]+=p*(n&&c?-1:1);break}return m}async function t2(e,t){var n;t===void 0&&(t={});const{x:r,y:s,platform:o,rects:i,elements:a,strategy:l}=e,{boundary:c="clippingAncestors",rootBoundary:d="viewport",elementContext:h="floating",altBoundary:p=!1,padding:m=0}=yr(t,e),v=K_(m),b=a[p?h==="floating"?"reference":"floating":h],g=bu(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(b)))==null||n?b:b.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(a.floating)),boundary:c,rootBoundary:d,strategy:l})),x=h==="floating"?{x:r,y:s,width:i.floating.width,height:i.floating.height}:i.reference,w=await(o.getOffsetParent==null?void 0:o.getOffsetParent(a.floating)),C=await(o.isElement==null?void 0:o.isElement(w))?await(o.getScale==null?void 0:o.getScale(w))||{x:1,y:1}:{x:1,y:1},R=bu(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:x,offsetParent:w,strategy:l}):x);return{top:(g.top-R.top+v.top)/C.y,bottom:(R.bottom-g.bottom+v.bottom)/C.y,left:(g.left-R.left+v.left)/C.x,right:(R.right-g.right+v.right)/C.x}}const n2=async(e,t,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:o=[],platform:i}=n,a=o.filter(Boolean),l=await(i.isRTL==null?void 0:i.isRTL(t));let c=await i.getElementRects({reference:e,floating:t,strategy:s}),{x:d,y:h}=Hv(c,r,l),p=r,m={},v=0;for(let b=0;b<a.length;b++){var y;const{name:g,fn:x}=a[b],{x:w,y:C,data:R,reset:S}=await x({x:d,y:h,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:c,platform:{...i,detectOverflow:(y=i.detectOverflow)!=null?y:t2},elements:{reference:e,floating:t}});d=w??d,h=C??h,m={...m,[g]:{...m[g],...R}},S&&v<=50&&(v++,typeof S=="object"&&(S.placement&&(p=S.placement),S.rects&&(c=S.rects===!0?await i.getElementRects({reference:e,floating:t,strategy:s}):S.rects),{x:d,y:h}=Hv(c,p,l)),b=-1)}return{x:d,y:h,placement:p,strategy:s,middlewareData:m}},r2=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:s,rects:o,platform:i,elements:a,middlewareData:l}=t,{element:c,padding:d=0}=yr(e,t)||{};if(c==null)return{};const h=K_(d),p={x:n,y:r},m=Fp(s),v=Dp(m),y=await i.getDimensions(c),b=m==="y",g=b?"top":"left",x=b?"bottom":"right",w=b?"clientHeight":"clientWidth",C=o.reference[v]+o.reference[m]-p[m]-o.floating[v],R=p[m]-o.reference[m],S=await(i.getOffsetParent==null?void 0:i.getOffsetParent(c));let T=S?S[w]:0;(!T||!await(i.isElement==null?void 0:i.isElement(S)))&&(T=a.floating[w]||o.floating[v]);const N=C/2-R/2,M=T/2-y[v]/2-1,A=Yr(h[g],M),L=Yr(h[x],M),I=A,V=T-y[v]-L,$=T/2-y[v]/2+N,W=Yf(I,$,V),H=!l.arrow&&Ho(s)!=null&&$!==W&&o.reference[v]/2-($<I?A:L)-y[v]/2<0,G=H?$<I?$-I:$-V:0;return{[m]:p[m]+G,data:{[m]:W,centerOffset:$-W-G,...H&&{alignmentOffset:G}},reset:H}}}),s2=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:s,middlewareData:o,rects:i,initialPlacement:a,platform:l,elements:c}=t,{mainAxis:d=!0,crossAxis:h=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:v="none",flipAlignment:y=!0,...b}=yr(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const g=vr(s),x=Wn(a),w=vr(a)===a,C=await(l.isRTL==null?void 0:l.isRTL(c.floating)),R=p||(w||!y?[wu(a)]:Yj(a)),S=v!=="none";!p&&S&&R.push(...Zj(a,y,v,C));const T=[a,...R],N=await l.detectOverflow(t,b),M=[];let A=((r=o.flip)==null?void 0:r.overflows)||[];if(d&&M.push(N[g]),h){const $=Gj(s,i,C);M.push(N[$[0]],N[$[1]])}if(A=[...A,{placement:s,overflows:M}],!M.every($=>$<=0)){var L,I;const $=(((L=o.flip)==null?void 0:L.index)||0)+1,W=T[$];if(W&&(!(h==="alignment"?x!==Wn(W):!1)||A.every(j=>Wn(j.placement)===x?j.overflows[0]>0:!0)))return{data:{index:$,overflows:A},reset:{placement:W}};let H=(I=A.filter(G=>G.overflows[0]<=0).sort((G,j)=>G.overflows[1]-j.overflows[1])[0])==null?void 0:I.placement;if(!H)switch(m){case"bestFit":{var V;const G=(V=A.filter(j=>{if(S){const B=Wn(j.placement);return B===x||B==="y"}return!0}).map(j=>[j.placement,j.overflows.filter(B=>B>0).reduce((B,_)=>B+_,0)]).sort((j,B)=>j[1]-B[1])[0])==null?void 0:V[0];G&&(H=G);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function Vv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Wv(e){return Vj.some(t=>e[t]>=0)}const o2=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n,platform:r}=t,{strategy:s="referenceHidden",...o}=yr(e,t);switch(s){case"referenceHidden":{const i=await r.detectOverflow(t,{...o,elementContext:"reference"}),a=Vv(i,n.reference);return{data:{referenceHiddenOffsets:a,referenceHidden:Wv(a)}}}case"escaped":{const i=await r.detectOverflow(t,{...o,altBoundary:!0}),a=Vv(i,n.floating);return{data:{escapedOffsets:a,escaped:Wv(a)}}}default:return{}}}}},q_=new Set(["left","top"]);async function i2(e,t){const{placement:n,platform:r,elements:s}=e,o=await(r.isRTL==null?void 0:r.isRTL(s.floating)),i=vr(n),a=Ho(n),l=Wn(n)==="y",c=q_.has(i)?-1:1,d=o&&l?-1:1,h=yr(t,e);let{mainAxis:p,crossAxis:m,alignmentAxis:v}=typeof h=="number"?{mainAxis:h,crossAxis:0,alignmentAxis:null}:{mainAxis:h.mainAxis||0,crossAxis:h.crossAxis||0,alignmentAxis:h.alignmentAxis};return a&&typeof v=="number"&&(m=a==="end"?v*-1:v),l?{x:m*d,y:p*c}:{x:p*c,y:m*d}}const a2=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:s,y:o,placement:i,middlewareData:a}=t,l=await i2(t,e);return i===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:o+l.y,data:{...l,placement:i}}}}},l2=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:s,platform:o}=t,{mainAxis:i=!0,crossAxis:a=!1,limiter:l={fn:g=>{let{x,y:w}=g;return{x,y:w}}},...c}=yr(e,t),d={x:n,y:r},h=await o.detectOverflow(t,c),p=Wn(vr(s)),m=Lp(p);let v=d[m],y=d[p];if(i){const g=m==="y"?"top":"left",x=m==="y"?"bottom":"right",w=v+h[g],C=v-h[x];v=Yf(w,v,C)}if(a){const g=p==="y"?"top":"left",x=p==="y"?"bottom":"right",w=y+h[g],C=y-h[x];y=Yf(w,y,C)}const b=l.fn({...t,[m]:v,[p]:y});return{...b,data:{x:b.x-n,y:b.y-r,enabled:{[m]:i,[p]:a}}}}}},u2=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:s,rects:o,middlewareData:i}=t,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=yr(e,t),d={x:n,y:r},h=Wn(s),p=Lp(h);let m=d[p],v=d[h];const y=yr(a,t),b=typeof y=="number"?{mainAxis:y,crossAxis:0}:{mainAxis:0,crossAxis:0,...y};if(l){const w=p==="y"?"height":"width",C=o.reference[p]-o.floating[w]+b.mainAxis,R=o.reference[p]+o.reference[w]-b.mainAxis;m<C?m=C:m>R&&(m=R)}if(c){var g,x;const w=p==="y"?"width":"height",C=q_.has(vr(s)),R=o.reference[h]-o.floating[w]+(C&&((g=i.offset)==null?void 0:g[h])||0)+(C?0:b.crossAxis),S=o.reference[h]+o.reference[w]+(C?0:((x=i.offset)==null?void 0:x[h])||0)-(C?b.crossAxis:0);v<R?v=R:v>S&&(v=S)}return{[p]:m,[h]:v}}}},c2=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:s,rects:o,platform:i,elements:a}=t,{apply:l=()=>{},...c}=yr(e,t),d=await i.detectOverflow(t,c),h=vr(s),p=Ho(s),m=Wn(s)==="y",{width:v,height:y}=o.floating;let b,g;h==="top"||h==="bottom"?(b=h,g=p===(await(i.isRTL==null?void 0:i.isRTL(a.floating))?"start":"end")?"left":"right"):(g=h,b=p==="end"?"top":"bottom");const x=y-d.top-d.bottom,w=v-d.left-d.right,C=Yr(y-d[b],x),R=Yr(v-d[g],w),S=!t.middlewareData.shift;let T=C,N=R;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(N=w),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(T=x),S&&!p){const A=Vt(d.left,0),L=Vt(d.right,0),I=Vt(d.top,0),V=Vt(d.bottom,0);m?N=v-2*(A!==0||L!==0?A+L:Vt(d.left,d.right)):T=y-2*(I!==0||V!==0?I+V:Vt(d.top,d.bottom))}await l({...t,availableWidth:N,availableHeight:T});const M=await i.getDimensions(a.floating);return v!==M.width||y!==M.height?{reset:{rects:!0}}:{}}}};function oc(){return typeof window<"u"}function Vo(e){return G_(e)?(e.nodeName||"").toLowerCase():"#document"}function Yt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Zn(e){var t;return(t=(G_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function G_(e){return oc()?e instanceof Node||e instanceof Yt(e).Node:!1}function Tn(e){return oc()?e instanceof Element||e instanceof Yt(e).Element:!1}function Yn(e){return oc()?e instanceof HTMLElement||e instanceof Yt(e).HTMLElement:!1}function Kv(e){return!oc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Yt(e).ShadowRoot}const d2=new Set(["inline","contents"]);function Sa(e){const{overflow:t,overflowX:n,overflowY:r,display:s}=Rn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!d2.has(s)}const f2=new Set(["table","td","th"]);function h2(e){return f2.has(Vo(e))}const p2=[":popover-open",":modal"];function ic(e){return p2.some(t=>{try{return e.matches(t)}catch{return!1}})}const m2=["transform","translate","scale","rotate","perspective"],g2=["transform","translate","scale","rotate","perspective","filter"],y2=["paint","layout","strict","content"];function zp(e){const t=Bp(),n=Tn(e)?Rn(e):e;return m2.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||g2.some(r=>(n.willChange||"").includes(r))||y2.some(r=>(n.contain||"").includes(r))}function v2(e){let t=Xr(e);for(;Yn(t)&&!jo(t);){if(zp(t))return t;if(ic(t))return null;t=Xr(t)}return null}function Bp(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const x2=new Set(["html","body","#document"]);function jo(e){return x2.has(Vo(e))}function Rn(e){return Yt(e).getComputedStyle(e)}function ac(e){return Tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function Xr(e){if(Vo(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Kv(e)&&e.host||Zn(e);return Kv(t)?t.host:t}function Y_(e){const t=Xr(e);return jo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Yn(t)&&Sa(t)?t:Y_(t)}function aa(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const s=Y_(e),o=s===((r=e.ownerDocument)==null?void 0:r.body),i=Yt(s);if(o){const a=Qf(i);return t.concat(i,i.visualViewport||[],Sa(s)?s:[],a&&n?aa(a):[])}return t.concat(s,aa(s,[],n))}function Qf(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function X_(e){const t=Rn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const s=Yn(e),o=s?e.offsetWidth:n,i=s?e.offsetHeight:r,a=xu(n)!==o||xu(r)!==i;return a&&(n=o,r=i),{width:n,height:r,$:a}}function $p(e){return Tn(e)?e:e.contextElement}function vo(e){const t=$p(e);if(!Yn(t))return Gn(1);const n=t.getBoundingClientRect(),{width:r,height:s,$:o}=X_(t);let i=(o?xu(n.width):n.width)/r,a=(o?xu(n.height):n.height)/s;return(!i||!Number.isFinite(i))&&(i=1),(!a||!Number.isFinite(a))&&(a=1),{x:i,y:a}}const w2=Gn(0);function Q_(e){const t=Yt(e);return!Bp()||!t.visualViewport?w2:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function b2(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Yt(e)?!1:t}function Is(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const s=e.getBoundingClientRect(),o=$p(e);let i=Gn(1);t&&(r?Tn(r)&&(i=vo(r)):i=vo(e));const a=b2(o,n,r)?Q_(o):Gn(0);let l=(s.left+a.x)/i.x,c=(s.top+a.y)/i.y,d=s.width/i.x,h=s.height/i.y;if(o){const p=Yt(o),m=r&&Tn(r)?Yt(r):r;let v=p,y=Qf(v);for(;y&&r&&m!==v;){const b=vo(y),g=y.getBoundingClientRect(),x=Rn(y),w=g.left+(y.clientLeft+parseFloat(x.paddingLeft))*b.x,C=g.top+(y.clientTop+parseFloat(x.paddingTop))*b.y;l*=b.x,c*=b.y,d*=b.x,h*=b.y,l+=w,c+=C,v=Yt(y),y=Qf(v)}}return bu({width:d,height:h,x:l,y:c})}function lc(e,t){const n=ac(e).scrollLeft;return t?t.left+n:Is(Zn(e)).left+n}function J_(e,t){const n=e.getBoundingClientRect(),r=n.left+t.scrollLeft-lc(e,n),s=n.top+t.scrollTop;return{x:r,y:s}}function S2(e){let{elements:t,rect:n,offsetParent:r,strategy:s}=e;const o=s==="fixed",i=Zn(r),a=t?ic(t.floating):!1;if(r===i||a&&o)return n;let l={scrollLeft:0,scrollTop:0},c=Gn(1);const d=Gn(0),h=Yn(r);if((h||!h&&!o)&&((Vo(r)!=="body"||Sa(i))&&(l=ac(r)),Yn(r))){const m=Is(r);c=vo(r),d.x=m.x+r.clientLeft,d.y=m.y+r.clientTop}const p=i&&!h&&!o?J_(i,l):Gn(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+d.x+p.x,y:n.y*c.y-l.scrollTop*c.y+d.y+p.y}}function _2(e){return Array.from(e.getClientRects())}function C2(e){const t=Zn(e),n=ac(e),r=e.ownerDocument.body,s=Vt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Vt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let i=-n.scrollLeft+lc(e);const a=-n.scrollTop;return Rn(r).direction==="rtl"&&(i+=Vt(t.clientWidth,r.clientWidth)-s),{width:s,height:o,x:i,y:a}}const qv=25;function k2(e,t){const n=Yt(e),r=Zn(e),s=n.visualViewport;let o=r.clientWidth,i=r.clientHeight,a=0,l=0;if(s){o=s.width,i=s.height;const d=Bp();(!d||d&&t==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}const c=lc(r);if(c<=0){const d=r.ownerDocument,h=d.body,p=getComputedStyle(h),m=d.compatMode==="CSS1Compat"&&parseFloat(p.marginLeft)+parseFloat(p.marginRight)||0,v=Math.abs(r.clientWidth-h.clientWidth-m);v<=qv&&(o-=v)}else c<=qv&&(o+=c);return{width:o,height:i,x:a,y:l}}const E2=new Set(["absolute","fixed"]);function T2(e,t){const n=Is(e,!0,t==="fixed"),r=n.top+e.clientTop,s=n.left+e.clientLeft,o=Yn(e)?vo(e):Gn(1),i=e.clientWidth*o.x,a=e.clientHeight*o.y,l=s*o.x,c=r*o.y;return{width:i,height:a,x:l,y:c}}function Gv(e,t,n){let r;if(t==="viewport")r=k2(e,n);else if(t==="document")r=C2(Zn(e));else if(Tn(t))r=T2(t,n);else{const s=Q_(e);r={x:t.x-s.x,y:t.y-s.y,width:t.width,height:t.height}}return bu(r)}function Z_(e,t){const n=Xr(e);return n===t||!Tn(n)||jo(n)?!1:Rn(n).position==="fixed"||Z_(n,t)}function R2(e,t){const n=t.get(e);if(n)return n;let r=aa(e,[],!1).filter(a=>Tn(a)&&Vo(a)!=="body"),s=null;const o=Rn(e).position==="fixed";let i=o?Xr(e):e;for(;Tn(i)&&!jo(i);){const a=Rn(i),l=zp(i);!l&&a.position==="fixed"&&(s=null),(o?!l&&!s:!l&&a.position==="static"&&!!s&&E2.has(s.position)||Sa(i)&&!l&&Z_(e,i))?r=r.filter(d=>d!==i):s=a,i=Xr(i)}return t.set(e,r),r}function N2(e){let{element:t,boundary:n,rootBoundary:r,strategy:s}=e;const i=[...n==="clippingAncestors"?ic(t)?[]:R2(t,this._c):[].concat(n),r],a=i[0],l=i.reduce((c,d)=>{const h=Gv(t,d,s);return c.top=Vt(h.top,c.top),c.right=Yr(h.right,c.right),c.bottom=Yr(h.bottom,c.bottom),c.left=Vt(h.left,c.left),c},Gv(t,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function I2(e){const{width:t,height:n}=X_(e);return{width:t,height:n}}function P2(e,t,n){const r=Yn(t),s=Zn(t),o=n==="fixed",i=Is(e,!0,o,t);let a={scrollLeft:0,scrollTop:0};const l=Gn(0);function c(){l.x=lc(s)}if(r||!r&&!o)if((Vo(t)!=="body"||Sa(s))&&(a=ac(t)),r){const m=Is(t,!0,o,t);l.x=m.x+t.clientLeft,l.y=m.y+t.clientTop}else s&&c();o&&!r&&s&&c();const d=s&&!r&&!o?J_(s,a):Gn(0),h=i.left+a.scrollLeft-l.x-d.x,p=i.top+a.scrollTop-l.y-d.y;return{x:h,y:p,width:i.width,height:i.height}}function _d(e){return Rn(e).position==="static"}function Yv(e,t){if(!Yn(e)||Rn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Zn(e)===n&&(n=n.ownerDocument.body),n}function eC(e,t){const n=Yt(e);if(ic(e))return n;if(!Yn(e)){let s=Xr(e);for(;s&&!jo(s);){if(Tn(s)&&!_d(s))return s;s=Xr(s)}return n}let r=Yv(e,t);for(;r&&h2(r)&&_d(r);)r=Yv(r,t);return r&&jo(r)&&_d(r)&&!zp(r)?n:r||v2(e)||n}const A2=async function(e){const t=this.getOffsetParent||eC,n=this.getDimensions,r=await n(e.floating);return{reference:P2(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function j2(e){return Rn(e).direction==="rtl"}const M2={convertOffsetParentRelativeRectToViewportRelativeRect:S2,getDocumentElement:Zn,getClippingRect:N2,getOffsetParent:eC,getElementRects:A2,getClientRects:_2,getDimensions:I2,getScale:vo,isElement:Tn,isRTL:j2};function tC(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function O2(e,t){let n=null,r;const s=Zn(e);function o(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function i(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),o();const c=e.getBoundingClientRect(),{left:d,top:h,width:p,height:m}=c;if(a||t(),!p||!m)return;const v=rl(h),y=rl(s.clientWidth-(d+p)),b=rl(s.clientHeight-(h+m)),g=rl(d),w={rootMargin:-v+"px "+-y+"px "+-b+"px "+-g+"px",threshold:Vt(0,Yr(1,l))||1};let C=!0;function R(S){const T=S[0].intersectionRatio;if(T!==l){if(!C)return i();T?i(!1,T):r=setTimeout(()=>{i(!1,1e-7)},1e3)}T===1&&!tC(c,e.getBoundingClientRect())&&i(),C=!1}try{n=new IntersectionObserver(R,{...w,root:s.ownerDocument})}catch{n=new IntersectionObserver(R,w)}n.observe(e)}return i(!0),o}function L2(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:o=!0,elementResize:i=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=$p(e),d=s||o?[...c?aa(c):[],...aa(t)]:[];d.forEach(g=>{s&&g.addEventListener("scroll",n,{passive:!0}),o&&g.addEventListener("resize",n)});const h=c&&a?O2(c,n):null;let p=-1,m=null;i&&(m=new ResizeObserver(g=>{let[x]=g;x&&x.target===c&&m&&(m.unobserve(t),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var w;(w=m)==null||w.observe(t)})),n()}),c&&!l&&m.observe(c),m.observe(t));let v,y=l?Is(e):null;l&&b();function b(){const g=Is(e);y&&!tC(y,g)&&n(),y=g,v=requestAnimationFrame(b)}return n(),()=>{var g;d.forEach(x=>{s&&x.removeEventListener("scroll",n),o&&x.removeEventListener("resize",n)}),h==null||h(),(g=m)==null||g.disconnect(),m=null,l&&cancelAnimationFrame(v)}}const D2=a2,F2=l2,z2=s2,B2=c2,$2=o2,Xv=r2,U2=u2,H2=(e,t,n)=>{const r=new Map,s={platform:M2,...n},o={...s.platform,_c:r};return n2(e,t,{...s,platform:o})};var V2=typeof document<"u",W2=function(){},Il=V2?f.useLayoutEffect:W2;function Su(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,s;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Su(e[r],t[r]))return!1;return!0}if(s=Object.keys(e),n=s.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,s[r]))return!1;for(r=n;r--!==0;){const o=s[r];if(!(o==="_owner"&&e.$$typeof)&&!Su(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function nC(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Qv(e,t){const n=nC(e);return Math.round(t*n)/n}function Cd(e){const t=f.useRef(e);return Il(()=>{t.current=e}),t}function K2(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:o,floating:i}={},transform:a=!0,whileElementsMounted:l,open:c}=e,[d,h]=f.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[p,m]=f.useState(r);Su(p,r)||m(r);const[v,y]=f.useState(null),[b,g]=f.useState(null),x=f.useCallback(j=>{j!==S.current&&(S.current=j,y(j))},[]),w=f.useCallback(j=>{j!==T.current&&(T.current=j,g(j))},[]),C=o||v,R=i||b,S=f.useRef(null),T=f.useRef(null),N=f.useRef(d),M=l!=null,A=Cd(l),L=Cd(s),I=Cd(c),V=f.useCallback(()=>{if(!S.current||!T.current)return;const j={placement:t,strategy:n,middleware:p};L.current&&(j.platform=L.current),H2(S.current,T.current,j).then(B=>{const _={...B,isPositioned:I.current!==!1};$.current&&!Su(N.current,_)&&(N.current=_,$o.flushSync(()=>{h(_)}))})},[p,t,n,L,I]);Il(()=>{c===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,h(j=>({...j,isPositioned:!1})))},[c]);const $=f.useRef(!1);Il(()=>($.current=!0,()=>{$.current=!1}),[]),Il(()=>{if(C&&(S.current=C),R&&(T.current=R),C&&R){if(A.current)return A.current(C,R,V);V()}},[C,R,V,A,M]);const W=f.useMemo(()=>({reference:S,floating:T,setReference:x,setFloating:w}),[x,w]),H=f.useMemo(()=>({reference:C,floating:R}),[C,R]),G=f.useMemo(()=>{const j={position:n,left:0,top:0};if(!H.floating)return j;const B=Qv(H.floating,d.x),_=Qv(H.floating,d.y);return a?{...j,transform:"translate("+B+"px, "+_+"px)",...nC(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:B,top:_}},[n,a,H.floating,d.x,d.y]);return f.useMemo(()=>({...d,update:V,refs:W,elements:H,floatingStyles:G}),[d,V,W,H,G])}const q2=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:s}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Xv({element:r.current,padding:s}).fn(n):{}:r?Xv({element:r,padding:s}).fn(n):{}}}},G2=(e,t)=>({...D2(e),options:[e,t]}),Y2=(e,t)=>({...F2(e),options:[e,t]}),X2=(e,t)=>({...U2(e),options:[e,t]}),Q2=(e,t)=>({...z2(e),options:[e,t]}),J2=(e,t)=>({...B2(e),options:[e,t]}),Z2=(e,t)=>({...$2(e),options:[e,t]}),eM=(e,t)=>({...q2(e),options:[e,t]});var tM="Arrow",rC=f.forwardRef((e,t)=>{const{children:n,width:r=10,height:s=5,...o}=e;return u.jsx(se.svg,{...o,ref:t,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});rC.displayName=tM;var nM=rC;function sC(e){const[t,n]=f.useState(void 0);return Qe(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const o=s[0];let i,a;if("borderBoxSize"in o){const l=o.borderBoxSize,c=Array.isArray(l)?l[0]:l;i=c.inlineSize,a=c.blockSize}else i=e.offsetWidth,a=e.offsetHeight;n({width:i,height:a})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var Up="Popper",[oC,uc]=Jn(Up),[rM,iC]=oC(Up),aC=e=>{const{__scopePopper:t,children:n}=e,[r,s]=f.useState(null);return u.jsx(rM,{scope:t,anchor:r,onAnchorChange:s,children:n})};aC.displayName=Up;var lC="PopperAnchor",uC=f.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...s}=e,o=iC(lC,n),i=f.useRef(null),a=me(t,i),l=f.useRef(null);return f.useEffect(()=>{const c=l.current;l.current=(r==null?void 0:r.current)||i.current,c!==l.current&&o.onAnchorChange(l.current)}),r?null:u.jsx(se.div,{...s,ref:a})});uC.displayName=lC;var Hp="PopperContent",[sM,oM]=oC(Hp),cC=f.forwardRef((e,t)=>{var Q,de,Pe,ye,fe,Ce;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:o="center",alignOffset:i=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:d=0,sticky:h="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:v,...y}=e,b=iC(Hp,n),[g,x]=f.useState(null),w=me(t,nt=>x(nt)),[C,R]=f.useState(null),S=sC(C),T=(S==null?void 0:S.width)??0,N=(S==null?void 0:S.height)??0,M=r+(o!=="center"?"-"+o:""),A=typeof d=="number"?d:{top:0,right:0,bottom:0,left:0,...d},L=Array.isArray(c)?c:[c],I=L.length>0,V={padding:A,boundary:L.filter(aM),altBoundary:I},{refs:$,floatingStyles:W,placement:H,isPositioned:G,middlewareData:j}=K2({strategy:"fixed",placement:M,whileElementsMounted:(...nt)=>L2(...nt,{animationFrame:m==="always"}),elements:{reference:b.anchor},middleware:[G2({mainAxis:s+N,alignmentAxis:i}),l&&Y2({mainAxis:!0,crossAxis:!1,limiter:h==="partial"?X2():void 0,...V}),l&&Q2({...V}),J2({...V,apply:({elements:nt,rects:Nt,availableWidth:fn,availableHeight:hn})=>{const{width:An,height:is}=Nt.reference,jn=nt.floating.style;jn.setProperty("--radix-popper-available-width",`${fn}px`),jn.setProperty("--radix-popper-available-height",`${hn}px`),jn.setProperty("--radix-popper-anchor-width",`${An}px`),jn.setProperty("--radix-popper-anchor-height",`${is}px`)}}),C&&eM({element:C,padding:a}),lM({arrowWidth:T,arrowHeight:N}),p&&Z2({strategy:"referenceHidden",...V})]}),[B,_]=hC(H),te=We(v);Qe(()=>{G&&(te==null||te())},[G,te]);const ce=(Q=j.arrow)==null?void 0:Q.x,E=(de=j.arrow)==null?void 0:de.y,Te=((Pe=j.arrow)==null?void 0:Pe.centerOffset)!==0,[Ke,ge]=f.useState();return Qe(()=>{g&&ge(window.getComputedStyle(g).zIndex)},[g]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...W,transform:G?W.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ke,"--radix-popper-transform-origin":[(ye=j.transformOrigin)==null?void 0:ye.x,(fe=j.transformOrigin)==null?void 0:fe.y].join(" "),...((Ce=j.hide)==null?void 0:Ce.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:u.jsx(sM,{scope:n,placedSide:B,onArrowChange:R,arrowX:ce,arrowY:E,shouldHideArrow:Te,children:u.jsx(se.div,{"data-side":B,"data-align":_,...y,ref:w,style:{...y.style,animation:G?void 0:"none"}})})})});cC.displayName=Hp;var dC="PopperArrow",iM={top:"bottom",right:"left",bottom:"top",left:"right"},fC=f.forwardRef(function(t,n){const{__scopePopper:r,...s}=t,o=oM(dC,r),i=iM[o.placedSide];return u.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[i]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:u.jsx(nM,{...s,ref:n,style:{...s.style,display:"block"}})})});fC.displayName=dC;function aM(e){return e!==null}var lM=e=>({name:"transformOrigin",options:e,fn(t){var b,g,x;const{placement:n,rects:r,middlewareData:s}=t,i=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=i?0:e.arrowWidth,l=i?0:e.arrowHeight,[c,d]=hC(n),h={start:"0%",center:"50%",end:"100%"}[d],p=(((g=s.arrow)==null?void 0:g.x)??0)+a/2,m=(((x=s.arrow)==null?void 0:x.y)??0)+l/2;let v="",y="";return c==="bottom"?(v=i?h:`${p}px`,y=`${-l}px`):c==="top"?(v=i?h:`${p}px`,y=`${r.floating.height+l}px`):c==="right"?(v=`${-l}px`,y=i?h:`${m}px`):c==="left"&&(v=`${r.floating.width+l}px`,y=i?h:`${m}px`),{data:{x:v,y}}}});function hC(e){const[t,n="center"]=e.split("-");return[t,n]}var pC=aC,mC=uC,gC=cC,yC=fC,uM="Portal",Vp=f.forwardRef((e,t)=>{var a;const{container:n,...r}=e,[s,o]=f.useState(!1);Qe(()=>o(!0),[]);const i=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return i?LN.createPortal(u.jsx(se.div,{...r,ref:t}),i):null});Vp.displayName=uM;function cM(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var er=e=>{const{present:t,children:n}=e,r=dM(t),s=typeof n=="function"?n({present:r.isPresent}):f.Children.only(n),o=me(r.ref,fM(s));return typeof n=="function"||r.isPresent?f.cloneElement(s,{ref:o}):null};er.displayName="Presence";function dM(e){const[t,n]=f.useState(),r=f.useRef(null),s=f.useRef(e),o=f.useRef("none"),i=e?"mounted":"unmounted",[a,l]=cM(i,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return f.useEffect(()=>{const c=sl(r.current);o.current=a==="mounted"?c:"none"},[a]),Qe(()=>{const c=r.current,d=s.current;if(d!==e){const p=o.current,m=sl(c);e?l("MOUNT"):m==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(d&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=e}},[e,l]),Qe(()=>{if(t){let c;const d=t.ownerDocument.defaultView??window,h=m=>{const y=sl(r.current).includes(CSS.escape(m.animationName));if(m.target===t&&y&&(l("ANIMATION_END"),!s.current)){const b=t.style.animationFillMode;t.style.animationFillMode="forwards",c=d.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=b)})}},p=m=>{m.target===t&&(o.current=sl(r.current))};return t.addEventListener("animationstart",p),t.addEventListener("animationcancel",h),t.addEventListener("animationend",h),()=>{d.clearTimeout(c),t.removeEventListener("animationstart",p),t.removeEventListener("animationcancel",h),t.removeEventListener("animationend",h)}}else l("ANIMATION_END")},[t,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:f.useCallback(c=>{r.current=c?getComputedStyle(c):null,n(c)},[])}}function sl(e){return(e==null?void 0:e.animationName)||"none"}function fM(e){var r,s;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(s=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:s.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}var kd="rovingFocusGroup.onEntryFocus",hM={bubbles:!1,cancelable:!0},_a="RovingFocusGroup",[Jf,vC,pM]=B_(_a),[mM,xC]=Jn(_a,[pM]),[gM,yM]=mM(_a),wC=f.forwardRef((e,t)=>u.jsx(Jf.Provider,{scope:e.__scopeRovingFocusGroup,children:u.jsx(Jf.Slot,{scope:e.__scopeRovingFocusGroup,children:u.jsx(vM,{...e,ref:t})})}));wC.displayName=_a;var vM=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:o,currentTabStopId:i,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:d=!1,...h}=e,p=f.useRef(null),m=me(t,p),v=rc(o),[y,b]=Ns({prop:i,defaultProp:a??null,onChange:l,caller:_a}),[g,x]=f.useState(!1),w=We(c),C=vC(n),R=f.useRef(!1),[S,T]=f.useState(0);return f.useEffect(()=>{const N=p.current;if(N)return N.addEventListener(kd,w),()=>N.removeEventListener(kd,w)},[w]),u.jsx(gM,{scope:n,orientation:r,dir:v,loop:s,currentTabStopId:y,onItemFocus:f.useCallback(N=>b(N),[b]),onItemShiftTab:f.useCallback(()=>x(!0),[]),onFocusableItemAdd:f.useCallback(()=>T(N=>N+1),[]),onFocusableItemRemove:f.useCallback(()=>T(N=>N-1),[]),children:u.jsx(se.div,{tabIndex:g||S===0?-1:0,"data-orientation":r,...h,ref:m,style:{outline:"none",...e.style},onMouseDown:J(e.onMouseDown,()=>{R.current=!0}),onFocus:J(e.onFocus,N=>{const M=!R.current;if(N.target===N.currentTarget&&M&&!g){const A=new CustomEvent(kd,hM);if(N.currentTarget.dispatchEvent(A),!A.defaultPrevented){const L=C().filter(H=>H.focusable),I=L.find(H=>H.active),V=L.find(H=>H.id===y),W=[I,V,...L].filter(Boolean).map(H=>H.ref.current);_C(W,d)}}R.current=!1}),onBlur:J(e.onBlur,()=>x(!1))})})}),bC="RovingFocusGroupItem",SC=f.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:o,children:i,...a}=e,l=dr(),c=o||l,d=yM(bC,n),h=d.currentTabStopId===c,p=vC(n),{onFocusableItemAdd:m,onFocusableItemRemove:v,currentTabStopId:y}=d;return f.useEffect(()=>{if(r)return m(),()=>v()},[r,m,v]),u.jsx(Jf.ItemSlot,{scope:n,id:c,focusable:r,active:s,children:u.jsx(se.span,{tabIndex:h?0:-1,"data-orientation":d.orientation,...a,ref:t,onMouseDown:J(e.onMouseDown,b=>{r?d.onItemFocus(c):b.preventDefault()}),onFocus:J(e.onFocus,()=>d.onItemFocus(c)),onKeyDown:J(e.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){d.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const g=bM(b,d.orientation,d.dir);if(g!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let w=p().filter(C=>C.focusable).map(C=>C.ref.current);if(g==="last")w.reverse();else if(g==="prev"||g==="next"){g==="prev"&&w.reverse();const C=w.indexOf(b.currentTarget);w=d.loop?SM(w,C+1):w.slice(C+1)}setTimeout(()=>_C(w))}}),children:typeof i=="function"?i({isCurrentTabStop:h,hasTabStop:y!=null}):i})})});SC.displayName=bC;var xM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function wM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function bM(e,t,n){const r=wM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return xM[r]}function _C(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function SM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var _M=wC,CM=SC,kM=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},Us=new WeakMap,ol=new WeakMap,il={},Ed=0,CC=function(e){return e&&(e.host||CC(e.parentNode))},EM=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=CC(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},TM=function(e,t,n,r){var s=EM(t,Array.isArray(e)?e:[e]);il[n]||(il[n]=new WeakMap);var o=il[n],i=[],a=new Set,l=new Set(s),c=function(h){!h||a.has(h)||(a.add(h),c(h.parentNode))};s.forEach(c);var d=function(h){!h||l.has(h)||Array.prototype.forEach.call(h.children,function(p){if(a.has(p))d(p);else try{var m=p.getAttribute(r),v=m!==null&&m!=="false",y=(Us.get(p)||0)+1,b=(o.get(p)||0)+1;Us.set(p,y),o.set(p,b),i.push(p),y===1&&v&&ol.set(p,!0),b===1&&p.setAttribute(n,"true"),v||p.setAttribute(r,"true")}catch(g){console.error("aria-hidden: cannot operate on ",p,g)}})};return d(t),a.clear(),Ed++,function(){i.forEach(function(h){var p=Us.get(h)-1,m=o.get(h)-1;Us.set(h,p),o.set(h,m),p||(ol.has(h)||h.removeAttribute(r),ol.delete(h)),m||h.removeAttribute(n)}),Ed--,Ed||(Us=new WeakMap,Us=new WeakMap,ol=new WeakMap,il={})}},kC=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),s=kM(e);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),TM(r,s,n,"aria-hidden")):function(){return null}},Un=function(){return Un=Object.assign||function(t){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},Un.apply(this,arguments)};function EC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(e);s<r.length;s++)t.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(e,r[s])&&(n[r[s]]=e[r[s]]);return n}function RM(e,t,n){if(n||arguments.length===2)for(var r=0,s=t.length,o;r<s;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Pl="right-scroll-bar-position",Al="width-before-scroll-bar",NM="with-scroll-bars-hidden",IM="--removed-body-scroll-bar-size";function Td(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function PM(e,t){var n=f.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=t,n.facade}var AM=typeof window<"u"?f.useLayoutEffect:f.useEffect,Jv=new WeakMap;function jM(e,t){var n=PM(null,function(r){return e.forEach(function(s){return Td(s,r)})});return AM(function(){var r=Jv.get(n);if(r){var s=new Set(r),o=new Set(e),i=n.current;s.forEach(function(a){o.has(a)||Td(a,null)}),o.forEach(function(a){s.has(a)||Td(a,i)})}Jv.set(n,e)},[e]),n}function MM(e){return e}function OM(e,t){t===void 0&&(t=MM);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var i=t(o,r);return n.push(i),function(){n=n.filter(function(a){return a!==i})}},assignSyncMedium:function(o){for(r=!0;n.length;){var i=n;n=[],i.forEach(o)}n={push:function(a){return o(a)},filter:function(){return n}}},assignMedium:function(o){r=!0;var i=[];if(n.length){var a=n;n=[],a.forEach(o),i=n}var l=function(){var d=i;i=[],d.forEach(o)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(d){i.push(d),c()},filter:function(d){return i=i.filter(d),n}}}};return s}function LM(e){e===void 0&&(e={});var t=OM(null);return t.options=Un({async:!0,ssr:!1},e),t}var TC=function(e){var t=e.sideCar,n=EC(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return f.createElement(r,Un({},n))};TC.isSideCarExport=!0;function DM(e,t){return e.useMedium(t),TC}var RC=LM(),Rd=function(){},cc=f.forwardRef(function(e,t){var n=f.useRef(null),r=f.useState({onScrollCapture:Rd,onWheelCapture:Rd,onTouchMoveCapture:Rd}),s=r[0],o=r[1],i=e.forwardProps,a=e.children,l=e.className,c=e.removeScrollBar,d=e.enabled,h=e.shards,p=e.sideCar,m=e.noRelative,v=e.noIsolation,y=e.inert,b=e.allowPinchZoom,g=e.as,x=g===void 0?"div":g,w=e.gapMode,C=EC(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),R=p,S=jM([n,t]),T=Un(Un({},C),s);return f.createElement(f.Fragment,null,d&&f.createElement(R,{sideCar:RC,removeScrollBar:c,shards:h,noRelative:m,noIsolation:v,inert:y,setCallbacks:o,allowPinchZoom:!!b,lockRef:n,gapMode:w}),i?f.cloneElement(f.Children.only(a),Un(Un({},T),{ref:S})):f.createElement(x,Un({},T,{className:l,ref:S}),a))});cc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cc.classNames={fullWidth:Al,zeroRight:Pl};var FM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function zM(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=FM();return t&&e.setAttribute("nonce",t),e}function BM(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function $M(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var UM=function(){var e=0,t=null;return{add:function(n){e==0&&(t=zM())&&(BM(t,n),$M(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},HM=function(){var e=UM();return function(t,n){f.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},NC=function(){var e=HM(),t=function(n){var r=n.styles,s=n.dynamic;return e(r,s),null};return t},VM={left:0,top:0,right:0,gap:0},Nd=function(e){return parseInt(e||"",10)||0},WM=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],s=t[e==="padding"?"paddingRight":"marginRight"];return[Nd(n),Nd(r),Nd(s)]},KM=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return VM;var t=WM(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},qM=NC(),xo="data-scroll-locked",GM=function(e,t,n,r){var s=e.left,o=e.top,i=e.right,a=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(NM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(xo,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(i,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Pl,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Al,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Pl," .").concat(Pl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(xo,`] {
    `).concat(IM,": ").concat(a,`px;
  }
`)},Zv=function(){var e=parseInt(document.body.getAttribute(xo)||"0",10);return isFinite(e)?e:0},YM=function(){f.useEffect(function(){return document.body.setAttribute(xo,(Zv()+1).toString()),function(){var e=Zv()-1;e<=0?document.body.removeAttribute(xo):document.body.setAttribute(xo,e.toString())}},[])},XM=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,s=r===void 0?"margin":r;YM();var o=f.useMemo(function(){return KM(s)},[s]);return f.createElement(qM,{styles:GM(o,!t,s,n?"":"!important")})},Zf=!1;if(typeof window<"u")try{var al=Object.defineProperty({},"passive",{get:function(){return Zf=!0,!0}});window.addEventListener("test",al,al),window.removeEventListener("test",al,al)}catch{Zf=!1}var Hs=Zf?{passive:!1}:!1,QM=function(e){return e.tagName==="TEXTAREA"},IC=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!QM(e)&&n[t]==="visible")},JM=function(e){return IC(e,"overflowY")},ZM=function(e){return IC(e,"overflowX")},ex=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=PC(e,r);if(s){var o=AC(e,r),i=o[1],a=o[2];if(i>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},eO=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},tO=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},PC=function(e,t){return e==="v"?JM(t):ZM(t)},AC=function(e,t){return e==="v"?eO(t):tO(t)},nO=function(e,t){return e==="h"&&t==="rtl"?-1:1},rO=function(e,t,n,r,s){var o=nO(e,window.getComputedStyle(t).direction),i=o*r,a=n.target,l=t.contains(a),c=!1,d=i>0,h=0,p=0;do{if(!a)break;var m=AC(e,a),v=m[0],y=m[1],b=m[2],g=y-b-o*v;(v||g)&&PC(e,a)&&(h+=g,p+=v);var x=a.parentNode;a=x&&x.nodeType===Node.DOCUMENT_FRAGMENT_NODE?x.host:x}while(!l&&a!==document.body||l&&(t.contains(a)||t===a));return(d&&Math.abs(h)<1||!d&&Math.abs(p)<1)&&(c=!0),c},ll=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},tx=function(e){return[e.deltaX,e.deltaY]},nx=function(e){return e&&"current"in e?e.current:e},sO=function(e,t){return e[0]===t[0]&&e[1]===t[1]},oO=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},iO=0,Vs=[];function aO(e){var t=f.useRef([]),n=f.useRef([0,0]),r=f.useRef(),s=f.useState(iO++)[0],o=f.useState(NC)[0],i=f.useRef(e);f.useEffect(function(){i.current=e},[e]),f.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(s));var y=RM([e.lockRef.current],(e.shards||[]).map(nx),!0).filter(Boolean);return y.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),y.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[e.inert,e.lockRef.current,e.shards]);var a=f.useCallback(function(y,b){if("touches"in y&&y.touches.length===2||y.type==="wheel"&&y.ctrlKey)return!i.current.allowPinchZoom;var g=ll(y),x=n.current,w="deltaX"in y?y.deltaX:x[0]-g[0],C="deltaY"in y?y.deltaY:x[1]-g[1],R,S=y.target,T=Math.abs(w)>Math.abs(C)?"h":"v";if("touches"in y&&T==="h"&&S.type==="range")return!1;var N=window.getSelection(),M=N&&N.anchorNode,A=M?M===S||M.contains(S):!1;if(A)return!1;var L=ex(T,S);if(!L)return!0;if(L?R=T:(R=T==="v"?"h":"v",L=ex(T,S)),!L)return!1;if(!r.current&&"changedTouches"in y&&(w||C)&&(r.current=R),!R)return!0;var I=r.current||R;return rO(I,b,y,I==="h"?w:C)},[]),l=f.useCallback(function(y){var b=y;if(!(!Vs.length||Vs[Vs.length-1]!==o)){var g="deltaY"in b?tx(b):ll(b),x=t.current.filter(function(R){return R.name===b.type&&(R.target===b.target||b.target===R.shadowParent)&&sO(R.delta,g)})[0];if(x&&x.should){b.cancelable&&b.preventDefault();return}if(!x){var w=(i.current.shards||[]).map(nx).filter(Boolean).filter(function(R){return R.contains(b.target)}),C=w.length>0?a(b,w[0]):!i.current.noIsolation;C&&b.cancelable&&b.preventDefault()}}},[]),c=f.useCallback(function(y,b,g,x){var w={name:y,delta:b,target:g,should:x,shadowParent:lO(g)};t.current.push(w),setTimeout(function(){t.current=t.current.filter(function(C){return C!==w})},1)},[]),d=f.useCallback(function(y){n.current=ll(y),r.current=void 0},[]),h=f.useCallback(function(y){c(y.type,tx(y),y.target,a(y,e.lockRef.current))},[]),p=f.useCallback(function(y){c(y.type,ll(y),y.target,a(y,e.lockRef.current))},[]);f.useEffect(function(){return Vs.push(o),e.setCallbacks({onScrollCapture:h,onWheelCapture:h,onTouchMoveCapture:p}),document.addEventListener("wheel",l,Hs),document.addEventListener("touchmove",l,Hs),document.addEventListener("touchstart",d,Hs),function(){Vs=Vs.filter(function(y){return y!==o}),document.removeEventListener("wheel",l,Hs),document.removeEventListener("touchmove",l,Hs),document.removeEventListener("touchstart",d,Hs)}},[]);var m=e.removeScrollBar,v=e.inert;return f.createElement(f.Fragment,null,v?f.createElement(o,{styles:oO(s)}):null,m?f.createElement(XM,{noRelative:e.noRelative,gapMode:e.gapMode}):null)}function lO(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const uO=DM(RC,aO);var Wp=f.forwardRef(function(e,t){return f.createElement(cc,Un({},e,{ref:t,sideCar:uO}))});Wp.classNames=cc.classNames;const jC=f.forwardRef((e,t)=>u.jsx(Zt.div,{...e,ref:t}));jC.displayName="AttachmentPrimitive.Root";const eh=()=>{const e=ee(({attachment:t})=>t.name);return u.jsx(u.Fragment,{children:e})};eh.displayName="AttachmentPrimitive.Name";const cO=()=>{const e=pe();return f.useCallback(()=>{e.attachment().remove()},[e])},dO=In("AttachmentPrimitive.Remove",cO),fO=()=>{const e=pe(),t=ee(({thread:r,message:s})=>!!(s.branchNumber>=s.branchCount||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"next"})},[e]);return t?null:n},hO=In("BranchPickerPrimitive.Next",fO),pO=()=>{const e=pe(),t=ee(({thread:r,message:s})=>!!(s.branchNumber<=1||r.isRunning&&!r.capabilities.switchBranchDuringRun)),n=f.useCallback(()=>{e.message().switchToBranch({position:"previous"})},[e]);return t?null:n},mO=In("BranchPickerPrimitive.Previous",pO),gO=()=>ee(({message:t})=>t.branchCount),MC=()=>{const e=gO();return u.jsx(u.Fragment,{children:e})};MC.displayName="BranchPickerPrimitive.Count";const yO=()=>ee(({message:t})=>t.branchNumber),OC=()=>{const e=yO();return u.jsx(u.Fragment,{children:e})};OC.displayName="BranchPickerPrimitive.Number";const Ca=e=>{const t=f.useRef(void 0);return f.useCallback(r=>{t.current&&t.current(),r&&(t.current=e(r))},[e])},LC=(e,t)=>{const n=f.useCallback(r=>{if(!e)return;const s=e(),o=()=>{const a=t?t(r):r.offsetHeight;s.setHeight(a)},i=new ResizeObserver(o);return i.observe(r),o(),()=>{i.disconnect(),s.unregister()}},[e,t]);return Ca(n)},rx=f.createContext(!1),sx=(e,t)=>{const n=e.match(/^([\d.]+)(em|px|rem)$/);if(!n)return 0;const r=parseFloat(n[1]),s=n[2];if(s==="px")return r;if(s==="em"){const o=parseFloat(getComputedStyle(t).fontSize)||16;return r*o}if(s==="rem"){const o=parseFloat(getComputedStyle(document.documentElement).fontSize)||16;return r*o}return 0},DC=({children:e,fillClampThreshold:t="10em",fillClampOffset:n="6em"})=>{const r=ee(({thread:l,message:c})=>{var d;return c.isLast&&c.role==="assistant"&&c.index>=1&&((d=l.messages.at(c.index-1))==null?void 0:d.role)==="user"}),s=nc({optional:!0}),o=f.useContext(rx),i=f.useCallback(l=>{if(!s||o)return;const c=()=>{const d=s.getState();if(d.turnAnchor==="top"&&r){const{viewport:h,inset:p,userMessage:m}=d.height,v=sx(t,l),y=sx(n,l),b=m<=v?m:y,g=Math.max(0,h-p-b);l.style.minHeight=`${g}px`,l.style.flexShrink="0",l.style.transition="min-height 0s"}else l.style.minHeight="",l.style.flexShrink="",l.style.transition=""};return c(),s.subscribe(c)},[s,r,o,t,n]),a=Ca(i);return u.jsx(rx.Provider,{value:!0,children:u.jsx(j_,{ref:a,children:e})})};DC.displayName="ThreadPrimitive.ViewportSlack";const vO=()=>{const e=pe(),t=ee(()=>e.message()),n=f.useCallback(r=>{const s=()=>{t.setIsHovering(!0)},o=()=>{t.setIsHovering(!1)};return r.addEventListener("mouseenter",s),r.addEventListener("mouseleave",o),r.matches(":hover")&&queueMicrotask(()=>t.setIsHovering(!0)),()=>{r.removeEventListener("mouseenter",s),r.removeEventListener("mouseleave",o),t.setIsHovering(!1)}},[t]);return Ca(n)},xO=()=>{const e=ia(s=>s.turnAnchor),t=ia(s=>s.registerUserMessageHeight),n=ee(({thread:s,message:o})=>{var i;return e==="top"&&o.role==="user"&&o.index===s.messages.length-2&&((i=s.messages.at(-1))==null?void 0:i.role)==="assistant"}),r=f.useCallback(s=>s.offsetHeight,[]);return LC(n?t:null,r)},Kp=f.forwardRef((e,t)=>{const n=vO(),r=xO(),s=me(t,n,r);return u.jsx(DC,{children:u.jsx(Zt.div,{...e,ref:s})})});Kp.displayName="MessagePrimitive.Root";const wO=Object.freeze({type:"complete"}),bO=Ie(({parts:e,getMessagePart:t})=>{const[n,r]=kn(!0),s=Se(()=>{const i=e[e.length-1];return(i==null?void 0:i.status)??wO},[e]),o=Se(()=>({parts:e,collapsed:n,status:s}),[e,n,s]);return{state:o,methods:{getState:()=>o,setCollapsed:r,part:t}}}),SO=({startIndex:e,endIndex:t,children:n})=>{const r=ee(({message:i})=>i.parts).slice(e,t+1),s=pe(),o=pe({chainOfThought:bO({parts:r,getMessagePart:({index:i})=>{if(i<0||i>=r.length)throw new Error(`ChainOfThought part index ${i} is out of bounds (0..${r.length-1})`);return s.message().part({index:e+i})}})});return u.jsx(es,{value:o,children:n})},FC=()=>ee(({part:t})=>{if(t.type!=="text"&&t.type!=="reasoning")throw new Error("MessagePartText can only be used inside text or reasoning message parts.");return t}),qp=f.forwardRef(({smooth:e=!0,component:t="span",...n},r)=>{const{text:s,status:o}=w_(FC(),e);return u.jsx(t,{"data-status":o.type,...n,ref:r,children:s})});qp.displayName="MessagePartPrimitive.Text";const _O=()=>ee(({part:t})=>{if(t.type!=="image")throw new Error("MessagePartImage can only be used inside image message parts.");return t}),zC=f.forwardRef((e,t)=>{const{image:n}=_O();return u.jsx(Zt.img,{src:n,...e,ref:t})});zC.displayName="MessagePartPrimitive.Image";const BC=({children:e})=>ee(({part:n})=>n.status.type==="running")?e:null;BC.displayName="MessagePartPrimitive.InProgress";const ox=e=>Symbol.iterator in e,ix=e=>"entries"in e,ax=(e,t)=>{const n=e instanceof Map?e:new Map(e.entries()),r=t instanceof Map?t:new Map(t.entries());if(n.size!==r.size)return!1;for(const[s,o]of n)if(!r.has(s)||!Object.is(o,r.get(s)))return!1;return!0},CO=(e,t)=>{const n=e[Symbol.iterator](),r=t[Symbol.iterator]();let s=n.next(),o=r.next();for(;!s.done&&!o.done;){if(!Object.is(s.value,o.value))return!1;s=n.next(),o=r.next()}return!!s.done&&!!o.done};function kO(e,t){return Object.is(e,t)?!0:typeof e!="object"||e===null||typeof t!="object"||t===null||Object.getPrototypeOf(e)!==Object.getPrototypeOf(t)?!1:ox(e)&&ox(t)?ix(e)&&ix(t)?ax(e,t):CO(e,t):ax({entries:()=>Object.entries(e)},{entries:()=>Object.entries(t)})}function $C(e){const t=we.useRef(void 0);return n=>{const r=e(n);return kO(t.current,r)?t.current:t.current=r}}const Id=e=>{let t=-1;return{startGroup:n=>{t===-1&&(t=n)},endGroup:(n,r)=>{t!==-1&&(r.push({type:e,startIndex:t,endIndex:n}),t=-1)},finalize:(n,r)=>{t!==-1&&r.push({type:e,startIndex:t,endIndex:n})}}},EO=(e,t)=>{const n=[];if(t){const r=Id("chainOfThoughtGroup");for(let s=0;s<e.length;s++){const o=e[s];o==="tool-call"||o==="reasoning"?r.startGroup(s):(r.endGroup(s-1,n),n.push({type:"single",index:s}))}r.finalize(e.length-1,n)}else{const r=Id("toolGroup"),s=Id("reasoningGroup");for(let o=0;o<e.length;o++){const i=e[o];i==="tool-call"?(s.endGroup(o-1,n),r.startGroup(o)):i==="reasoning"?(r.endGroup(o-1,n),s.startGroup(o)):(r.endGroup(o-1,n),s.endGroup(o-1,n),n.push({type:"single",index:o}))}r.finalize(e.length-1,n),s.finalize(e.length-1,n)}return n},TO=e=>{const t=ee($C(n=>n.message.parts.map(r=>r.type)));return f.useMemo(()=>t.length===0?[]:EO(t,e),[t,e])},RO=({Fallback:e,...t})=>{const n=ee(({tools:r})=>{const s=r.tools[t.toolName]??e;return Array.isArray(s)?s[0]??e:s});return n?u.jsx(n,{...t}):null},ir={Text:()=>u.jsxs("p",{style:{whiteSpace:"pre-line"},children:[u.jsx(qp,{}),u.jsx(BC,{children:u.jsx("span",{style:{fontFamily:"revert"},children:" "})})]}),Reasoning:()=>null,Source:()=>null,Image:()=>u.jsx(zC,{}),File:()=>null,Unstable_Audio:()=>null,ToolGroup:({children:e})=>e,ReasoningGroup:({children:e})=>e},NO=({components:{Text:e=ir.Text,Reasoning:t=ir.Reasoning,Image:n=ir.Image,Source:r=ir.Source,File:s=ir.File,Unstable_Audio:o=ir.Unstable_Audio,tools:i={}}={}})=>{var d,h;const a=pe(),l=ee(({part:p})=>p),c=l.type;if(c==="tool-call"){const p=a.part().addToolResult,m=a.part().resumeToolCall;if("Override"in i)return u.jsx(i.Override,{...l,addResult:p,resume:m});const v=((d=i.by_name)==null?void 0:d[l.toolName])??i.Fallback;return u.jsx(RO,{...l,Fallback:v,addResult:p,resume:m})}if(((h=l.status)==null?void 0:h.type)==="requires-action")throw new Error("Encountered unexpected requires-action status");switch(c){case"text":return u.jsx(e,{...l});case"reasoning":return u.jsx(t,{...l});case"source":return u.jsx(r,{...l});case"image":return u.jsx(n,{...l});case"file":return u.jsx(s,{...l});case"audio":return u.jsx(o,{...l});case"data":return null;default:const p=c;throw new Error(`Unknown message part type: ${p}`)}},jl=f.memo(({index:e,components:t})=>u.jsx(PA,{index:e,children:u.jsx(NO,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,c,d,h,p,m,v,y,b,g,x,w;return e.index===t.index&&((n=e.components)==null?void 0:n.Text)===((r=t.components)==null?void 0:r.Text)&&((s=e.components)==null?void 0:s.Reasoning)===((o=t.components)==null?void 0:o.Reasoning)&&((i=e.components)==null?void 0:i.Source)===((a=t.components)==null?void 0:a.Source)&&((l=e.components)==null?void 0:l.Image)===((c=t.components)==null?void 0:c.Image)&&((d=e.components)==null?void 0:d.File)===((h=t.components)==null?void 0:h.File)&&((p=e.components)==null?void 0:p.Unstable_Audio)===((m=t.components)==null?void 0:m.Unstable_Audio)&&((v=e.components)==null?void 0:v.tools)===((y=t.components)==null?void 0:y.tools)&&((b=e.components)==null?void 0:b.ToolGroup)===((g=t.components)==null?void 0:g.ToolGroup)&&((x=e.components)==null?void 0:x.ReasoningGroup)===((w=t.components)==null?void 0:w.ReasoningGroup)});jl.displayName="MessagePrimitive.PartByIndex";const IO=({status:e,component:t})=>u.jsx(OA,{text:"",isRunning:e.type==="running",children:u.jsx(t,{type:"text",text:"",status:e})}),PO=Object.freeze({type:"complete"}),AO=({components:e})=>{const t=ee(n=>n.message.status??PO);return e!=null&&e.Empty?u.jsx(e.Empty,{status:t}):u.jsx(IO,{status:t,component:(e==null?void 0:e.Text)??ir.Text})},UC=f.memo(AO,(e,t)=>{var n,r,s,o;return((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),jO=({components:e,enabled:t})=>ee(({message:r})=>{if(!t||r.parts.length===0)return!1;const s=r.parts[r.parts.length-1];return(s==null?void 0:s.type)!=="text"&&(s==null?void 0:s.type)!=="reasoning"})?u.jsx(UC,{components:e}):null,MO=f.memo(jO,(e,t)=>{var n,r,s,o;return e.enabled===t.enabled&&((n=e.components)==null?void 0:n.Empty)===((r=t.components)==null?void 0:r.Empty)&&((s=e.components)==null?void 0:s.Text)===((o=t.components)==null?void 0:o.Text)}),Gp=({components:e,unstable_showEmptyOnNonTextEnd:t=!0})=>{const n=ee(({message:i})=>i.parts.length),r=!!(e!=null&&e.ChainOfThought),s=TO(r),o=f.useMemo(()=>n===0?u.jsx(UC,{components:e}):s.map(i=>{if(i.type==="single")return u.jsx(jl,{index:i.index,components:e},i.index);if(i.type==="chainOfThoughtGroup"){const a=e==null?void 0:e.ChainOfThought;return a?u.jsx(SO,{startIndex:i.startIndex,endIndex:i.endIndex,children:u.jsx(a,{})},`chainOfThought-${i.startIndex}`):null}else if(i.type==="toolGroup"){const a=(e==null?void 0:e.ToolGroup)??ir.ToolGroup;return u.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,c)=>u.jsx(jl,{index:i.startIndex+c,components:e},c))},`tool-${i.startIndex}`)}else{const a=(e==null?void 0:e.ReasoningGroup)??ir.ReasoningGroup;return u.jsx(a,{startIndex:i.startIndex,endIndex:i.endIndex,children:Array.from({length:i.endIndex-i.startIndex+1},(l,c)=>u.jsx(jl,{index:i.startIndex+c,components:e},c))},`reasoning-${i.startIndex}`)}}),[s,e,n]);return u.jsxs(u.Fragment,{children:[o,u.jsx(MO,{components:e,enabled:t})]})};Gp.displayName="MessagePrimitive.Parts";const OO=e=>ee(({message:t})=>{var d;const{role:n,attachments:r,parts:s,branchCount:o,isLast:i,speech:a,isCopied:l,isHovering:c}=t;return!(e.hasBranches===!0&&o<2||e.user&&n!=="user"||e.assistant&&n!=="assistant"||e.system&&n!=="system"||e.lastOrHover===!0&&!c&&!i||e.last!==void 0&&e.last!==i||e.copied===!0&&!l||e.copied===!1&&l||e.speaking===!0&&a==null||e.speaking===!1&&a!=null||e.hasAttachments===!0&&(n!=="user"||!(r!=null&&r.length))||e.hasAttachments===!1&&n==="user"&&(r!=null&&r.length)||e.hasContent===!0&&s.length===0||e.hasContent===!1&&s.length>0||e.submittedFeedback!==void 0&&(((d=t.metadata.submittedFeedback)==null?void 0:d.type)??null)!==e.submittedFeedback)}),xr=({children:e,...t})=>OO(t)?e:null;xr.displayName="MessagePrimitive.If";const LO=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},DO=({components:e})=>{const t=ee(({attachment:r})=>r);if(!t)return null;const n=LO(e,t);return n?u.jsx(n,{}):null},HC=f.memo(({index:e,components:t})=>u.jsx(AA,{index:e,children:u.jsx(DO,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,c;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((c=t.components)==null?void 0:c.Attachment)});HC.displayName="MessagePrimitive.AttachmentByIndex";const VC=({components:e})=>{const t=ee(({message:r})=>r.role!=="user"?0:r.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>u.jsx(HC,{index:s,components:e},s)),[t,e])};VC.displayName="MessagePrimitive.Attachments";const WC=f.forwardRef(({hideWhenSingleBranch:e,...t},n)=>u.jsx(xr,{hasBranches:e?!0:void 0,children:u.jsx(Zt.div,{...t,ref:n})}));WC.displayName="BranchPickerPrimitive.Root";const KC=()=>{const e=pe(),t=ee(r=>r.thread.isRunning||!r.composer.isEditing||r.composer.isEmpty),n=f.useCallback(()=>{e.composer().send()},[e]);return t?null:n},qC=In("ComposerPrimitive.Send",KC),Yp=f.forwardRef(({onSubmit:e,...t},n)=>{const r=KC(),s=o=>{o.preventDefault(),r&&r()};return u.jsx(Zt.form,{...t,ref:n,onSubmit:J(e,s)})});Yp.displayName="ComposerPrimitive.Root";function th(){return th=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},th.apply(null,arguments)}function FO(e,t){if(e==null)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.indexOf(r)!==-1)continue;n[r]=e[r]}return n}var zO=f.useLayoutEffect,BO=function(t){var n=we.useRef(t);return zO(function(){n.current=t}),n},lx=function(t,n){if(typeof t=="function"){t(n);return}t.current=n},$O=function(t,n){var r=we.useRef();return we.useCallback(function(s){t.current=s,r.current&&lx(r.current,null),r.current=n,n&&lx(n,s)},[n])},ux={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0",display:"block"},UO=function(t){Object.keys(ux).forEach(function(n){t.style.setProperty(n,ux[n],"important")})},cx=UO,_t=null,dx=function(t,n){var r=t.scrollHeight;return n.sizingStyle.boxSizing==="border-box"?r+n.borderSize:r-n.paddingSize};function HO(e,t,n,r){n===void 0&&(n=1),r===void 0&&(r=1/0),_t||(_t=document.createElement("textarea"),_t.setAttribute("tabindex","-1"),_t.setAttribute("aria-hidden","true"),cx(_t)),_t.parentNode===null&&document.body.appendChild(_t);var s=e.paddingSize,o=e.borderSize,i=e.sizingStyle,a=i.boxSizing;Object.keys(i).forEach(function(p){var m=p;_t.style[m]=i[m]}),cx(_t),_t.value=t;var l=dx(_t,e);_t.value=t,l=dx(_t,e),_t.value="x";var c=_t.scrollHeight-s,d=c*n;a==="border-box"&&(d=d+s+o),l=Math.max(d,l);var h=c*r;return a==="border-box"&&(h=h+s+o),l=Math.min(h,l),[l,c]}var fx=function(){},VO=function(t,n){return t.reduce(function(r,s){return r[s]=n[s],r},{})},WO=["borderBottomWidth","borderLeftWidth","borderRightWidth","borderTopWidth","boxSizing","fontFamily","fontSize","fontStyle","fontWeight","letterSpacing","lineHeight","paddingBottom","paddingLeft","paddingRight","paddingTop","tabSize","textIndent","textRendering","textTransform","width","wordBreak","wordSpacing","scrollbarGutter"],KO=!!document.documentElement.currentStyle,qO=function(t){var n=window.getComputedStyle(t);if(n===null)return null;var r=VO(WO,n),s=r.boxSizing;if(s==="")return null;KO&&s==="border-box"&&(r.width=parseFloat(r.width)+parseFloat(r.borderRightWidth)+parseFloat(r.borderLeftWidth)+parseFloat(r.paddingRight)+parseFloat(r.paddingLeft)+"px");var o=parseFloat(r.paddingBottom)+parseFloat(r.paddingTop),i=parseFloat(r.borderBottomWidth)+parseFloat(r.borderTopWidth);return{sizingStyle:r,paddingSize:o,borderSize:i}},GO=qO;function Xp(e,t,n){var r=BO(n);f.useLayoutEffect(function(){var s=function(i){return r.current(i)};if(e)return e.addEventListener(t,s),function(){return e.removeEventListener(t,s)}},[])}var YO=function(t,n){Xp(document.body,"reset",function(r){t.current.form===r.target&&n(r)})},XO=function(t){Xp(window,"resize",t)},QO=function(t){Xp(document.fonts,"loadingdone",t)},JO=["cacheMeasurements","maxRows","minRows","onChange","onHeightChange"],ZO=function(t,n){var r=t.cacheMeasurements,s=t.maxRows,o=t.minRows,i=t.onChange,a=i===void 0?fx:i,l=t.onHeightChange,c=l===void 0?fx:l,d=FO(t,JO),h=d.value!==void 0,p=f.useRef(null),m=$O(p,n),v=f.useRef(0),y=f.useRef(),b=function(){var w=p.current,C=r&&y.current?y.current:GO(w);if(C){y.current=C;var R=HO(C,w.value||w.placeholder||"x",o,s),S=R[0],T=R[1];v.current!==S&&(v.current=S,w.style.setProperty("height",S+"px","important"),c(S,{rowHeight:T}))}},g=function(w){h||b(),a(w)};return f.useLayoutEffect(b),YO(p,function(){if(!h){var x=p.current.value;requestAnimationFrame(function(){var w=p.current;w&&x!==w.value&&b()})}}),XO(b),QO(b),f.createElement("textarea",th({},d,{onChange:g,ref:m}))},eL=f.forwardRef(ZO);const GC=e=>{const t=We(e),n=ia(r=>r.onScrollToBottom);f.useEffect(()=>n(t),[n,t])},Qp=f.forwardRef(({autoFocus:e=!1,asChild:t,disabled:n,onChange:r,onKeyDown:s,onPaste:o,submitOnEnter:i=!0,cancelOnEscape:a=!0,unstable_focusOnRunStart:l=!0,unstable_focusOnScrollToBottom:c=!0,unstable_focusOnThreadSwitched:d=!0,addAttachmentOnPaste:h=!0,...p},m)=>{const v=pe(),y=ee(({composer:N})=>N.isEditing?N.text:""),b=t?j_:eL,g=ee(({thread:N,composer:M})=>{var A;return N.isDisabled||((A=M.dictation)==null?void 0:A.inputDisabled)})||n,x=f.useRef(null),w=me(m,x);Mp(N=>{var A;if(!a||!((A=x.current)!=null&&A.contains(N.target)))return;const M=v.composer();M.getState().canCancel&&(M.cancel(),N.preventDefault())});const C=N=>{var M,A;g||!i||N.nativeEvent.isComposing||N.key==="Enter"&&N.shiftKey===!1&&(v.thread().getState().isRunning||(N.preventDefault(),(A=(M=x.current)==null?void 0:M.closest("form"))==null||A.requestSubmit()))},R=async N=>{var L;if(!h)return;const M=v.thread().getState().capabilities,A=Array.from(((L=N.clipboardData)==null?void 0:L.files)||[]);if(M.attachments&&A.length>0)try{N.preventDefault(),await Promise.all(A.map(I=>v.composer().addAttachment(I)))}catch(I){console.error("Error adding attachment:",I)}},S=e&&!g,T=f.useCallback(()=>{const N=x.current;!N||!S||(N.focus({preventScroll:!0}),N.setSelectionRange(N.value.length,N.value.length))},[S]);return f.useEffect(()=>T(),[T]),GC(()=>{v.composer().getState().type==="thread"&&c&&T()}),f.useEffect(()=>{if(!(v.composer().getState().type!=="thread"||!l))return v.on("thread.runStart",T)},[l,T,v]),f.useEffect(()=>{if(!(v.composer().getState().type!=="thread"||!d))return v.on("threadListItem.switchedTo",T)},[d,T,v]),u.jsx(b,{name:"input",value:y,...p,ref:w,disabled:g,onChange:J(r,N=>{v.composer().getState().isEditing&&MS(()=>{v.composer().setText(N.target.value)})}),onKeyDown:J(s,C),onPaste:J(o,R)})});Qp.displayName="ComposerPrimitive.Input";const tL=()=>{const e=pe(),t=ee(({composer:r})=>!r.canCancel),n=f.useCallback(()=>{e.composer().cancel()},[e]);return t?null:n},YC=In("ComposerPrimitive.Cancel",tL),nL=({multiple:e=!0}={})=>{const t=ee(({composer:s})=>!s.isEditing),n=pe(),r=f.useCallback(()=>{const s=document.createElement("input");s.type="file",s.multiple=e,s.hidden=!0;const o=n.composer().getState().attachmentAccept;o!=="*"&&(s.accept=o),document.body.appendChild(s),s.onchange=i=>{const a=i.target.files;if(a){for(const l of a)n.composer().addAttachment(l);document.body.removeChild(s)}},s.oncancel=()=>{(!s.files||s.files.length===0)&&document.body.removeChild(s)},s.click()},[n,e]);return t?null:r},rL=In("ComposerPrimitive.AddAttachment",nL,["multiple"]),sL=(e,t)=>{const n=t.type;switch(n){case"image":return(e==null?void 0:e.Image)??(e==null?void 0:e.Attachment);case"document":return(e==null?void 0:e.Document)??(e==null?void 0:e.Attachment);case"file":return(e==null?void 0:e.File)??(e==null?void 0:e.Attachment);default:const r=n;throw new Error(`Unknown attachment type: ${r}`)}},oL=({components:e})=>{const t=ee(({attachment:r})=>r);if(!t)return null;const n=sL(e,t);return n?u.jsx(n,{}):null},XC=f.memo(({index:e,components:t})=>u.jsx(jA,{index:e,children:u.jsx(oL,{components:t})}),(e,t)=>{var n,r,s,o,i,a,l,c;return e.index===t.index&&((n=e.components)==null?void 0:n.Image)===((r=t.components)==null?void 0:r.Image)&&((s=e.components)==null?void 0:s.Document)===((o=t.components)==null?void 0:o.Document)&&((i=e.components)==null?void 0:i.File)===((a=t.components)==null?void 0:a.File)&&((l=e.components)==null?void 0:l.Attachment)===((c=t.components)==null?void 0:c.Attachment)});XC.displayName="ComposerPrimitive.AttachmentByIndex";const QC=({components:e})=>{const t=ee(r=>r.composer.attachments.length);return f.useMemo(()=>Array.from({length:t},(r,s)=>u.jsx(XC,{index:s,components:e},s)),[t,e])};QC.displayName="ComposerPrimitive.Attachments";const JC=f.forwardRef((e,t)=>u.jsx(Zt.div,{...e,ref:t}));JC.displayName="ThreadPrimitive.Root";const ZC=({children:e})=>ee(({thread:n})=>n.messages.length===0&&!n.isLoading)?e:null;ZC.displayName="ThreadPrimitive.Empty";const iL=e=>ee(({thread:t})=>!(e.empty===!0&&!t.isEmpty||e.empty===!1&&t.isEmpty||e.running===!0&&!t.isRunning||e.running===!1&&t.isRunning||e.disabled===!0&&!t.isDisabled||e.disabled===!1&&t.isDisabled)),la=({children:e,...t})=>iL(t)?e:null;la.displayName="ThreadPrimitive.If";const aL=e=>{const t=We(e),n=f.useCallback(r=>{const s=new ResizeObserver(()=>{t()}),o=new MutationObserver(i=>{i.some(l=>l.type!=="attributes"||l.attributeName!=="style")&&t()});return s.observe(r),o.observe(r,{childList:!0,subtree:!0,attributes:!0,characterData:!0}),()=>{s.disconnect(),o.disconnect()}},[t]);return Ca(n)},lL=({autoScroll:e,scrollToBottomOnRunStart:t=!0,scrollToBottomOnInitialize:n=!0,scrollToBottomOnThreadSwitch:r=!0})=>{const s=f.useRef(null),o=nc();e===void 0&&(e=o.getState().turnAnchor!=="top");const i=f.useRef(0),a=f.useRef(null),l=f.useCallback(m=>{const v=s.current;v&&(a.current=m,v.scrollTo({top:v.scrollHeight,behavior:m}))},[]),c=()=>{const m=s.current;if(!m)return;const v=o.getState().isAtBottom,y=Math.abs(m.scrollHeight-m.scrollTop-m.clientHeight)<1||m.scrollHeight<=m.clientHeight;!y&&i.current<m.scrollTop||(y&&(a.current=null),(y||a.current===null)&&y!==v&&oa(o).setState({isAtBottom:y})),i.current=m.scrollTop},d=aL(()=>{const m=a.current;m?l(m):e&&o.getState().isAtBottom&&l("instant"),c()}),h=Ca(m=>(m.addEventListener("scroll",c),()=>{m.removeEventListener("scroll",c)}));return GC(({behavior:m})=>{l(m)}),hd("thread.runStart",()=>{t&&(a.current="auto",requestAnimationFrame(()=>{l("auto")}))}),hd("thread.initialize",()=>{n&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),hd("threadListItem.switchedTo",()=>{r&&(a.current="instant",requestAnimationFrame(()=>{l("instant")}))}),me(d,h,s)},uL=()=>{const e=ia(n=>n.registerViewport),t=f.useCallback(n=>n.clientHeight,[]);return LC(e,t)},e0=f.forwardRef(({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r,children:s,...o},i)=>{const a=lL({autoScroll:e,scrollToBottomOnRunStart:t,scrollToBottomOnInitialize:n,scrollToBottomOnThreadSwitch:r}),l=uL(),c=me(i,a,l);return u.jsx(Zt.div,{...o,ref:c,children:s})});e0.displayName="ThreadPrimitive.ViewportScrollable";const t0=f.forwardRef(({turnAnchor:e,...t},n)=>u.jsx(R_,{options:{turnAnchor:e},children:u.jsx(e0,{...t,ref:n})}));t0.displayName="ThreadPrimitive.Viewport";const n0=(e,t)=>e.Message===t.Message&&e.EditComposer===t.EditComposer&&e.UserEditComposer===t.UserEditComposer&&e.AssistantEditComposer===t.AssistantEditComposer&&e.SystemEditComposer===t.SystemEditComposer&&e.UserMessage===t.UserMessage&&e.AssistantMessage===t.AssistantMessage&&e.SystemMessage===t.SystemMessage,cL=()=>null,dL=(e,t,n)=>{switch(t){case"user":return n?e.UserEditComposer??e.EditComposer??e.UserMessage??e.Message:e.UserMessage??e.Message;case"assistant":return n?e.AssistantEditComposer??e.EditComposer??e.AssistantMessage??e.Message:e.AssistantMessage??e.Message;case"system":return n?e.SystemEditComposer??e.EditComposer??e.SystemMessage??e.Message:e.SystemMessage??cL;default:const r=t;throw new Error(`Unknown message role: ${r}`)}},fL=({components:e})=>{const t=ee(({message:s})=>s.role),n=ee(({message:s})=>s.composer.isEditing),r=dL(e,t,n);return u.jsx(r,{})},r0=f.memo(({index:e,components:t})=>u.jsx(IA,{index:e,children:u.jsx(fL,{components:t})}),(e,t)=>e.index===t.index&&n0(e.components,t.components));r0.displayName="ThreadPrimitive.MessageByIndex";const s0=({components:e})=>{const t=ee(({thread:r})=>r.messages.length);return f.useMemo(()=>t===0?null:Array.from({length:t},(r,s)=>u.jsx(r0,{index:s,components:e},s)),[t,e])};s0.displayName="ThreadPrimitive.Messages";const hL=f.memo(s0,(e,t)=>n0(e.components,t.components)),pL=({behavior:e}={})=>{const t=ia(s=>s.isAtBottom),n=nc(),r=f.useCallback(()=>{n.getState().scrollToBottom({behavior:e})},[n,e]);return t?null:r},mL=In("ThreadPrimitive.ScrollToBottom",pL,["behavior"]),gL=({prompt:e,send:t,clearComposer:n=!0,autoSend:r,method:s})=>{const o=pe(),i=ee(({thread:c})=>c.isDisabled),a=t??r??!1,l=f.useCallback(()=>{const c=o.thread().getState().isRunning;if(a&&!c)o.thread().append(e),n&&o.composer().setText("");else if(n)o.composer().setText(e);else{const d=o.composer().getState().text;o.composer().setText(d.trim()?`${d} ${e}`:e)}},[o,a,n,e]);return i?null:l},o0=In("ThreadPrimitive.Suggestion",gL,["prompt","send","clearComposer","autoSend","method"]);var i0=f.createContext({}),ke=()=>f.useContext(i0),a0=({children:e,config:t})=>{const n=!!KA(),r=t&&Object.keys(t).length>0,s=ke();if(r&&Object.keys(s).length>0)throw new Error("You are providing ThreadConfig to several nested components. Please provide all configuration to the same component.");const o=r?u.jsx(i0.Provider,{value:t,children:e}):u.jsx(u.Fragment,{children:e});if(!(t!=null&&t.runtime))return o;if(n)throw new Error("You provided a runtime to <Thread> while simulataneously using <AssistantRuntimeProvider>. This is not allowed.");return u.jsx(N_,{runtime:t.runtime,children:o})};a0.displayName="ThreadConfigProvider";/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yL=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l0=(...e)=>e.filter((t,n,r)=>!!t&&t.trim()!==""&&r.indexOf(t)===n).join(" ").trim();/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var vL={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xL=f.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:o,iconNode:i,...a},l)=>f.createElement("svg",{ref:l,...vL,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:l0("lucide",s),...a},[...i.map(([c,d])=>f.createElement(c,d)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rt=(e,t)=>{const n=f.forwardRef(({className:r,...s},o)=>f.createElement(xL,{ref:o,iconNode:t,className:l0(`lucide-${yL(e)}`,r),...s}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wL=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],bL=Rt("ArrowDown",wL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SL=[["path",{d:"M2 10v3",key:"1fnikh"}],["path",{d:"M6 6v11",key:"11sgs0"}],["path",{d:"M10 3v18",key:"yhl04a"}],["path",{d:"M14 8v7",key:"3a1oy3"}],["path",{d:"M18 5v13",key:"123xd1"}],["path",{d:"M22 10v3",key:"154ddg"}]],_L=Rt("AudioLines",SL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CL=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],u0=Rt("Check",CL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kL=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],EL=Rt("ChevronLeft",kL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TL=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],RL=Rt("ChevronRight",TL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["rect",{x:"9",y:"9",width:"6",height:"6",rx:"1",key:"1ssd4o"}]],IL=Rt("CircleStop",NL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PL=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],AL=Rt("CircleX",PL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jL=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],c0=Rt("Copy",jL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ML=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]],OL=Rt("File",ML);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LL=[["path",{d:"M13.234 20.252 21 12.3",key:"1cbrk9"}],["path",{d:"m16 6-8.414 8.586a2 2 0 0 0 0 2.828 2 2 0 0 0 2.828 0l8.414-8.586a4 4 0 0 0 0-5.656 4 4 0 0 0-5.656 0l-8.415 8.585a6 6 0 1 0 8.486 8.486",key:"1pkts6"}]],DL=Rt("Paperclip",LL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FL=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],zL=Rt("Pencil",FL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BL=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],$L=Rt("RefreshCw",BL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UL=[["path",{d:"M3.714 3.048a.498.498 0 0 0-.683.627l2.843 7.627a2 2 0 0 1 0 1.396l-2.842 7.627a.498.498 0 0 0 .682.627l18-8.5a.5.5 0 0 0 0-.904z",key:"117uat"}],["path",{d:"M6 12h16",key:"s4cdu5"}]],HL=Rt("SendHorizontal",UL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VL=[["path",{d:"M17 14V2",key:"8ymqnk"}],["path",{d:"M9 18.12 10 14H4.17a2 2 0 0 1-1.92-2.56l2.33-8A2 2 0 0 1 6.5 2H20a2 2 0 0 1 2 2v8a2 2 0 0 1-2 2h-2.76a2 2 0 0 0-1.79 1.11L12 22a3.13 3.13 0 0 1-3-3.88Z",key:"m61m77"}]],WL=Rt("ThumbsDown",VL);/**
 * @license lucide-react v0.475.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KL=[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]],qL=Rt("ThumbsUp",KL);var d0=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),GL="VisuallyHidden",f0=f.forwardRef((e,t)=>u.jsx(se.span,{...e,ref:t,style:{...d0,...e.style}}));f0.displayName=GL;var h0=f0,[dc]=Jn("Tooltip",[uc]),fc=uc(),p0="TooltipProvider",YL=700,nh="tooltip.open",[XL,Jp]=dc(p0),m0=e=>{const{__scopeTooltip:t,delayDuration:n=YL,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:o}=e,i=f.useRef(!0),a=f.useRef(!1),l=f.useRef(0);return f.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),u.jsx(XL,{scope:t,isOpenDelayedRef:i,delayDuration:n,onOpen:f.useCallback(()=>{window.clearTimeout(l.current),i.current=!1},[]),onClose:f.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>i.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:f.useCallback(c=>{a.current=c},[]),disableHoverableContent:s,children:o})};m0.displayName=p0;var ua="Tooltip",[QL,hc]=dc(ua),g0=e=>{const{__scopeTooltip:t,children:n,open:r,defaultOpen:s,onOpenChange:o,disableHoverableContent:i,delayDuration:a}=e,l=Jp(ua,e.__scopeTooltip),c=fc(t),[d,h]=f.useState(null),p=dr(),m=f.useRef(0),v=i??l.disableHoverableContent,y=a??l.delayDuration,b=f.useRef(!1),[g,x]=Ns({prop:r,defaultProp:s??!1,onChange:T=>{T?(l.onOpen(),document.dispatchEvent(new CustomEvent(nh))):l.onClose(),o==null||o(T)},caller:ua}),w=f.useMemo(()=>g?b.current?"delayed-open":"instant-open":"closed",[g]),C=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,b.current=!1,x(!0)},[x]),R=f.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x(!1)},[x]),S=f.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{b.current=!0,x(!0),m.current=0},y)},[y,x]);return f.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),u.jsx(pC,{...c,children:u.jsx(QL,{scope:t,contentId:p,open:g,stateAttribute:w,trigger:d,onTriggerChange:h,onTriggerEnter:f.useCallback(()=>{l.isOpenDelayedRef.current?S():C()},[l.isOpenDelayedRef,S,C]),onTriggerLeave:f.useCallback(()=>{v?R():(window.clearTimeout(m.current),m.current=0)},[R,v]),onOpen:C,onClose:R,disableHoverableContent:v,children:n})})};g0.displayName=ua;var rh="TooltipTrigger",y0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=hc(rh,n),o=Jp(rh,n),i=fc(n),a=f.useRef(null),l=me(t,a,s.onTriggerChange),c=f.useRef(!1),d=f.useRef(!1),h=f.useCallback(()=>c.current=!1,[]);return f.useEffect(()=>()=>document.removeEventListener("pointerup",h),[h]),u.jsx(mC,{asChild:!0,...i,children:u.jsx(se.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:J(e.onPointerMove,p=>{p.pointerType!=="touch"&&!d.current&&!o.isPointerInTransitRef.current&&(s.onTriggerEnter(),d.current=!0)}),onPointerLeave:J(e.onPointerLeave,()=>{s.onTriggerLeave(),d.current=!1}),onPointerDown:J(e.onPointerDown,()=>{s.open&&s.onClose(),c.current=!0,document.addEventListener("pointerup",h,{once:!0})}),onFocus:J(e.onFocus,()=>{c.current||s.onOpen()}),onBlur:J(e.onBlur,s.onClose),onClick:J(e.onClick,s.onClose)})})});y0.displayName=rh;var JL="TooltipPortal",[o8,ZL]=dc(JL,{forceMount:void 0}),Mo="TooltipContent",v0=f.forwardRef((e,t)=>{const n=ZL(Mo,e.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...o}=e,i=hc(Mo,e.__scopeTooltip);return u.jsx(er,{present:r||i.open,children:i.disableHoverableContent?u.jsx(x0,{side:s,...o,ref:t}):u.jsx(eD,{side:s,...o,ref:t})})}),eD=f.forwardRef((e,t)=>{const n=hc(Mo,e.__scopeTooltip),r=Jp(Mo,e.__scopeTooltip),s=f.useRef(null),o=me(t,s),[i,a]=f.useState(null),{trigger:l,onClose:c}=n,d=s.current,{onPointerInTransitChange:h}=r,p=f.useCallback(()=>{a(null),h(!1)},[h]),m=f.useCallback((v,y)=>{const b=v.currentTarget,g={x:v.clientX,y:v.clientY},x=oD(g,b.getBoundingClientRect()),w=iD(g,x),C=aD(y.getBoundingClientRect()),R=uD([...w,...C]);a(R),h(!0)},[h]);return f.useEffect(()=>()=>p(),[p]),f.useEffect(()=>{if(l&&d){const v=b=>m(b,d),y=b=>m(b,l);return l.addEventListener("pointerleave",v),d.addEventListener("pointerleave",y),()=>{l.removeEventListener("pointerleave",v),d.removeEventListener("pointerleave",y)}}},[l,d,m,p]),f.useEffect(()=>{if(i){const v=y=>{const b=y.target,g={x:y.clientX,y:y.clientY},x=(l==null?void 0:l.contains(b))||(d==null?void 0:d.contains(b)),w=!lD(g,i);x?p():w&&(p(),c())};return document.addEventListener("pointermove",v),()=>document.removeEventListener("pointermove",v)}},[l,d,i,c,p]),u.jsx(x0,{...e,ref:o})}),[tD,nD]=dc(ua,{isInside:!1}),rD=bj("TooltipContent"),x0=f.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:o,onPointerDownOutside:i,...a}=e,l=hc(Mo,n),c=fc(n),{onClose:d}=l;return f.useEffect(()=>(document.addEventListener(nh,d),()=>document.removeEventListener(nh,d)),[d]),f.useEffect(()=>{if(l.trigger){const h=p=>{const m=p.target;m!=null&&m.contains(l.trigger)&&d()};return window.addEventListener("scroll",h,{capture:!0}),()=>window.removeEventListener("scroll",h,{capture:!0})}},[l.trigger,d]),u.jsx(sc,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:h=>h.preventDefault(),onDismiss:d,children:u.jsxs(gC,{"data-state":l.stateAttribute,...c,...a,ref:t,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(rD,{children:r}),u.jsx(tD,{scope:n,isInside:!0,children:u.jsx(h0,{id:l.contentId,role:"tooltip",children:s||r})})]})})});v0.displayName=Mo;var w0="TooltipArrow",sD=f.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,s=fc(n);return nD(w0,n).isInside?null:u.jsx(yC,{...s,...r,ref:t})});sD.displayName=w0;function oD(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),s=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,s,o)){case o:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function iD(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function aD(e){const{top:t,right:n,bottom:r,left:s}=e;return[{x:s,y:t},{x:n,y:t},{x:n,y:r},{x:s,y:r}]}function lD(e,t){const{x:n,y:r}=e;let s=!1;for(let o=0,i=t.length-1;o<t.length;i=o++){const a=t[o],l=t[i],c=a.x,d=a.y,h=l.x,p=l.y;d>r!=p>r&&n<(h-c)*(r-d)/(p-d)+c&&(s=!s)}return s}function uD(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),cD(t)}function cD(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const s=e[r];for(;t.length>=2;){const o=t[t.length-1],i=t[t.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))t.pop();else break}t.push(s)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const s=e[r];for(;n.length>=2;){const o=n[n.length-1],i=n[n.length-2];if((o.x-i.x)*(s.y-i.y)>=(o.y-i.y)*(s.x-i.x))n.pop();else break}n.push(s)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var b0=m0,dD=g0,fD=y0,hD=v0,S0={exports:{}};/*!
	Copyright (c) 2018 Jed Watson.
	Licensed under the MIT License (MIT), see
	http://jedwatson.github.io/classnames
*/(function(e){(function(){var t={}.hasOwnProperty;function n(){for(var o="",i=0;i<arguments.length;i++){var a=arguments[i];a&&(o=s(o,r(a)))}return o}function r(o){if(typeof o=="string"||typeof o=="number")return o;if(typeof o!="object")return"";if(Array.isArray(o))return n.apply(null,o);if(o.toString!==Object.prototype.toString&&!o.toString.toString().includes("[native code]"))return o.toString();var i="";for(var a in o)t.call(o,a)&&o[a]&&(i=s(i,a));return i}function s(o,i){return i?o?o+" "+i:o+i:o}e.exports?(n.default=n,e.exports=n):window.classNames=n})()})(S0);var pD=S0.exports;const q=Do(pD);var mD=({className:e,...t})=>({className:n,...r})=>({className:q(e,n),...t,...r}),_e=(e,t)=>{const n=mD(t),r=f.forwardRef((s,o)=>{const i=e;return u.jsx(i,{...n(s),ref:o})});return r.displayName="withDefaults("+(typeof e=="string"?e:e.displayName)+")",r},Zp=e=>u.jsx(b0,{children:u.jsx(dD,{...e})});Zp.displayName="Tooltip";var _0=fD,em=_e(hD,{sideOffset:4,className:"aui-tooltip-content"});em.displayName="TooltipContent";function C0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var s=e.length;for(t=0;t<s;t++)e[t]&&(n=C0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function gD(){for(var e,t,n=0,r="",s=arguments.length;n<s;n++)(e=arguments[n])&&(t=C0(e))&&(r&&(r+=" "),r+=t);return r}const hx=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,px=gD,yD=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return px(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:o}=t,i=Object.keys(s).map(c=>{const d=n==null?void 0:n[c],h=o==null?void 0:o[c];if(d===null)return null;const p=hx(d)||hx(h);return s[c][p]}),a=n&&Object.entries(n).reduce((c,d)=>{let[h,p]=d;return p===void 0||(c[h]=p),c},{}),l=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((c,d)=>{let{class:h,className:p,...m}=d;return Object.entries(m).every(v=>{let[y,b]=v;return Array.isArray(b)?b.includes({...o,...a}[y]):{...o,...a}[y]===b})?[...c,h,p]:c},[]);return px(e,i,l,n==null?void 0:n.class,n==null?void 0:n.className)};var vD=yD("aui-button",{variants:{variant:{default:"aui-button-primary",outline:"aui-button-outline",ghost:"aui-button-ghost"},size:{default:"aui-button-medium",icon:"aui-button-icon"}},defaultVariants:{variant:"default",size:"default"}}),pc=f.forwardRef(({className:e,variant:t,size:n,...r},s)=>u.jsx(se.button,{className:vD({variant:t,size:n,className:e}),...r,ref:s}));pc.displayName="Button";var yt=f.forwardRef(({children:e,tooltip:t,side:n="bottom",...r},s)=>u.jsxs(Zp,{children:[u.jsx(_0,{asChild:!0,children:u.jsxs(pc,{variant:"ghost",size:"icon",...r,ref:s,children:[e,u.jsx("span",{className:"aui-sr-only",children:t})]})}),u.jsx(em,{side:n,children:t})]}));yt.displayName="TooltipIconButton";var xD=(e=!1)=>{const{assistantMessage:{allowCopy:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.unstable_copy);return t&&(!e||n)},tm=(e=!1)=>{const{assistantMessage:{allowSpeak:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.speech);return t&&(!e||n)},k0=(e=!1)=>{const{assistantMessage:{allowReload:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.reload);return t&&(!e||n)},E0=(e=!1)=>{const{assistantMessage:{allowFeedbackPositive:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.feedback);return t&&(!e||n)},T0=(e=!1)=>{const{assistantMessage:{allowFeedbackNegative:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.feedback);return t&&(!e||n)},R0=()=>{const e=xD(!0),t=k0(!0),n=tm(!0),r=E0(!0),s=T0(!0);return!e&&!t&&!n&&!r&&!s?null:u.jsxs(nm,{hideWhenRunning:!0,autohide:"not-last",autohideFloat:"single-branch",children:[n&&u.jsx(N0,{}),e&&u.jsx(rm,{}),t&&u.jsx(im,{}),r&&u.jsx(am,{}),s&&u.jsx(lm,{})]})};R0.displayName="AssistantActionBar";var nm=_e(jp,{className:"aui-assistant-action-bar-root"});nm.displayName="AssistantActionBarRoot";var rm=f.forwardRef(({copiedDuration:e,...t},n)=>{const{strings:{assistantMessage:{copy:{tooltip:r="Copy"}={}}={}}={}}=ke();return u.jsx(M_,{copiedDuration:e,asChild:!0,children:u.jsx(yt,{tooltip:r,...t,ref:n,children:t.children??u.jsxs(u.Fragment,{children:[u.jsx(xr,{copied:!0,children:u.jsx(u0,{})}),u.jsx(xr,{copied:!1,children:u.jsx(c0,{})})]})})})});rm.displayName="AssistantActionBarCopy";var N0=()=>u.jsxs(u.Fragment,{children:[u.jsx(xr,{speaking:!1,children:u.jsx(sm,{})}),u.jsx(xr,{speaking:!0,children:u.jsx(om,{})})]}),sm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{tooltip:n="Read aloud"}={}}={}}={}}=ke(),r=tm();return u.jsx(dj,{disabled:!r,asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx(_L,{})})})});sm.displayName="AssistantActionBarSpeak";var om=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{speak:{stop:{tooltip:n="Stop"}={}}={}}={}}={}}=ke(),r=tm();return u.jsx(O_,{disabled:!r,asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx(IL,{})})})});om.displayName="AssistantActionBarStopSpeaking";var im=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{reload:{tooltip:n="Refresh"}={}}={}}={}}=ke(),r=k0();return u.jsx(aj,{disabled:!r,asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx($L,{})})})});im.displayName="AssistantActionBarReload";var am=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{positive:{tooltip:n="Good response"}={}}={}}={}}={}}=ke(),r=E0();return u.jsx(L_,{disabled:!r,className:"aui-assistant-action-bar-feedback-positive",asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx(qL,{})})})});am.displayName="AssistantActionBarFeedbackPositive";var lm=f.forwardRef((e,t)=>{const{strings:{assistantMessage:{feedback:{negative:{tooltip:n="Bad response"}={}}={}}={}}={}}=ke(),r=T0();return u.jsx(D_,{disabled:!r,className:"aui-assistant-action-bar-feedback-negative",asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx(WL,{})})})});lm.displayName="AssistantActionBarFeedbackNegative";var wD={Root:nm,Reload:im,Copy:rm,Speak:sm,StopSpeaking:om,SpeechControl:N0,FeedbackPositive:am,FeedbackNegative:lm},I0=Object.assign(R0,wD),um=(e=!1)=>{const{branchPicker:{allowBranchPicker:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.edit);return t&&(!e||n)},P0=()=>um(!0)?u.jsxs(cm,{hideWhenSingleBranch:!0,children:[u.jsx(dm,{}),u.jsx(A0,{}),u.jsx(fm,{})]}):null;P0.displayName="BranchPicker";var cm=_e(WC,{className:"aui-branch-picker-root"});cm.displayName="BranchPickerRoot";var dm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{previous:{tooltip:n="Previous"}={}}={}}={}}=ke(),r=um();return u.jsx(mO,{disabled:!r,asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx(EL,{})})})});dm.displayName="BranchPickerPrevious";var bD=_e("span",{className:"aui-branch-picker-state"}),A0=f.forwardRef((e,t)=>u.jsxs(bD,{...e,ref:t,children:[u.jsx(OC,{})," / ",u.jsx(MC,{})]}));A0.displayName="BranchPickerState";var fm=f.forwardRef((e,t)=>{const{strings:{branchPicker:{next:{tooltip:n="Next"}={}}={}}={}}=ke(),r=um();return u.jsx(hO,{disabled:!r,asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx(RL,{})})})});fm.displayName="BranchPickerNext";var SD={Root:cm,Previous:dm,Next:fm},mc=Object.assign(P0,SD),j0={exports:{}},M0={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Oo=f;function _D(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var CD=typeof Object.is=="function"?Object.is:_D,kD=Oo.useState,ED=Oo.useEffect,TD=Oo.useLayoutEffect,RD=Oo.useDebugValue;function ND(e,t){var n=t(),r=kD({inst:{value:n,getSnapshot:t}}),s=r[0].inst,o=r[1];return TD(function(){s.value=n,s.getSnapshot=t,Pd(s)&&o({inst:s})},[e,n,t]),ED(function(){return Pd(s)&&o({inst:s}),e(function(){Pd(s)&&o({inst:s})})},[e]),RD(n),n}function Pd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!CD(e,n)}catch{return!0}}function ID(e,t){return t()}var PD=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?ID:ND;M0.useSyncExternalStore=Oo.useSyncExternalStore!==void 0?Oo.useSyncExternalStore:PD;j0.exports=M0;var AD=j0.exports;function jD(){return AD.useSyncExternalStore(MD,()=>!0,()=>!1)}function MD(){return()=>{}}var hm="Avatar",[OD]=Jn(hm),[LD,O0]=OD(hm),L0=f.forwardRef((e,t)=>{const{__scopeAvatar:n,...r}=e,[s,o]=f.useState("idle");return u.jsx(LD,{scope:n,imageLoadingStatus:s,onImageLoadingStatusChange:o,children:u.jsx(se.span,{...r,ref:t})})});L0.displayName=hm;var D0="AvatarImage",F0=f.forwardRef((e,t)=>{const{__scopeAvatar:n,src:r,onLoadingStatusChange:s=()=>{},...o}=e,i=O0(D0,n),a=DD(r,o),l=We(c=>{s(c),i.onImageLoadingStatusChange(c)});return Qe(()=>{a!=="idle"&&l(a)},[a,l]),a==="loaded"?u.jsx(se.img,{...o,ref:t,src:r}):null});F0.displayName=D0;var z0="AvatarFallback",pm=f.forwardRef((e,t)=>{const{__scopeAvatar:n,delayMs:r,...s}=e,o=O0(z0,n),[i,a]=f.useState(r===void 0);return f.useEffect(()=>{if(r!==void 0){const l=window.setTimeout(()=>a(!0),r);return()=>window.clearTimeout(l)}},[r]),i&&o.imageLoadingStatus!=="loaded"?u.jsx(se.span,{...s,ref:t}):null});pm.displayName=z0;function mx(e,t){return e?t?(e.src!==t&&(e.src=t),e.complete&&e.naturalWidth>0?"loaded":"loading"):"error":"idle"}function DD(e,{referrerPolicy:t,crossOrigin:n}){const r=jD(),s=f.useRef(null),o=r?(s.current||(s.current=new window.Image),s.current):null,[i,a]=f.useState(()=>mx(o,e));return Qe(()=>{a(mx(o,e))},[o,e]),Qe(()=>{const l=h=>()=>{a(h)};if(!o)return;const c=l("loaded"),d=l("error");return o.addEventListener("load",c),o.addEventListener("error",d),t&&(o.referrerPolicy=t),typeof n=="string"&&(o.crossOrigin=n),()=>{o.removeEventListener("load",c),o.removeEventListener("error",d)}},[o,n,t]),i}var FD=L0,zD=F0,BD=pm,mm=({src:e,alt:t,fallback:n})=>e==null&&n==null?null:u.jsxs(gm,{children:[e!=null&&u.jsx(ym,{src:e,alt:t}),n!=null&&u.jsx(B0,{children:n})]});mm.displayName="Avatar";var gm=_e(FD,{className:"aui-avatar-root"});gm.displayName="AvatarRoot";var ym=_e(zD,{className:"aui-avatar-image"});ym.displayName="AvatarImage";var B0=_e(BD,{className:"aui-avatar-fallback"});B0.displayName="AvatarFallback";var{useSmoothStatus:$D,withSmoothContextProvider:UD}=Pp,HD=()=>{const e=$D();return u.jsx(qp,{className:q("aui-text",e.type==="running"&&"aui-text-running"),component:"p"})},VD={Text:UD(HD)},$0=VD,U0=()=>u.jsxs(vm,{children:[u.jsx(H0,{}),u.jsx(xm,{}),u.jsx(mc,{}),u.jsx(I0,{})]});U0.displayName="AssistantMessage";var H0=()=>{const{assistantAvatar:e={fallback:"A"}}=ke();return u.jsx(mm,{...e})},vm=_e(Kp,{className:"aui-assistant-message-root"});vm.displayName="AssistantMessageRoot";var WD=_e("div",{className:"aui-assistant-message-content"}),xm=f.forwardRef(({components:e,...t},n)=>{const{tools:r,assistantMessage:{components:s={}}={}}=ke(),o=f.useMemo(()=>({by_name:r?Object.fromEntries(r.map(a=>[a.unstable_tool.toolName,a.unstable_tool.render])):void 0,Fallback:s.ToolFallback}),[...r??[],s.ToolFallback]),i=s.Footer;return u.jsxs(WD,{...t,ref:n,children:[u.jsx(Gp,{components:{...e,Text:(e==null?void 0:e.Text)??s.Text??$0.Text,Empty:(e==null?void 0:e.Empty)??s.Empty,tools:o}}),i&&u.jsx(i,{})]})});xm.displayName="AssistantMessageContent";var KD={Root:vm,Avatar:H0,Content:xm},Ml=Object.assign(U0,KD),V0=()=>u.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",width:"16",height:"16",children:u.jsx("rect",{width:"10",height:"10",x:"3",y:"3",rx:"2"})});V0.displayName="CircleStopIcon";var gc="Dialog",[W0]=Jn(gc),[qD,Pn]=W0(gc),K0=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:s,onOpenChange:o,modal:i=!0}=e,a=f.useRef(null),l=f.useRef(null),[c,d]=Ns({prop:r,defaultProp:s??!1,onChange:o,caller:gc});return u.jsx(qD,{scope:t,triggerRef:a,contentRef:l,contentId:dr(),titleId:dr(),descriptionId:dr(),open:c,onOpenChange:d,onOpenToggle:f.useCallback(()=>d(h=>!h),[d]),modal:i,children:n})};K0.displayName=gc;var q0="DialogTrigger",G0=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pn(q0,n),o=me(t,s.triggerRef);return u.jsx(se.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":_m(s.open),...r,ref:o,onClick:J(e.onClick,s.onOpenToggle)})});G0.displayName=q0;var wm="DialogPortal",[GD,Y0]=W0(wm,{forceMount:void 0}),X0=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:s}=e,o=Pn(wm,t);return u.jsx(GD,{scope:t,forceMount:n,children:f.Children.map(r,i=>u.jsx(er,{present:n||o.open,children:u.jsx(Vp,{asChild:!0,container:s,children:i})}))})};X0.displayName=wm;var _u="DialogOverlay",Q0=f.forwardRef((e,t)=>{const n=Y0(_u,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Pn(_u,e.__scopeDialog);return o.modal?u.jsx(er,{present:r||o.open,children:u.jsx(XD,{...s,ref:t})}):null});Q0.displayName=_u;var YD=Ao("DialogOverlay.RemoveScroll"),XD=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pn(_u,n);return u.jsx(Wp,{as:YD,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(se.div,{"data-state":_m(s.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Ps="DialogContent",J0=f.forwardRef((e,t)=>{const n=Y0(Ps,e.__scopeDialog),{forceMount:r=n.forceMount,...s}=e,o=Pn(Ps,e.__scopeDialog);return u.jsx(er,{present:r||o.open,children:o.modal?u.jsx(QD,{...s,ref:t}):u.jsx(JD,{...s,ref:t})})});J0.displayName=Ps;var QD=f.forwardRef((e,t)=>{const n=Pn(Ps,e.__scopeDialog),r=f.useRef(null),s=me(t,n.contentRef,r);return f.useEffect(()=>{const o=r.current;if(o)return kC(o)},[]),u.jsx(Z0,{...e,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:J(e.onCloseAutoFocus,o=>{var i;o.preventDefault(),(i=n.triggerRef.current)==null||i.focus()}),onPointerDownOutside:J(e.onPointerDownOutside,o=>{const i=o.detail.originalEvent,a=i.button===0&&i.ctrlKey===!0;(i.button===2||a)&&o.preventDefault()}),onFocusOutside:J(e.onFocusOutside,o=>o.preventDefault())})}),JD=f.forwardRef((e,t)=>{const n=Pn(Ps,e.__scopeDialog),r=f.useRef(!1),s=f.useRef(!1);return u.jsx(Z0,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var i,a;(i=e.onCloseAutoFocus)==null||i.call(e,o),o.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),o.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:o=>{var l,c;(l=e.onInteractOutside)==null||l.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const i=o.target;((c=n.triggerRef.current)==null?void 0:c.contains(i))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&s.current&&o.preventDefault()}})}),Z0=f.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:o,...i}=e,a=Pn(Ps,n),l=f.useRef(null),c=me(t,l);return V_(),u.jsxs(u.Fragment,{children:[u.jsx(Op,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:o,children:u.jsx(sc,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":_m(a.open),...i,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(ZD,{titleId:a.titleId}),u.jsx(tF,{contentRef:l,descriptionId:a.descriptionId})]})]})}),bm="DialogTitle",Sm=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pn(bm,n);return u.jsx(se.h2,{id:s.titleId,...r,ref:t})});Sm.displayName=bm;var ek="DialogDescription",tk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pn(ek,n);return u.jsx(se.p,{id:s.descriptionId,...r,ref:t})});tk.displayName=ek;var nk="DialogClose",rk=f.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,s=Pn(nk,n);return u.jsx(se.button,{type:"button",...r,ref:t,onClick:J(e.onClick,()=>s.onOpenChange(!1))})});rk.displayName=nk;function _m(e){return e?"open":"closed"}var sk="DialogTitleWarning",[i8,ok]=mj(sk,{contentName:Ps,titleName:bm,docsSlug:"dialog"}),ZD=({titleId:e})=>{const t=ok(sk),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return f.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},eF="DialogDescriptionWarning",tF=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${ok(eF).contentName}}.`;return f.useEffect(()=>{var o;const s=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&s&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},ik=K0,ak=G0,lk=X0,Cm=Q0,km=J0,nF=Sm,rF=tk,sF=rk,oF=ik,iF=ak,aF=lk,uk=f.forwardRef(({className:e,...t},n)=>u.jsx(Cm,{ref:n,className:q("aui-dialog-overlay",e),...t}));uk.displayName=Cm.displayName;var ck=f.forwardRef(({className:e,children:t,...n},r)=>u.jsxs(aF,{children:[u.jsx(uk,{}),u.jsx(km,{ref:r,className:q("aui-dialog-content",e),...n,children:t})]}));ck.displayName=km.displayName;var Em=_e(jC,{className:"aui-attachment-root"}),lF=_e("div",{className:"aui-attachment-content"});Em.displayName="AttachmentRoot";var uF=e=>{const[t,n]=f.useState(void 0);return f.useEffect(()=>{if(!e){n(void 0);return}const r=URL.createObjectURL(e);return n(r),()=>{URL.revokeObjectURL(r)}},[e]),t},dk=()=>{const{file:e,src:t}=yu($C(n=>{var s,o;if(n.type!=="image")return{};if(n.file)return{file:n.file};const r=(o=(s=n.content)==null?void 0:s.filter(i=>i.type==="image")[0])==null?void 0:o.image;return r?{src:r}:{}}));return uF(e)??t},cF=({src:e})=>{const[t,n]=f.useState(!1);return u.jsx("img",{src:e,style:{width:"auto",height:"auto",maxWidth:"75dvh",maxHeight:"75dvh",display:t?"block":"none",overflow:"clip"},onLoad:()=>n(!0),alt:"Preview"})},dF=({children:e})=>{const t=dk();return t?u.jsxs(oF,{children:[u.jsx(iF,{className:"aui-attachment-preview-trigger",asChild:!0,children:e}),u.jsxs(ck,{children:[u.jsx(Sm,{className:"aui-sr-only",children:"Image Attachment Preview"}),u.jsx(cF,{src:t})]})]}):e},fF=()=>{const e=yu(n=>n.type==="image"),t=dk();return u.jsxs(gm,{className:"aui-attachment-thumb",children:[u.jsx(pm,{delayMs:e?200:0,children:u.jsx(OL,{})}),u.jsx(ym,{src:t})]})},fk=()=>{const e=yu(n=>n.source!=="message"),t=yu(n=>{const r=n.type;switch(r){case"image":return"Image";case"document":return"Document";case"file":return"File";default:const s=r;throw new Error(`Unknown attachment type: ${s}`)}});return u.jsxs(Zp,{children:[u.jsxs(Em,{children:[u.jsx(dF,{children:u.jsx(_0,{asChild:!0,children:u.jsxs(lF,{children:[u.jsx(fF,{}),u.jsxs("div",{className:"aui-attachment-text",children:[u.jsx("p",{className:"aui-attachment-name",children:u.jsx(eh,{})}),u.jsx("p",{className:"aui-attachment-type",children:t})]})]})})}),e&&u.jsx(Tm,{})]}),u.jsx(em,{side:"top",children:u.jsx(eh,{})})]})};fk.displayName="Attachment";var Tm=f.forwardRef((e,t)=>{const{strings:{composer:{removeAttachment:{tooltip:n="Remove file"}={}}={}}={}}=ke();return u.jsx(dO,{asChild:!0,children:u.jsx(yt,{tooltip:n,className:"aui-attachment-remove",side:"top",...e,ref:t,children:e.children??u.jsx(AL,{})})})});Tm.displayName="AttachmentRemove";var hF={Root:Em,Remove:Tm},hk=Object.assign(fk,hF),pk=(e=!1)=>{const{composer:{allowAttachments:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.attachments);return t&&(!e||n)},mk=()=>{const e=pk(!0);return u.jsxs(Rm,{children:[e&&u.jsx(gk,{}),e&&u.jsx(Im,{}),u.jsx(Nm,{autoFocus:!0}),u.jsx(Pm,{})]})};mk.displayName="Composer";var Rm=_e(Yp,{className:"aui-composer-root"});Rm.displayName="ComposerRoot";var pF=_e(Qp,{rows:1,autoFocus:!0,className:"aui-composer-input"}),Nm=f.forwardRef((e,t)=>{const{strings:{composer:{input:{placeholder:n="Write a message..."}={}}={}}={}}=ke();return u.jsx(pF,{placeholder:n,...e,ref:t})});Nm.displayName="ComposerInput";var mF=_e("div",{className:"aui-composer-attachments"}),gk=({components:e})=>u.jsx(mF,{children:u.jsx(QC,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??hk}})}),gF=_e(yt,{variant:"default",className:"aui-composer-attach"}),Im=f.forwardRef((e,t)=>{const{strings:{composer:{addAttachment:{tooltip:n="Attach file"}={}}={}}={}}=ke(),r=pk();return u.jsx(rL,{disabled:!r,asChild:!0,children:u.jsx(gF,{tooltip:n,variant:"ghost",...e,ref:t,children:e.children??u.jsx(DL,{})})})});Im.displayName="ComposerAddAttachment";var yF=()=>Nn(t=>t.capabilities.cancel),Pm=()=>yF()?u.jsxs(u.Fragment,{children:[u.jsx(la,{running:!1,children:u.jsx(Cu,{})}),u.jsx(la,{running:!0,children:u.jsx(Am,{})})]}):u.jsx(Cu,{});Pm.displayName="ComposerAction";var vF=_e(yt,{variant:"default",className:"aui-composer-send"}),Cu=f.forwardRef((e,t)=>{const{strings:{composer:{send:{tooltip:n="Send"}={}}={}}={}}=ke();return u.jsx(qC,{asChild:!0,children:u.jsx(vF,{tooltip:n,...e,ref:t,children:e.children??u.jsx(HL,{})})})});Cu.displayName="ComposerSend";var xF=_e(yt,{variant:"default",className:"aui-composer-cancel"}),Am=f.forwardRef((e,t)=>{const{strings:{composer:{cancel:{tooltip:n="Cancel"}={}}={}}={}}=ke();return u.jsx(YC,{asChild:!0,children:u.jsx(xF,{tooltip:n,...e,ref:t,children:e.children??u.jsx(V0,{})})})});Am.displayName="ComposerCancel";var wF={Root:Rm,Input:Nm,Action:Pm,Send:Cu,Cancel:Am,AddAttachment:Im,Attachments:gk},bF=Object.assign(mk,wF),yk=()=>u.jsxs(jm,{children:[u.jsxs(vk,{children:[u.jsx(xk,{}),u.jsx(Mm,{})]}),u.jsx(Om,{})]});yk.displayName="ThreadWelcome";var SF=_e("div",{className:"aui-thread-welcome-root"}),vk=_e("div",{className:"aui-thread-welcome-center"}),jm=f.forwardRef((e,t)=>u.jsx(ZC,{children:u.jsx(SF,{...e,ref:t})}));jm.displayName="ThreadWelcomeRoot";var xk=()=>{const{assistantAvatar:e={fallback:"A"}}=ke();return u.jsx(mm,{...e})},_F=_e("p",{className:"aui-thread-welcome-message"}),Mm=f.forwardRef(({message:e,...t},n)=>{const{welcome:{message:r}={},strings:{welcome:{message:s="How can I help you today?"}={}}={}}=ke();return u.jsx(_F,{...t,ref:n,children:e??r??s})});Mm.displayName="ThreadWelcomeMessage";var CF=_e("div",{className:"aui-thread-welcome-suggestions"}),kF=_e(o0,{className:"aui-thread-welcome-suggestion"}),wk=({suggestion:{text:e,prompt:t}})=>u.jsx(kF,{prompt:t,method:"replace",autoSend:!0,children:u.jsx("span",{className:"aui-thread-welcome-suggestion-text",children:e??t})}),Om=()=>{const e=Nn(r=>r.suggestions),{welcome:{suggestions:t}={}}=ke(),n=e.length?e:t;return u.jsx(CF,{children:n==null?void 0:n.map((r,s)=>{const o=`${r.prompt}-${s}`;return u.jsx(wk,{suggestion:r},o)})})};Om.displayName="ThreadWelcomeSuggestions";var EF={Root:jm,Center:vk,Avatar:xk,Message:Mm,Suggestions:Om,Suggestion:wk},TF=Object.assign(yk,EF),bk=(e=!1)=>{const{userMessage:{allowEdit:t=!0}={}}=ke(),n=Nn(r=>r.capabilities.edit);return t&&(!e||n)},Sk=()=>bk(!0)?u.jsx(Lm,{hideWhenRunning:!0,autohide:"not-last",children:u.jsx(Dm,{})}):null;Sk.displayName="UserActionBar";var Lm=_e(jp,{className:"aui-user-action-bar-root"});Lm.displayName="UserActionBarRoot";var Dm=f.forwardRef((e,t)=>{const{strings:{userMessage:{edit:{tooltip:n="Edit"}={}}={}}={}}=ke(),r=bk();return u.jsx(uj,{disabled:!r,asChild:!0,children:u.jsx(yt,{tooltip:n,...e,ref:t,children:e.children??u.jsx(zL,{})})})});Dm.displayName="UserActionBarEdit";var RF={Root:Lm,Edit:Dm},_k=Object.assign(Sk,RF),Ck=()=>u.jsxs(Fm,{children:[u.jsx(kk,{}),u.jsxs(xr,{hasContent:!0,children:[u.jsx(_k,{}),u.jsx(zm,{})]}),u.jsx(mc,{})]});Ck.displayName="UserMessage";var Fm=_e(Kp,{className:"aui-user-message-root"});Fm.displayName="UserMessageRoot";var NF=_e("div",{className:"aui-user-message-content"}),zm=f.forwardRef(({components:e,...t},n)=>u.jsx(NF,{...t,ref:n,children:u.jsx(Gp,{components:{...e,Text:(e==null?void 0:e.Text)??$0.Text}})}));zm.displayName="UserMessageContent";var IF=_e("div",{className:"aui-user-message-attachments"}),kk=({components:e})=>u.jsx(xr,{hasAttachments:!0,children:u.jsx(IF,{children:u.jsx(VC,{components:{...e,Attachment:(e==null?void 0:e.Attachment)??hk}})})}),PF={Root:Fm,Content:zm,Attachments:kk},Ol=Object.assign(Ck,PF),Ek=()=>u.jsxs(Bm,{children:[u.jsx($m,{}),u.jsxs(Um,{children:[u.jsx(Hm,{}),u.jsx(Vm,{})]})]});Ek.displayName="EditComposer";var Bm=_e(Yp,{className:"aui-edit-composer-root"});Bm.displayName="EditComposerRoot";var $m=_e(Qp,{className:"aui-edit-composer-input"});$m.displayName="EditComposerInput";var Um=_e("div",{className:"aui-edit-composer-footer"});Um.displayName="EditComposerFooter";var Hm=f.forwardRef((e,t)=>{const{strings:{editComposer:{cancel:{label:n="Cancel"}={}}={}}={}}=ke();return u.jsx(YC,{asChild:!0,children:u.jsx(pc,{variant:"ghost",...e,ref:t,children:e.children??n})})});Hm.displayName="EditComposerCancel";var Vm=f.forwardRef((e,t)=>{const{strings:{editComposer:{send:{label:n="Send"}={}}={}}={}}=ke();return u.jsx(qC,{asChild:!0,children:u.jsx(pc,{...e,ref:t,children:e.children??n})})});Vm.displayName="EditComposerSend";var AF={Root:Bm,Input:$m,Footer:Um,Cancel:Hm,Send:Vm},jF=Object.assign(Ek,AF),MF=e=>{const{components:{Composer:t=bF,ThreadWelcome:n=TF,MessagesFooter:r,...s}={}}=e;return u.jsx(Wm,{config:e,children:u.jsxs(Km,{children:[u.jsx(n,{}),u.jsx(Gm,{MessagesFooter:r,components:s}),u.jsx(Tk,{}),u.jsxs(qm,{children:[u.jsx(Ym,{}),u.jsx(t,{})]})]})})},OF=_e(JC,{className:"aui-root aui-thread-root"}),Wm=f.forwardRef(({config:e,...t},n)=>u.jsx(a0,{config:e,children:u.jsx(OF,{...t,ref:n})}));Wm.displayName="ThreadRoot";var Km=_e(t0,{className:"aui-thread-viewport"});Km.displayName="ThreadViewport";var qm=_e("div",{className:"aui-thread-viewport-footer"});qm.displayName="ThreadViewportFooter";var Gm=({components:e,MessagesFooter:t,unstable_flexGrowDiv:n=!0,...r})=>u.jsxs(u.Fragment,{children:[u.jsx(hL,{components:{...e,UserMessage:(e==null?void 0:e.UserMessage)??Ol,AssistantMessage:(e==null?void 0:e.AssistantMessage)??Ml,EditComposer:(e==null?void 0:e.EditComposer)??jF},...r}),t&&u.jsx(t,{}),n&&u.jsx(la,{empty:!1,children:u.jsx("div",{style:{flexGrow:1}})})]});Gm.displayName="ThreadMessages";var Tk=()=>{const e=Nn(t=>t.suggestions);return u.jsx(la,{empty:!1,running:!1,children:u.jsx("div",{className:"aui-thread-followup-suggestions",children:e==null?void 0:e.map((t,n)=>u.jsx(o0,{className:"aui-thread-followup-suggestion",prompt:t.prompt,method:"replace",autoSend:!0,children:t.prompt},n))})})},LF=_e(yt,{variant:"outline",className:"aui-thread-scroll-to-bottom"}),Ym=f.forwardRef((e,t)=>{const{strings:{thread:{scrollToBottom:{tooltip:n="Scroll to bottom"}={}}={}}={}}=ke();return u.jsx(mL,{asChild:!0,children:u.jsx(LF,{tooltip:n,...e,ref:t,children:e.children??u.jsx(bL,{})})})});Ym.displayName="ThreadScrollToBottom";var DF={Root:Wm,Viewport:Km,Messages:Gm,FollowupSuggestions:Tk,ScrollToBottom:Ym,ViewportFooter:qm},FF=Object.assign(MF,DF),zF=({copiedDuration:e=3e3}={})=>{const[t,n]=f.useState(!1);return{isCopied:t,copyToClipboard:s=>{s&&navigator.clipboard.writeText(s).then(()=>{n(!0),setTimeout(()=>n(!1),e)})}}},BF=({language:e,code:t})=>{const{strings:{code:{header:{copy:{tooltip:n="Copy"}={}}={}}={}}={}}=ke(),{isCopied:r,copyToClipboard:s}=zF(),o=()=>{!t||r||s(t)};return u.jsxs("div",{className:"aui-code-header-root",children:[u.jsx("span",{className:"aui-code-header-language",children:e}),u.jsxs(yt,{tooltip:n,onClick:o,children:[!r&&u.jsx(c0,{}),r&&u.jsx(u0,{})]})]})};function $F(e,t){const n={};return(e[e.length-1]===""?[...e,""]:e).join((n.padRight?" ":"")+","+(n.padLeft===!1?"":" ")).trim()}const UF=/^[$_\p{ID_Start}][$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,HF=/^[$_\p{ID_Start}][-$_\u{200C}\u{200D}\p{ID_Continue}]*$/u,VF={};function gx(e,t){return(VF.jsx?HF:UF).test(e)}const WF=/[ \t\n\f\r]/g;function KF(e){return typeof e=="object"?e.type==="text"?yx(e.value):!1:yx(e)}function yx(e){return e.replace(WF,"")===""}class ka{constructor(t,n,r){this.normal=n,this.property=t,r&&(this.space=r)}}ka.prototype.normal={};ka.prototype.property={};ka.prototype.space=void 0;function Rk(e,t){const n={},r={};for(const s of e)Object.assign(n,s.property),Object.assign(r,s.normal);return new ka(n,r,t)}function sh(e){return e.toLowerCase()}class Ft{constructor(t,n){this.attribute=n,this.property=t}}Ft.prototype.attribute="";Ft.prototype.booleanish=!1;Ft.prototype.boolean=!1;Ft.prototype.commaOrSpaceSeparated=!1;Ft.prototype.commaSeparated=!1;Ft.prototype.defined=!1;Ft.prototype.mustUseProperty=!1;Ft.prototype.number=!1;Ft.prototype.overloadedBoolean=!1;Ft.prototype.property="";Ft.prototype.spaceSeparated=!1;Ft.prototype.space=void 0;let qF=0;const ie=Ds(),Ye=Ds(),oh=Ds(),z=Ds(),Ae=Ds(),wo=Ds(),$t=Ds();function Ds(){return 2**++qF}const ih=Object.freeze(Object.defineProperty({__proto__:null,boolean:ie,booleanish:Ye,commaOrSpaceSeparated:$t,commaSeparated:wo,number:z,overloadedBoolean:oh,spaceSeparated:Ae},Symbol.toStringTag,{value:"Module"})),Ad=Object.keys(ih);class Xm extends Ft{constructor(t,n,r,s){let o=-1;if(super(t,n),vx(this,"space",s),typeof r=="number")for(;++o<Ad.length;){const i=Ad[o];vx(this,Ad[o],(r&ih[i])===ih[i])}}}Xm.prototype.defined=!0;function vx(e,t,n){n&&(e[t]=n)}function Wo(e){const t={},n={};for(const[r,s]of Object.entries(e.properties)){const o=new Xm(r,e.transform(e.attributes||{},r),s,e.space);e.mustUseProperty&&e.mustUseProperty.includes(r)&&(o.mustUseProperty=!0),t[r]=o,n[sh(r)]=r,n[sh(o.attribute)]=r}return new ka(t,n,e.space)}const Nk=Wo({properties:{ariaActiveDescendant:null,ariaAtomic:Ye,ariaAutoComplete:null,ariaBusy:Ye,ariaChecked:Ye,ariaColCount:z,ariaColIndex:z,ariaColSpan:z,ariaControls:Ae,ariaCurrent:null,ariaDescribedBy:Ae,ariaDetails:null,ariaDisabled:Ye,ariaDropEffect:Ae,ariaErrorMessage:null,ariaExpanded:Ye,ariaFlowTo:Ae,ariaGrabbed:Ye,ariaHasPopup:null,ariaHidden:Ye,ariaInvalid:null,ariaKeyShortcuts:null,ariaLabel:null,ariaLabelledBy:Ae,ariaLevel:z,ariaLive:null,ariaModal:Ye,ariaMultiLine:Ye,ariaMultiSelectable:Ye,ariaOrientation:null,ariaOwns:Ae,ariaPlaceholder:null,ariaPosInSet:z,ariaPressed:Ye,ariaReadOnly:Ye,ariaRelevant:null,ariaRequired:Ye,ariaRoleDescription:Ae,ariaRowCount:z,ariaRowIndex:z,ariaRowSpan:z,ariaSelected:Ye,ariaSetSize:z,ariaSort:null,ariaValueMax:z,ariaValueMin:z,ariaValueNow:z,ariaValueText:null,role:null},transform(e,t){return t==="role"?t:"aria-"+t.slice(4).toLowerCase()}});function Ik(e,t){return t in e?e[t]:t}function Pk(e,t){return Ik(e,t.toLowerCase())}const GF=Wo({attributes:{acceptcharset:"accept-charset",classname:"class",htmlfor:"for",httpequiv:"http-equiv"},mustUseProperty:["checked","multiple","muted","selected"],properties:{abbr:null,accept:wo,acceptCharset:Ae,accessKey:Ae,action:null,allow:null,allowFullScreen:ie,allowPaymentRequest:ie,allowUserMedia:ie,alt:null,as:null,async:ie,autoCapitalize:null,autoComplete:Ae,autoFocus:ie,autoPlay:ie,blocking:Ae,capture:null,charSet:null,checked:ie,cite:null,className:Ae,cols:z,colSpan:null,content:null,contentEditable:Ye,controls:ie,controlsList:Ae,coords:z|wo,crossOrigin:null,data:null,dateTime:null,decoding:null,default:ie,defer:ie,dir:null,dirName:null,disabled:ie,download:oh,draggable:Ye,encType:null,enterKeyHint:null,fetchPriority:null,form:null,formAction:null,formEncType:null,formMethod:null,formNoValidate:ie,formTarget:null,headers:Ae,height:z,hidden:oh,high:z,href:null,hrefLang:null,htmlFor:Ae,httpEquiv:Ae,id:null,imageSizes:null,imageSrcSet:null,inert:ie,inputMode:null,integrity:null,is:null,isMap:ie,itemId:null,itemProp:Ae,itemRef:Ae,itemScope:ie,itemType:Ae,kind:null,label:null,lang:null,language:null,list:null,loading:null,loop:ie,low:z,manifest:null,max:null,maxLength:z,media:null,method:null,min:null,minLength:z,multiple:ie,muted:ie,name:null,nonce:null,noModule:ie,noValidate:ie,onAbort:null,onAfterPrint:null,onAuxClick:null,onBeforeMatch:null,onBeforePrint:null,onBeforeToggle:null,onBeforeUnload:null,onBlur:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onContextLost:null,onContextMenu:null,onContextRestored:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnded:null,onError:null,onFocus:null,onFormData:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLanguageChange:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadEnd:null,onLoadStart:null,onMessage:null,onMessageError:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRejectionHandled:null,onReset:null,onResize:null,onScroll:null,onScrollEnd:null,onSecurityPolicyViolation:null,onSeeked:null,onSeeking:null,onSelect:null,onSlotChange:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnhandledRejection:null,onUnload:null,onVolumeChange:null,onWaiting:null,onWheel:null,open:ie,optimum:z,pattern:null,ping:Ae,placeholder:null,playsInline:ie,popover:null,popoverTarget:null,popoverTargetAction:null,poster:null,preload:null,readOnly:ie,referrerPolicy:null,rel:Ae,required:ie,reversed:ie,rows:z,rowSpan:z,sandbox:Ae,scope:null,scoped:ie,seamless:ie,selected:ie,shadowRootClonable:ie,shadowRootDelegatesFocus:ie,shadowRootMode:null,shape:null,size:z,sizes:null,slot:null,span:z,spellCheck:Ye,src:null,srcDoc:null,srcLang:null,srcSet:null,start:z,step:null,style:null,tabIndex:z,target:null,title:null,translate:null,type:null,typeMustMatch:ie,useMap:null,value:Ye,width:z,wrap:null,writingSuggestions:null,align:null,aLink:null,archive:Ae,axis:null,background:null,bgColor:null,border:z,borderColor:null,bottomMargin:z,cellPadding:null,cellSpacing:null,char:null,charOff:null,classId:null,clear:null,code:null,codeBase:null,codeType:null,color:null,compact:ie,declare:ie,event:null,face:null,frame:null,frameBorder:null,hSpace:z,leftMargin:z,link:null,longDesc:null,lowSrc:null,marginHeight:z,marginWidth:z,noResize:ie,noHref:ie,noShade:ie,noWrap:ie,object:null,profile:null,prompt:null,rev:null,rightMargin:z,rules:null,scheme:null,scrolling:Ye,standby:null,summary:null,text:null,topMargin:z,valueType:null,version:null,vAlign:null,vLink:null,vSpace:z,allowTransparency:null,autoCorrect:null,autoSave:null,disablePictureInPicture:ie,disableRemotePlayback:ie,prefix:null,property:null,results:z,security:null,unselectable:null},space:"html",transform:Pk}),YF=Wo({attributes:{accentHeight:"accent-height",alignmentBaseline:"alignment-baseline",arabicForm:"arabic-form",baselineShift:"baseline-shift",capHeight:"cap-height",className:"class",clipPath:"clip-path",clipRule:"clip-rule",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",crossOrigin:"crossorigin",dataType:"datatype",dominantBaseline:"dominant-baseline",enableBackground:"enable-background",fillOpacity:"fill-opacity",fillRule:"fill-rule",floodColor:"flood-color",floodOpacity:"flood-opacity",fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",hrefLang:"hreflang",horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",horizOriginY:"horiz-origin-y",imageRendering:"image-rendering",letterSpacing:"letter-spacing",lightingColor:"lighting-color",markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",navDown:"nav-down",navDownLeft:"nav-down-left",navDownRight:"nav-down-right",navLeft:"nav-left",navNext:"nav-next",navPrev:"nav-prev",navRight:"nav-right",navUp:"nav-up",navUpLeft:"nav-up-left",navUpRight:"nav-up-right",onAbort:"onabort",onActivate:"onactivate",onAfterPrint:"onafterprint",onBeforePrint:"onbeforeprint",onBegin:"onbegin",onCancel:"oncancel",onCanPlay:"oncanplay",onCanPlayThrough:"oncanplaythrough",onChange:"onchange",onClick:"onclick",onClose:"onclose",onCopy:"oncopy",onCueChange:"oncuechange",onCut:"oncut",onDblClick:"ondblclick",onDrag:"ondrag",onDragEnd:"ondragend",onDragEnter:"ondragenter",onDragExit:"ondragexit",onDragLeave:"ondragleave",onDragOver:"ondragover",onDragStart:"ondragstart",onDrop:"ondrop",onDurationChange:"ondurationchange",onEmptied:"onemptied",onEnd:"onend",onEnded:"onended",onError:"onerror",onFocus:"onfocus",onFocusIn:"onfocusin",onFocusOut:"onfocusout",onHashChange:"onhashchange",onInput:"oninput",onInvalid:"oninvalid",onKeyDown:"onkeydown",onKeyPress:"onkeypress",onKeyUp:"onkeyup",onLoad:"onload",onLoadedData:"onloadeddata",onLoadedMetadata:"onloadedmetadata",onLoadStart:"onloadstart",onMessage:"onmessage",onMouseDown:"onmousedown",onMouseEnter:"onmouseenter",onMouseLeave:"onmouseleave",onMouseMove:"onmousemove",onMouseOut:"onmouseout",onMouseOver:"onmouseover",onMouseUp:"onmouseup",onMouseWheel:"onmousewheel",onOffline:"onoffline",onOnline:"ononline",onPageHide:"onpagehide",onPageShow:"onpageshow",onPaste:"onpaste",onPause:"onpause",onPlay:"onplay",onPlaying:"onplaying",onPopState:"onpopstate",onProgress:"onprogress",onRateChange:"onratechange",onRepeat:"onrepeat",onReset:"onreset",onResize:"onresize",onScroll:"onscroll",onSeeked:"onseeked",onSeeking:"onseeking",onSelect:"onselect",onShow:"onshow",onStalled:"onstalled",onStorage:"onstorage",onSubmit:"onsubmit",onSuspend:"onsuspend",onTimeUpdate:"ontimeupdate",onToggle:"ontoggle",onUnload:"onunload",onVolumeChange:"onvolumechange",onWaiting:"onwaiting",onZoom:"onzoom",overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pointerEvents:"pointer-events",referrerPolicy:"referrerpolicy",renderingIntent:"rendering-intent",shapeRendering:"shape-rendering",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",strokeDashArray:"stroke-dasharray",strokeDashOffset:"stroke-dashoffset",strokeLineCap:"stroke-linecap",strokeLineJoin:"stroke-linejoin",strokeMiterLimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",tabIndex:"tabindex",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",transformOrigin:"transform-origin",typeOf:"typeof",underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",vectorEffect:"vector-effect",vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",wordSpacing:"word-spacing",writingMode:"writing-mode",xHeight:"x-height",playbackOrder:"playbackorder",timelineBegin:"timelinebegin"},properties:{about:$t,accentHeight:z,accumulate:null,additive:null,alignmentBaseline:null,alphabetic:z,amplitude:z,arabicForm:null,ascent:z,attributeName:null,attributeType:null,azimuth:z,bandwidth:null,baselineShift:null,baseFrequency:null,baseProfile:null,bbox:null,begin:null,bias:z,by:null,calcMode:null,capHeight:z,className:Ae,clip:null,clipPath:null,clipPathUnits:null,clipRule:null,color:null,colorInterpolation:null,colorInterpolationFilters:null,colorProfile:null,colorRendering:null,content:null,contentScriptType:null,contentStyleType:null,crossOrigin:null,cursor:null,cx:null,cy:null,d:null,dataType:null,defaultAction:null,descent:z,diffuseConstant:z,direction:null,display:null,dur:null,divisor:z,dominantBaseline:null,download:ie,dx:null,dy:null,edgeMode:null,editable:null,elevation:z,enableBackground:null,end:null,event:null,exponent:z,externalResourcesRequired:null,fill:null,fillOpacity:z,fillRule:null,filter:null,filterRes:null,filterUnits:null,floodColor:null,floodOpacity:null,focusable:null,focusHighlight:null,fontFamily:null,fontSize:null,fontSizeAdjust:null,fontStretch:null,fontStyle:null,fontVariant:null,fontWeight:null,format:null,fr:null,from:null,fx:null,fy:null,g1:wo,g2:wo,glyphName:wo,glyphOrientationHorizontal:null,glyphOrientationVertical:null,glyphRef:null,gradientTransform:null,gradientUnits:null,handler:null,hanging:z,hatchContentUnits:null,hatchUnits:null,height:null,href:null,hrefLang:null,horizAdvX:z,horizOriginX:z,horizOriginY:z,id:null,ideographic:z,imageRendering:null,initialVisibility:null,in:null,in2:null,intercept:z,k:z,k1:z,k2:z,k3:z,k4:z,kernelMatrix:$t,kernelUnitLength:null,keyPoints:null,keySplines:null,keyTimes:null,kerning:null,lang:null,lengthAdjust:null,letterSpacing:null,lightingColor:null,limitingConeAngle:z,local:null,markerEnd:null,markerMid:null,markerStart:null,markerHeight:null,markerUnits:null,markerWidth:null,mask:null,maskContentUnits:null,maskUnits:null,mathematical:null,max:null,media:null,mediaCharacterEncoding:null,mediaContentEncodings:null,mediaSize:z,mediaTime:null,method:null,min:null,mode:null,name:null,navDown:null,navDownLeft:null,navDownRight:null,navLeft:null,navNext:null,navPrev:null,navRight:null,navUp:null,navUpLeft:null,navUpRight:null,numOctaves:null,observer:null,offset:null,onAbort:null,onActivate:null,onAfterPrint:null,onBeforePrint:null,onBegin:null,onCancel:null,onCanPlay:null,onCanPlayThrough:null,onChange:null,onClick:null,onClose:null,onCopy:null,onCueChange:null,onCut:null,onDblClick:null,onDrag:null,onDragEnd:null,onDragEnter:null,onDragExit:null,onDragLeave:null,onDragOver:null,onDragStart:null,onDrop:null,onDurationChange:null,onEmptied:null,onEnd:null,onEnded:null,onError:null,onFocus:null,onFocusIn:null,onFocusOut:null,onHashChange:null,onInput:null,onInvalid:null,onKeyDown:null,onKeyPress:null,onKeyUp:null,onLoad:null,onLoadedData:null,onLoadedMetadata:null,onLoadStart:null,onMessage:null,onMouseDown:null,onMouseEnter:null,onMouseLeave:null,onMouseMove:null,onMouseOut:null,onMouseOver:null,onMouseUp:null,onMouseWheel:null,onOffline:null,onOnline:null,onPageHide:null,onPageShow:null,onPaste:null,onPause:null,onPlay:null,onPlaying:null,onPopState:null,onProgress:null,onRateChange:null,onRepeat:null,onReset:null,onResize:null,onScroll:null,onSeeked:null,onSeeking:null,onSelect:null,onShow:null,onStalled:null,onStorage:null,onSubmit:null,onSuspend:null,onTimeUpdate:null,onToggle:null,onUnload:null,onVolumeChange:null,onWaiting:null,onZoom:null,opacity:null,operator:null,order:null,orient:null,orientation:null,origin:null,overflow:null,overlay:null,overlinePosition:z,overlineThickness:z,paintOrder:null,panose1:null,path:null,pathLength:z,patternContentUnits:null,patternTransform:null,patternUnits:null,phase:null,ping:Ae,pitch:null,playbackOrder:null,pointerEvents:null,points:null,pointsAtX:z,pointsAtY:z,pointsAtZ:z,preserveAlpha:null,preserveAspectRatio:null,primitiveUnits:null,propagate:null,property:$t,r:null,radius:null,referrerPolicy:null,refX:null,refY:null,rel:$t,rev:$t,renderingIntent:null,repeatCount:null,repeatDur:null,requiredExtensions:$t,requiredFeatures:$t,requiredFonts:$t,requiredFormats:$t,resource:null,restart:null,result:null,rotate:null,rx:null,ry:null,scale:null,seed:null,shapeRendering:null,side:null,slope:null,snapshotTime:null,specularConstant:z,specularExponent:z,spreadMethod:null,spacing:null,startOffset:null,stdDeviation:null,stemh:null,stemv:null,stitchTiles:null,stopColor:null,stopOpacity:null,strikethroughPosition:z,strikethroughThickness:z,string:null,stroke:null,strokeDashArray:$t,strokeDashOffset:null,strokeLineCap:null,strokeLineJoin:null,strokeMiterLimit:z,strokeOpacity:z,strokeWidth:null,style:null,surfaceScale:z,syncBehavior:null,syncBehaviorDefault:null,syncMaster:null,syncTolerance:null,syncToleranceDefault:null,systemLanguage:$t,tabIndex:z,tableValues:null,target:null,targetX:z,targetY:z,textAnchor:null,textDecoration:null,textRendering:null,textLength:null,timelineBegin:null,title:null,transformBehavior:null,type:null,typeOf:$t,to:null,transform:null,transformOrigin:null,u1:null,u2:null,underlinePosition:z,underlineThickness:z,unicode:null,unicodeBidi:null,unicodeRange:null,unitsPerEm:z,values:null,vAlphabetic:z,vMathematical:z,vectorEffect:null,vHanging:z,vIdeographic:z,version:null,vertAdvY:z,vertOriginX:z,vertOriginY:z,viewBox:null,viewTarget:null,visibility:null,width:null,widths:null,wordSpacing:null,writingMode:null,x:null,x1:null,x2:null,xChannelSelector:null,xHeight:z,y:null,y1:null,y2:null,yChannelSelector:null,z:null,zoomAndPan:null},space:"svg",transform:Ik}),Ak=Wo({properties:{xLinkActuate:null,xLinkArcRole:null,xLinkHref:null,xLinkRole:null,xLinkShow:null,xLinkTitle:null,xLinkType:null},space:"xlink",transform(e,t){return"xlink:"+t.slice(5).toLowerCase()}}),jk=Wo({attributes:{xmlnsxlink:"xmlns:xlink"},properties:{xmlnsXLink:null,xmlns:null},space:"xmlns",transform:Pk}),Mk=Wo({properties:{xmlBase:null,xmlLang:null,xmlSpace:null},space:"xml",transform(e,t){return"xml:"+t.slice(3).toLowerCase()}}),XF={classId:"classID",dataType:"datatype",itemId:"itemID",strokeDashArray:"strokeDasharray",strokeDashOffset:"strokeDashoffset",strokeLineCap:"strokeLinecap",strokeLineJoin:"strokeLinejoin",strokeMiterLimit:"strokeMiterlimit",typeOf:"typeof",xLinkActuate:"xlinkActuate",xLinkArcRole:"xlinkArcrole",xLinkHref:"xlinkHref",xLinkRole:"xlinkRole",xLinkShow:"xlinkShow",xLinkTitle:"xlinkTitle",xLinkType:"xlinkType",xmlnsXLink:"xmlnsXlink"},QF=/[A-Z]/g,xx=/-[a-z]/g,JF=/^data[-\w.:]+$/i;function ZF(e,t){const n=sh(t);let r=t,s=Ft;if(n in e.normal)return e.property[e.normal[n]];if(n.length>4&&n.slice(0,4)==="data"&&JF.test(t)){if(t.charAt(4)==="-"){const o=t.slice(5).replace(xx,tz);r="data"+o.charAt(0).toUpperCase()+o.slice(1)}else{const o=t.slice(4);if(!xx.test(o)){let i=o.replace(QF,ez);i.charAt(0)!=="-"&&(i="-"+i),t="data"+i}}s=Xm}return new s(r,t)}function ez(e){return"-"+e.toLowerCase()}function tz(e){return e.charAt(1).toUpperCase()}const nz=Rk([Nk,GF,Ak,jk,Mk],"html"),Qm=Rk([Nk,YF,Ak,jk,Mk],"svg");function rz(e){return e.join(" ").trim()}var Jm={},wx=/\/\*[^*]*\*+([^/*][^*]*\*+)*\//g,sz=/\n/g,oz=/^\s*/,iz=/^(\*?[-#/*\\\w]+(\[[0-9a-z_-]+\])?)\s*/,az=/^:\s*/,lz=/^((?:'(?:\\'|.)*?'|"(?:\\"|.)*?"|\([^)]*?\)|[^};])+)/,uz=/^[;\s]*/,cz=/^\s+|\s+$/g,dz=`
`,bx="/",Sx="*",ms="",fz="comment",hz="declaration";function pz(e,t){if(typeof e!="string")throw new TypeError("First argument must be a string");if(!e)return[];t=t||{};var n=1,r=1;function s(v){var y=v.match(sz);y&&(n+=y.length);var b=v.lastIndexOf(dz);r=~b?v.length-b:r+v.length}function o(){var v={line:n,column:r};return function(y){return y.position=new i(v),c(),y}}function i(v){this.start=v,this.end={line:n,column:r},this.source=t.source}i.prototype.content=e;function a(v){var y=new Error(t.source+":"+n+":"+r+": "+v);if(y.reason=v,y.filename=t.source,y.line=n,y.column=r,y.source=e,!t.silent)throw y}function l(v){var y=v.exec(e);if(y){var b=y[0];return s(b),e=e.slice(b.length),y}}function c(){l(oz)}function d(v){var y;for(v=v||[];y=h();)y!==!1&&v.push(y);return v}function h(){var v=o();if(!(bx!=e.charAt(0)||Sx!=e.charAt(1))){for(var y=2;ms!=e.charAt(y)&&(Sx!=e.charAt(y)||bx!=e.charAt(y+1));)++y;if(y+=2,ms===e.charAt(y-1))return a("End of comment missing");var b=e.slice(2,y-2);return r+=2,s(b),e=e.slice(y),r+=2,v({type:fz,comment:b})}}function p(){var v=o(),y=l(iz);if(y){if(h(),!l(az))return a("property missing ':'");var b=l(lz),g=v({type:hz,property:_x(y[0].replace(wx,ms)),value:b?_x(b[0].replace(wx,ms)):ms});return l(uz),g}}function m(){var v=[];d(v);for(var y;y=p();)y!==!1&&(v.push(y),d(v));return v}return c(),m()}function _x(e){return e?e.replace(cz,ms):ms}var mz=pz,gz=$l&&$l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(Jm,"__esModule",{value:!0});Jm.default=vz;const yz=gz(mz);function vz(e,t){let n=null;if(!e||typeof e!="string")return n;const r=(0,yz.default)(e),s=typeof t=="function";return r.forEach(o=>{if(o.type!=="declaration")return;const{property:i,value:a}=o;s?t(i,a,o):a&&(n=n||{},n[i]=a)}),n}var yc={};Object.defineProperty(yc,"__esModule",{value:!0});yc.camelCase=void 0;var xz=/^--[a-zA-Z0-9_-]+$/,wz=/-([a-z])/g,bz=/^[^-]+$/,Sz=/^-(webkit|moz|ms|o|khtml)-/,_z=/^-(ms)-/,Cz=function(e){return!e||bz.test(e)||xz.test(e)},kz=function(e,t){return t.toUpperCase()},Cx=function(e,t){return"".concat(t,"-")},Ez=function(e,t){return t===void 0&&(t={}),Cz(e)?e:(e=e.toLowerCase(),t.reactCompat?e=e.replace(_z,Cx):e=e.replace(Sz,Cx),e.replace(wz,kz))};yc.camelCase=Ez;var Tz=$l&&$l.__importDefault||function(e){return e&&e.__esModule?e:{default:e}},Rz=Tz(Jm),Nz=yc;function ah(e,t){var n={};return!e||typeof e!="string"||(0,Rz.default)(e,function(r,s){r&&s&&(n[(0,Nz.camelCase)(r,t)]=s)}),n}ah.default=ah;var Iz=ah;const Pz=Do(Iz),Ok=Lk("end"),Zm=Lk("start");function Lk(e){return t;function t(n){const r=n&&n.position&&n.position[e]||{};if(typeof r.line=="number"&&r.line>0&&typeof r.column=="number"&&r.column>0)return{line:r.line,column:r.column,offset:typeof r.offset=="number"&&r.offset>-1?r.offset:void 0}}}function Az(e){const t=Zm(e),n=Ok(e);if(t&&n)return{start:t,end:n}}function Li(e){return!e||typeof e!="object"?"":"position"in e||"type"in e?kx(e.position):"start"in e||"end"in e?kx(e):"line"in e||"column"in e?lh(e):""}function lh(e){return Ex(e&&e.line)+":"+Ex(e&&e.column)}function kx(e){return lh(e&&e.start)+"-"+lh(e&&e.end)}function Ex(e){return e&&typeof e=="number"?e:1}class vt extends Error{constructor(t,n,r){super(),typeof n=="string"&&(r=n,n=void 0);let s="",o={},i=!1;if(n&&("line"in n&&"column"in n?o={place:n}:"start"in n&&"end"in n?o={place:n}:"type"in n?o={ancestors:[n],place:n.position}:o={...n}),typeof t=="string"?s=t:!o.cause&&t&&(i=!0,s=t.message,o.cause=t),!o.ruleId&&!o.source&&typeof r=="string"){const l=r.indexOf(":");l===-1?o.ruleId=r:(o.source=r.slice(0,l),o.ruleId=r.slice(l+1))}if(!o.place&&o.ancestors&&o.ancestors){const l=o.ancestors[o.ancestors.length-1];l&&(o.place=l.position)}const a=o.place&&"start"in o.place?o.place.start:o.place;this.ancestors=o.ancestors||void 0,this.cause=o.cause||void 0,this.column=a?a.column:void 0,this.fatal=void 0,this.file="",this.message=s,this.line=a?a.line:void 0,this.name=Li(o.place)||"1:1",this.place=o.place||void 0,this.reason=this.message,this.ruleId=o.ruleId||void 0,this.source=o.source||void 0,this.stack=i&&o.cause&&typeof o.cause.stack=="string"?o.cause.stack:"",this.actual=void 0,this.expected=void 0,this.note=void 0,this.url=void 0}}vt.prototype.file="";vt.prototype.name="";vt.prototype.reason="";vt.prototype.message="";vt.prototype.stack="";vt.prototype.column=void 0;vt.prototype.line=void 0;vt.prototype.ancestors=void 0;vt.prototype.cause=void 0;vt.prototype.fatal=void 0;vt.prototype.place=void 0;vt.prototype.ruleId=void 0;vt.prototype.source=void 0;const eg={}.hasOwnProperty,jz=new Map,Mz=/[A-Z]/g,Oz=new Set(["table","tbody","thead","tfoot","tr"]),Lz=new Set(["td","th"]),Dk="https://github.com/syntax-tree/hast-util-to-jsx-runtime";function Dz(e,t){if(!t||t.Fragment===void 0)throw new TypeError("Expected `Fragment` in options");const n=t.filePath||void 0;let r;if(t.development){if(typeof t.jsxDEV!="function")throw new TypeError("Expected `jsxDEV` in options when `development: true`");r=Wz(n,t.jsxDEV)}else{if(typeof t.jsx!="function")throw new TypeError("Expected `jsx` in production options");if(typeof t.jsxs!="function")throw new TypeError("Expected `jsxs` in production options");r=Vz(n,t.jsx,t.jsxs)}const s={Fragment:t.Fragment,ancestors:[],components:t.components||{},create:r,elementAttributeNameCase:t.elementAttributeNameCase||"react",evaluater:t.createEvaluater?t.createEvaluater():void 0,filePath:n,ignoreInvalidStyle:t.ignoreInvalidStyle||!1,passKeys:t.passKeys!==!1,passNode:t.passNode||!1,schema:t.space==="svg"?Qm:nz,stylePropertyNameCase:t.stylePropertyNameCase||"dom",tableCellAlignToStyle:t.tableCellAlignToStyle!==!1},o=Fk(s,e,void 0);return o&&typeof o!="string"?o:s.create(e,s.Fragment,{children:o||void 0},void 0)}function Fk(e,t,n){if(t.type==="element")return Fz(e,t,n);if(t.type==="mdxFlowExpression"||t.type==="mdxTextExpression")return zz(e,t);if(t.type==="mdxJsxFlowElement"||t.type==="mdxJsxTextElement")return $z(e,t,n);if(t.type==="mdxjsEsm")return Bz(e,t);if(t.type==="root")return Uz(e,t,n);if(t.type==="text")return Hz(e,t)}function Fz(e,t,n){const r=e.schema;let s=r;t.tagName.toLowerCase()==="svg"&&r.space==="html"&&(s=Qm,e.schema=s),e.ancestors.push(t);const o=Bk(e,t.tagName,!1),i=Kz(e,t);let a=ng(e,t);return Oz.has(t.tagName)&&(a=a.filter(function(l){return typeof l=="string"?!KF(l):!0})),zk(e,i,o,t),tg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function zz(e,t){if(t.data&&t.data.estree&&e.evaluater){const r=t.data.estree.body[0];return r.type,e.evaluater.evaluateExpression(r.expression)}ca(e,t.position)}function Bz(e,t){if(t.data&&t.data.estree&&e.evaluater)return e.evaluater.evaluateProgram(t.data.estree);ca(e,t.position)}function $z(e,t,n){const r=e.schema;let s=r;t.name==="svg"&&r.space==="html"&&(s=Qm,e.schema=s),e.ancestors.push(t);const o=t.name===null?e.Fragment:Bk(e,t.name,!0),i=qz(e,t),a=ng(e,t);return zk(e,i,o,t),tg(i,a),e.ancestors.pop(),e.schema=r,e.create(t,o,i,n)}function Uz(e,t,n){const r={};return tg(r,ng(e,t)),e.create(t,e.Fragment,r,n)}function Hz(e,t){return t.value}function zk(e,t,n,r){typeof n!="string"&&n!==e.Fragment&&e.passNode&&(t.node=r)}function tg(e,t){if(t.length>0){const n=t.length>1?t:t[0];n&&(e.children=n)}}function Vz(e,t,n){return r;function r(s,o,i,a){const c=Array.isArray(i.children)?n:t;return a?c(o,i,a):c(o,i)}}function Wz(e,t){return n;function n(r,s,o,i){const a=Array.isArray(o.children),l=Zm(r);return t(s,o,i,a,{columnNumber:l?l.column-1:void 0,fileName:e,lineNumber:l?l.line:void 0},void 0)}}function Kz(e,t){const n={};let r,s;for(s in t.properties)if(s!=="children"&&eg.call(t.properties,s)){const o=Gz(e,s,t.properties[s]);if(o){const[i,a]=o;e.tableCellAlignToStyle&&i==="align"&&typeof a=="string"&&Lz.has(t.tagName)?r=a:n[i]=a}}if(r){const o=n.style||(n.style={});o[e.stylePropertyNameCase==="css"?"text-align":"textAlign"]=r}return n}function qz(e,t){const n={};for(const r of t.attributes)if(r.type==="mdxJsxExpressionAttribute")if(r.data&&r.data.estree&&e.evaluater){const o=r.data.estree.body[0];o.type;const i=o.expression;i.type;const a=i.properties[0];a.type,Object.assign(n,e.evaluater.evaluateExpression(a.argument))}else ca(e,t.position);else{const s=r.name;let o;if(r.value&&typeof r.value=="object")if(r.value.data&&r.value.data.estree&&e.evaluater){const a=r.value.data.estree.body[0];a.type,o=e.evaluater.evaluateExpression(a.expression)}else ca(e,t.position);else o=r.value===null?!0:r.value;n[s]=o}return n}function ng(e,t){const n=[];let r=-1;const s=e.passKeys?new Map:jz;for(;++r<t.children.length;){const o=t.children[r];let i;if(e.passKeys){const l=o.type==="element"?o.tagName:o.type==="mdxJsxFlowElement"||o.type==="mdxJsxTextElement"?o.name:void 0;if(l){const c=s.get(l)||0;i=l+"-"+c,s.set(l,c+1)}}const a=Fk(e,o,i);a!==void 0&&n.push(a)}return n}function Gz(e,t,n){const r=ZF(e.schema,t);if(!(n==null||typeof n=="number"&&Number.isNaN(n))){if(Array.isArray(n)&&(n=r.commaSeparated?$F(n):rz(n)),r.property==="style"){let s=typeof n=="object"?n:Yz(e,String(n));return e.stylePropertyNameCase==="css"&&(s=Xz(s)),["style",s]}return[e.elementAttributeNameCase==="react"&&r.space?XF[r.property]||r.property:r.attribute,n]}}function Yz(e,t){try{return Pz(t,{reactCompat:!0})}catch(n){if(e.ignoreInvalidStyle)return{};const r=n,s=new vt("Cannot parse `style` attribute",{ancestors:e.ancestors,cause:r,ruleId:"style",source:"hast-util-to-jsx-runtime"});throw s.file=e.filePath||void 0,s.url=Dk+"#cannot-parse-style-attribute",s}}function Bk(e,t,n){let r;if(!n)r={type:"Literal",value:t};else if(t.includes(".")){const s=t.split(".");let o=-1,i;for(;++o<s.length;){const a=gx(s[o])?{type:"Identifier",name:s[o]}:{type:"Literal",value:s[o]};i=i?{type:"MemberExpression",object:i,property:a,computed:!!(o&&a.type==="Literal"),optional:!1}:a}r=i}else r=gx(t)&&!/^[a-z]/.test(t)?{type:"Identifier",name:t}:{type:"Literal",value:t};if(r.type==="Literal"){const s=r.value;return eg.call(e.components,s)?e.components[s]:s}if(e.evaluater)return e.evaluater.evaluateExpression(r);ca(e)}function ca(e,t){const n=new vt("Cannot handle MDX estrees without `createEvaluater`",{ancestors:e.ancestors,place:t,ruleId:"mdx-estree",source:"hast-util-to-jsx-runtime"});throw n.file=e.filePath||void 0,n.url=Dk+"#cannot-handle-mdx-estrees-without-createevaluater",n}function Xz(e){const t={};let n;for(n in e)eg.call(e,n)&&(t[Qz(n)]=e[n]);return t}function Qz(e){let t=e.replace(Mz,Jz);return t.slice(0,3)==="ms-"&&(t="-"+t),t}function Jz(e){return"-"+e.toLowerCase()}const jd={action:["form"],cite:["blockquote","del","ins","q"],data:["object"],formAction:["button","input"],href:["a","area","base","link"],icon:["menuitem"],itemId:null,manifest:["html"],ping:["a","area"],poster:["video"],src:["audio","embed","iframe","img","input","script","source","track","video"]},Zz={};function eB(e,t){const n=Zz,r=typeof n.includeImageAlt=="boolean"?n.includeImageAlt:!0,s=typeof n.includeHtml=="boolean"?n.includeHtml:!0;return $k(e,r,s)}function $k(e,t,n){if(tB(e)){if("value"in e)return e.type==="html"&&!n?"":e.value;if(t&&"alt"in e&&e.alt)return e.alt;if("children"in e)return Tx(e.children,t,n)}return Array.isArray(e)?Tx(e,t,n):""}function Tx(e,t,n){const r=[];let s=-1;for(;++s<e.length;)r[s]=$k(e[s],t,n);return r.join("")}function tB(e){return!!(e&&typeof e=="object")}const Rx=document.createElement("i");function rg(e){const t="&"+e+";";Rx.innerHTML=t;const n=Rx.textContent;return n.charCodeAt(n.length-1)===59&&e!=="semi"||n===t?!1:n}function Xn(e,t,n,r){const s=e.length;let o=0,i;if(t<0?t=-t>s?0:s+t:t=t>s?s:t,n=n>0?n:0,r.length<1e4)i=Array.from(r),i.unshift(t,n),e.splice(...i);else for(n&&e.splice(t,n);o<r.length;)i=r.slice(o,o+1e4),i.unshift(t,0),e.splice(...i),o+=1e4,t+=1e4}function on(e,t){return e.length>0?(Xn(e,e.length,0,t),e):t}const Nx={}.hasOwnProperty;function nB(e){const t={};let n=-1;for(;++n<e.length;)rB(t,e[n]);return t}function rB(e,t){let n;for(n in t){const s=(Nx.call(e,n)?e[n]:void 0)||(e[n]={}),o=t[n];let i;if(o)for(i in o){Nx.call(s,i)||(s[i]=[]);const a=o[i];sB(s[i],Array.isArray(a)?a:a?[a]:[])}}}function sB(e,t){let n=-1;const r=[];for(;++n<t.length;)(t[n].add==="after"?e:r).push(t[n]);Xn(e,0,0,r)}function Uk(e,t){const n=Number.parseInt(e,t);return n<9||n===11||n>13&&n<32||n>126&&n<160||n>55295&&n<57344||n>64975&&n<65008||(n&65535)===65535||(n&65535)===65534||n>1114111?"":String.fromCodePoint(n)}function bo(e){return e.replace(/[\t\n\r ]+/g," ").replace(/^ | $/g,"").toLowerCase().toUpperCase()}const Hn=ns(/[A-Za-z]/),qt=ns(/[\dA-Za-z]/),oB=ns(/[#-'*+\--9=?A-Z^-~]/);function uh(e){return e!==null&&(e<32||e===127)}const ch=ns(/\d/),iB=ns(/[\dA-Fa-f]/),aB=ns(/[!-/:-@[-`{-~]/);function re(e){return e!==null&&e<-2}function Dt(e){return e!==null&&(e<0||e===32)}function Ee(e){return e===-2||e===-1||e===32}const lB=ns(new RegExp("\\p{P}|\\p{S}","u")),uB=ns(/\s/);function ns(e){return t;function t(n){return n!==null&&n>-1&&e.test(String.fromCharCode(n))}}function Ko(e){const t=[];let n=-1,r=0,s=0;for(;++n<e.length;){const o=e.charCodeAt(n);let i="";if(o===37&&qt(e.charCodeAt(n+1))&&qt(e.charCodeAt(n+2)))s=2;else if(o<128)/[!#$&-;=?-Z_a-z~]/.test(String.fromCharCode(o))||(i=String.fromCharCode(o));else if(o>55295&&o<57344){const a=e.charCodeAt(n+1);o<56320&&a>56319&&a<57344?(i=String.fromCharCode(o,a),s=1):i=""}else i=String.fromCharCode(o);i&&(t.push(e.slice(r,n),encodeURIComponent(i)),r=n+s+1,i=""),s&&(n+=s,s=0)}return t.join("")+e.slice(r)}function Me(e,t,n,r){const s=r?r-1:Number.POSITIVE_INFINITY;let o=0;return i;function i(l){return Ee(l)?(e.enter(n),a(l)):t(l)}function a(l){return Ee(l)&&o++<s?(e.consume(l),a):(e.exit(n),t(l))}}const cB={tokenize:dB};function dB(e){const t=e.attempt(this.parser.constructs.contentInitial,r,s);let n;return t;function r(a){if(a===null){e.consume(a);return}return e.enter("lineEnding"),e.consume(a),e.exit("lineEnding"),Me(e,t,"linePrefix")}function s(a){return e.enter("paragraph"),o(a)}function o(a){const l=e.enter("chunkText",{contentType:"text",previous:n});return n&&(n.next=l),n=l,i(a)}function i(a){if(a===null){e.exit("chunkText"),e.exit("paragraph"),e.consume(a);return}return re(a)?(e.consume(a),e.exit("chunkText"),o):(e.consume(a),i)}}const fB={tokenize:hB},Ix={tokenize:pB};function hB(e){const t=this,n=[];let r=0,s,o,i;return a;function a(w){if(r<n.length){const C=n[r];return t.containerState=C[1],e.attempt(C[0].continuation,l,c)(w)}return c(w)}function l(w){if(r++,t.containerState._closeFlow){t.containerState._closeFlow=void 0,s&&x();const C=t.events.length;let R=C,S;for(;R--;)if(t.events[R][0]==="exit"&&t.events[R][1].type==="chunkFlow"){S=t.events[R][1].end;break}g(r);let T=C;for(;T<t.events.length;)t.events[T][1].end={...S},T++;return Xn(t.events,R+1,0,t.events.slice(C)),t.events.length=T,c(w)}return a(w)}function c(w){if(r===n.length){if(!s)return p(w);if(s.currentConstruct&&s.currentConstruct.concrete)return v(w);t.interrupt=!!(s.currentConstruct&&!s._gfmTableDynamicInterruptHack)}return t.containerState={},e.check(Ix,d,h)(w)}function d(w){return s&&x(),g(r),p(w)}function h(w){return t.parser.lazy[t.now().line]=r!==n.length,i=t.now().offset,v(w)}function p(w){return t.containerState={},e.attempt(Ix,m,v)(w)}function m(w){return r++,n.push([t.currentConstruct,t.containerState]),p(w)}function v(w){if(w===null){s&&x(),g(0),e.consume(w);return}return s=s||t.parser.flow(t.now()),e.enter("chunkFlow",{_tokenizer:s,contentType:"flow",previous:o}),y(w)}function y(w){if(w===null){b(e.exit("chunkFlow"),!0),g(0),e.consume(w);return}return re(w)?(e.consume(w),b(e.exit("chunkFlow")),r=0,t.interrupt=void 0,a):(e.consume(w),y)}function b(w,C){const R=t.sliceStream(w);if(C&&R.push(null),w.previous=o,o&&(o.next=w),o=w,s.defineSkip(w.start),s.write(R),t.parser.lazy[w.start.line]){let S=s.events.length;for(;S--;)if(s.events[S][1].start.offset<i&&(!s.events[S][1].end||s.events[S][1].end.offset>i))return;const T=t.events.length;let N=T,M,A;for(;N--;)if(t.events[N][0]==="exit"&&t.events[N][1].type==="chunkFlow"){if(M){A=t.events[N][1].end;break}M=!0}for(g(r),S=T;S<t.events.length;)t.events[S][1].end={...A},S++;Xn(t.events,N+1,0,t.events.slice(T)),t.events.length=S}}function g(w){let C=n.length;for(;C-- >w;){const R=n[C];t.containerState=R[1],R[0].exit.call(t,e)}n.length=w}function x(){s.write([null]),o=void 0,s=void 0,t.containerState._closeFlow=void 0}}function pB(e,t,n){return Me(e,e.attempt(this.parser.constructs.document,t,n),"linePrefix",this.parser.constructs.disable.null.includes("codeIndented")?void 0:4)}function Px(e){if(e===null||Dt(e)||uB(e))return 1;if(lB(e))return 2}function sg(e,t,n){const r=[];let s=-1;for(;++s<e.length;){const o=e[s].resolveAll;o&&!r.includes(o)&&(t=o(t,n),r.push(o))}return t}const dh={name:"attention",resolveAll:mB,tokenize:gB};function mB(e,t){let n=-1,r,s,o,i,a,l,c,d;for(;++n<e.length;)if(e[n][0]==="enter"&&e[n][1].type==="attentionSequence"&&e[n][1]._close){for(r=n;r--;)if(e[r][0]==="exit"&&e[r][1].type==="attentionSequence"&&e[r][1]._open&&t.sliceSerialize(e[r][1]).charCodeAt(0)===t.sliceSerialize(e[n][1]).charCodeAt(0)){if((e[r][1]._close||e[n][1]._open)&&(e[n][1].end.offset-e[n][1].start.offset)%3&&!((e[r][1].end.offset-e[r][1].start.offset+e[n][1].end.offset-e[n][1].start.offset)%3))continue;l=e[r][1].end.offset-e[r][1].start.offset>1&&e[n][1].end.offset-e[n][1].start.offset>1?2:1;const h={...e[r][1].end},p={...e[n][1].start};Ax(h,-l),Ax(p,l),i={type:l>1?"strongSequence":"emphasisSequence",start:h,end:{...e[r][1].end}},a={type:l>1?"strongSequence":"emphasisSequence",start:{...e[n][1].start},end:p},o={type:l>1?"strongText":"emphasisText",start:{...e[r][1].end},end:{...e[n][1].start}},s={type:l>1?"strong":"emphasis",start:{...i.start},end:{...a.end}},e[r][1].end={...i.start},e[n][1].start={...a.end},c=[],e[r][1].end.offset-e[r][1].start.offset&&(c=on(c,[["enter",e[r][1],t],["exit",e[r][1],t]])),c=on(c,[["enter",s,t],["enter",i,t],["exit",i,t],["enter",o,t]]),c=on(c,sg(t.parser.constructs.insideSpan.null,e.slice(r+1,n),t)),c=on(c,[["exit",o,t],["enter",a,t],["exit",a,t],["exit",s,t]]),e[n][1].end.offset-e[n][1].start.offset?(d=2,c=on(c,[["enter",e[n][1],t],["exit",e[n][1],t]])):d=0,Xn(e,r-1,n-r+3,c),n=r+c.length-d-2;break}}for(n=-1;++n<e.length;)e[n][1].type==="attentionSequence"&&(e[n][1].type="data");return e}function gB(e,t){const n=this.parser.constructs.attentionMarkers.null,r=this.previous,s=Px(r);let o;return i;function i(l){return o=l,e.enter("attentionSequence"),a(l)}function a(l){if(l===o)return e.consume(l),a;const c=e.exit("attentionSequence"),d=Px(l),h=!d||d===2&&s||n.includes(l),p=!s||s===2&&d||n.includes(r);return c._open=!!(o===42?h:h&&(s||!p)),c._close=!!(o===42?p:p&&(d||!h)),t(l)}}function Ax(e,t){e.column+=t,e.offset+=t,e._bufferIndex+=t}const yB={name:"autolink",tokenize:vB};function vB(e,t,n){let r=0;return s;function s(m){return e.enter("autolink"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.enter("autolinkProtocol"),o}function o(m){return Hn(m)?(e.consume(m),i):m===64?n(m):c(m)}function i(m){return m===43||m===45||m===46||qt(m)?(r=1,a(m)):c(m)}function a(m){return m===58?(e.consume(m),r=0,l):(m===43||m===45||m===46||qt(m))&&r++<32?(e.consume(m),a):(r=0,c(m))}function l(m){return m===62?(e.exit("autolinkProtocol"),e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):m===null||m===32||m===60||uh(m)?n(m):(e.consume(m),l)}function c(m){return m===64?(e.consume(m),d):oB(m)?(e.consume(m),c):n(m)}function d(m){return qt(m)?h(m):n(m)}function h(m){return m===46?(e.consume(m),r=0,d):m===62?(e.exit("autolinkProtocol").type="autolinkEmail",e.enter("autolinkMarker"),e.consume(m),e.exit("autolinkMarker"),e.exit("autolink"),t):p(m)}function p(m){if((m===45||qt(m))&&r++<63){const v=m===45?p:h;return e.consume(m),v}return n(m)}}const vc={partial:!0,tokenize:xB};function xB(e,t,n){return r;function r(o){return Ee(o)?Me(e,s,"linePrefix")(o):s(o)}function s(o){return o===null||re(o)?t(o):n(o)}}const Hk={continuation:{tokenize:bB},exit:SB,name:"blockQuote",tokenize:wB};function wB(e,t,n){const r=this;return s;function s(i){if(i===62){const a=r.containerState;return a.open||(e.enter("blockQuote",{_container:!0}),a.open=!0),e.enter("blockQuotePrefix"),e.enter("blockQuoteMarker"),e.consume(i),e.exit("blockQuoteMarker"),o}return n(i)}function o(i){return Ee(i)?(e.enter("blockQuotePrefixWhitespace"),e.consume(i),e.exit("blockQuotePrefixWhitespace"),e.exit("blockQuotePrefix"),t):(e.exit("blockQuotePrefix"),t(i))}}function bB(e,t,n){const r=this;return s;function s(i){return Ee(i)?Me(e,o,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(i):o(i)}function o(i){return e.attempt(Hk,t,n)(i)}}function SB(e){e.exit("blockQuote")}const Vk={name:"characterEscape",tokenize:_B};function _B(e,t,n){return r;function r(o){return e.enter("characterEscape"),e.enter("escapeMarker"),e.consume(o),e.exit("escapeMarker"),s}function s(o){return aB(o)?(e.enter("characterEscapeValue"),e.consume(o),e.exit("characterEscapeValue"),e.exit("characterEscape"),t):n(o)}}const Wk={name:"characterReference",tokenize:CB};function CB(e,t,n){const r=this;let s=0,o,i;return a;function a(h){return e.enter("characterReference"),e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),l}function l(h){return h===35?(e.enter("characterReferenceMarkerNumeric"),e.consume(h),e.exit("characterReferenceMarkerNumeric"),c):(e.enter("characterReferenceValue"),o=31,i=qt,d(h))}function c(h){return h===88||h===120?(e.enter("characterReferenceMarkerHexadecimal"),e.consume(h),e.exit("characterReferenceMarkerHexadecimal"),e.enter("characterReferenceValue"),o=6,i=iB,d):(e.enter("characterReferenceValue"),o=7,i=ch,d(h))}function d(h){if(h===59&&s){const p=e.exit("characterReferenceValue");return i===qt&&!rg(r.sliceSerialize(p))?n(h):(e.enter("characterReferenceMarker"),e.consume(h),e.exit("characterReferenceMarker"),e.exit("characterReference"),t)}return i(h)&&s++<o?(e.consume(h),d):n(h)}}const jx={partial:!0,tokenize:EB},Mx={concrete:!0,name:"codeFenced",tokenize:kB};function kB(e,t,n){const r=this,s={partial:!0,tokenize:R};let o=0,i=0,a;return l;function l(S){return c(S)}function c(S){const T=r.events[r.events.length-1];return o=T&&T[1].type==="linePrefix"?T[2].sliceSerialize(T[1],!0).length:0,a=S,e.enter("codeFenced"),e.enter("codeFencedFence"),e.enter("codeFencedFenceSequence"),d(S)}function d(S){return S===a?(i++,e.consume(S),d):i<3?n(S):(e.exit("codeFencedFenceSequence"),Ee(S)?Me(e,h,"whitespace")(S):h(S))}function h(S){return S===null||re(S)?(e.exit("codeFencedFence"),r.interrupt?t(S):e.check(jx,y,C)(S)):(e.enter("codeFencedFenceInfo"),e.enter("chunkString",{contentType:"string"}),p(S))}function p(S){return S===null||re(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),h(S)):Ee(S)?(e.exit("chunkString"),e.exit("codeFencedFenceInfo"),Me(e,m,"whitespace")(S)):S===96&&S===a?n(S):(e.consume(S),p)}function m(S){return S===null||re(S)?h(S):(e.enter("codeFencedFenceMeta"),e.enter("chunkString",{contentType:"string"}),v(S))}function v(S){return S===null||re(S)?(e.exit("chunkString"),e.exit("codeFencedFenceMeta"),h(S)):S===96&&S===a?n(S):(e.consume(S),v)}function y(S){return e.attempt(s,C,b)(S)}function b(S){return e.enter("lineEnding"),e.consume(S),e.exit("lineEnding"),g}function g(S){return o>0&&Ee(S)?Me(e,x,"linePrefix",o+1)(S):x(S)}function x(S){return S===null||re(S)?e.check(jx,y,C)(S):(e.enter("codeFlowValue"),w(S))}function w(S){return S===null||re(S)?(e.exit("codeFlowValue"),x(S)):(e.consume(S),w)}function C(S){return e.exit("codeFenced"),t(S)}function R(S,T,N){let M=0;return A;function A(W){return S.enter("lineEnding"),S.consume(W),S.exit("lineEnding"),L}function L(W){return S.enter("codeFencedFence"),Ee(W)?Me(S,I,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(W):I(W)}function I(W){return W===a?(S.enter("codeFencedFenceSequence"),V(W)):N(W)}function V(W){return W===a?(M++,S.consume(W),V):M>=i?(S.exit("codeFencedFenceSequence"),Ee(W)?Me(S,$,"whitespace")(W):$(W)):N(W)}function $(W){return W===null||re(W)?(S.exit("codeFencedFence"),T(W)):N(W)}}}function EB(e,t,n){const r=this;return s;function s(i){return i===null?n(i):(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}const Md={name:"codeIndented",tokenize:RB},TB={partial:!0,tokenize:NB};function RB(e,t,n){const r=this;return s;function s(c){return e.enter("codeIndented"),Me(e,o,"linePrefix",5)(c)}function o(c){const d=r.events[r.events.length-1];return d&&d[1].type==="linePrefix"&&d[2].sliceSerialize(d[1],!0).length>=4?i(c):n(c)}function i(c){return c===null?l(c):re(c)?e.attempt(TB,i,l)(c):(e.enter("codeFlowValue"),a(c))}function a(c){return c===null||re(c)?(e.exit("codeFlowValue"),i(c)):(e.consume(c),a)}function l(c){return e.exit("codeIndented"),t(c)}}function NB(e,t,n){const r=this;return s;function s(i){return r.parser.lazy[r.now().line]?n(i):re(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),s):Me(e,o,"linePrefix",5)(i)}function o(i){const a=r.events[r.events.length-1];return a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):re(i)?s(i):n(i)}}const IB={name:"codeText",previous:AB,resolve:PB,tokenize:jB};function PB(e){let t=e.length-4,n=3,r,s;if((e[n][1].type==="lineEnding"||e[n][1].type==="space")&&(e[t][1].type==="lineEnding"||e[t][1].type==="space")){for(r=n;++r<t;)if(e[r][1].type==="codeTextData"){e[n][1].type="codeTextPadding",e[t][1].type="codeTextPadding",n+=2,t-=2;break}}for(r=n-1,t++;++r<=t;)s===void 0?r!==t&&e[r][1].type!=="lineEnding"&&(s=r):(r===t||e[r][1].type==="lineEnding")&&(e[s][1].type="codeTextData",r!==s+2&&(e[s][1].end=e[r-1][1].end,e.splice(s+2,r-s-2),t-=r-s-2,r=s+2),s=void 0);return e}function AB(e){return e!==96||this.events[this.events.length-1][1].type==="characterEscape"}function jB(e,t,n){let r=0,s,o;return i;function i(h){return e.enter("codeText"),e.enter("codeTextSequence"),a(h)}function a(h){return h===96?(e.consume(h),r++,a):(e.exit("codeTextSequence"),l(h))}function l(h){return h===null?n(h):h===32?(e.enter("space"),e.consume(h),e.exit("space"),l):h===96?(o=e.enter("codeTextSequence"),s=0,d(h)):re(h)?(e.enter("lineEnding"),e.consume(h),e.exit("lineEnding"),l):(e.enter("codeTextData"),c(h))}function c(h){return h===null||h===32||h===96||re(h)?(e.exit("codeTextData"),l(h)):(e.consume(h),c)}function d(h){return h===96?(e.consume(h),s++,d):s===r?(e.exit("codeTextSequence"),e.exit("codeText"),t(h)):(o.type="codeTextData",c(h))}}class MB{constructor(t){this.left=t?[...t]:[],this.right=[]}get(t){if(t<0||t>=this.left.length+this.right.length)throw new RangeError("Cannot access index `"+t+"` in a splice buffer of size `"+(this.left.length+this.right.length)+"`");return t<this.left.length?this.left[t]:this.right[this.right.length-t+this.left.length-1]}get length(){return this.left.length+this.right.length}shift(){return this.setCursor(0),this.right.pop()}slice(t,n){const r=n??Number.POSITIVE_INFINITY;return r<this.left.length?this.left.slice(t,r):t>this.left.length?this.right.slice(this.right.length-r+this.left.length,this.right.length-t+this.left.length).reverse():this.left.slice(t).concat(this.right.slice(this.right.length-r+this.left.length).reverse())}splice(t,n,r){const s=n||0;this.setCursor(Math.trunc(t));const o=this.right.splice(this.right.length-s,Number.POSITIVE_INFINITY);return r&&hi(this.left,r),o.reverse()}pop(){return this.setCursor(Number.POSITIVE_INFINITY),this.left.pop()}push(t){this.setCursor(Number.POSITIVE_INFINITY),this.left.push(t)}pushMany(t){this.setCursor(Number.POSITIVE_INFINITY),hi(this.left,t)}unshift(t){this.setCursor(0),this.right.push(t)}unshiftMany(t){this.setCursor(0),hi(this.right,t.reverse())}setCursor(t){if(!(t===this.left.length||t>this.left.length&&this.right.length===0||t<0&&this.left.length===0))if(t<this.left.length){const n=this.left.splice(t,Number.POSITIVE_INFINITY);hi(this.right,n.reverse())}else{const n=this.right.splice(this.left.length+this.right.length-t,Number.POSITIVE_INFINITY);hi(this.left,n.reverse())}}}function hi(e,t){let n=0;if(t.length<1e4)e.push(...t);else for(;n<t.length;)e.push(...t.slice(n,n+1e4)),n+=1e4}function Kk(e){const t={};let n=-1,r,s,o,i,a,l,c;const d=new MB(e);for(;++n<d.length;){for(;n in t;)n=t[n];if(r=d.get(n),n&&r[1].type==="chunkFlow"&&d.get(n-1)[1].type==="listItemPrefix"&&(l=r[1]._tokenizer.events,o=0,o<l.length&&l[o][1].type==="lineEndingBlank"&&(o+=2),o<l.length&&l[o][1].type==="content"))for(;++o<l.length&&l[o][1].type!=="content";)l[o][1].type==="chunkText"&&(l[o][1]._isInFirstContentOfListItem=!0,o++);if(r[0]==="enter")r[1].contentType&&(Object.assign(t,OB(d,n)),n=t[n],c=!0);else if(r[1]._container){for(o=n,s=void 0;o--;)if(i=d.get(o),i[1].type==="lineEnding"||i[1].type==="lineEndingBlank")i[0]==="enter"&&(s&&(d.get(s)[1].type="lineEndingBlank"),i[1].type="lineEnding",s=o);else if(!(i[1].type==="linePrefix"||i[1].type==="listItemIndent"))break;s&&(r[1].end={...d.get(s)[1].start},a=d.slice(s,n),a.unshift(r),d.splice(s,n-s+1,a))}}return Xn(e,0,Number.POSITIVE_INFINITY,d.slice(0)),!c}function OB(e,t){const n=e.get(t)[1],r=e.get(t)[2];let s=t-1;const o=[];let i=n._tokenizer;i||(i=r.parser[n.contentType](n.start),n._contentTypeTextTrailing&&(i._contentTypeTextTrailing=!0));const a=i.events,l=[],c={};let d,h,p=-1,m=n,v=0,y=0;const b=[y];for(;m;){for(;e.get(++s)[1]!==m;);o.push(s),m._tokenizer||(d=r.sliceStream(m),m.next||d.push(null),h&&i.defineSkip(m.start),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=!0),i.write(d),m._isInFirstContentOfListItem&&(i._gfmTasklistFirstContentOfListItem=void 0)),h=m,m=m.next}for(m=n;++p<a.length;)a[p][0]==="exit"&&a[p-1][0]==="enter"&&a[p][1].type===a[p-1][1].type&&a[p][1].start.line!==a[p][1].end.line&&(y=p+1,b.push(y),m._tokenizer=void 0,m.previous=void 0,m=m.next);for(i.events=[],m?(m._tokenizer=void 0,m.previous=void 0):b.pop(),p=b.length;p--;){const g=a.slice(b[p],b[p+1]),x=o.pop();l.push([x,x+g.length-1]),e.splice(x,2,g)}for(l.reverse(),p=-1;++p<l.length;)c[v+l[p][0]]=v+l[p][1],v+=l[p][1]-l[p][0]-1;return c}const LB={resolve:FB,tokenize:zB},DB={partial:!0,tokenize:BB};function FB(e){return Kk(e),e}function zB(e,t){let n;return r;function r(a){return e.enter("content"),n=e.enter("chunkContent",{contentType:"content"}),s(a)}function s(a){return a===null?o(a):re(a)?e.check(DB,i,o)(a):(e.consume(a),s)}function o(a){return e.exit("chunkContent"),e.exit("content"),t(a)}function i(a){return e.consume(a),e.exit("chunkContent"),n.next=e.enter("chunkContent",{contentType:"content",previous:n}),n=n.next,s}}function BB(e,t,n){const r=this;return s;function s(i){return e.exit("chunkContent"),e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),Me(e,o,"linePrefix")}function o(i){if(i===null||re(i))return n(i);const a=r.events[r.events.length-1];return!r.parser.constructs.disable.null.includes("codeIndented")&&a&&a[1].type==="linePrefix"&&a[2].sliceSerialize(a[1],!0).length>=4?t(i):e.interrupt(r.parser.constructs.flow,n,t)(i)}}function qk(e,t,n,r,s,o,i,a,l){const c=l||Number.POSITIVE_INFINITY;let d=0;return h;function h(g){return g===60?(e.enter(r),e.enter(s),e.enter(o),e.consume(g),e.exit(o),p):g===null||g===32||g===41||uh(g)?n(g):(e.enter(r),e.enter(i),e.enter(a),e.enter("chunkString",{contentType:"string"}),y(g))}function p(g){return g===62?(e.enter(o),e.consume(g),e.exit(o),e.exit(s),e.exit(r),t):(e.enter(a),e.enter("chunkString",{contentType:"string"}),m(g))}function m(g){return g===62?(e.exit("chunkString"),e.exit(a),p(g)):g===null||g===60||re(g)?n(g):(e.consume(g),g===92?v:m)}function v(g){return g===60||g===62||g===92?(e.consume(g),m):m(g)}function y(g){return!d&&(g===null||g===41||Dt(g))?(e.exit("chunkString"),e.exit(a),e.exit(i),e.exit(r),t(g)):d<c&&g===40?(e.consume(g),d++,y):g===41?(e.consume(g),d--,y):g===null||g===32||g===40||uh(g)?n(g):(e.consume(g),g===92?b:y)}function b(g){return g===40||g===41||g===92?(e.consume(g),y):y(g)}}function Gk(e,t,n,r,s,o){const i=this;let a=0,l;return c;function c(m){return e.enter(r),e.enter(s),e.consume(m),e.exit(s),e.enter(o),d}function d(m){return a>999||m===null||m===91||m===93&&!l||m===94&&!a&&"_hiddenFootnoteSupport"in i.parser.constructs?n(m):m===93?(e.exit(o),e.enter(s),e.consume(m),e.exit(s),e.exit(r),t):re(m)?(e.enter("lineEnding"),e.consume(m),e.exit("lineEnding"),d):(e.enter("chunkString",{contentType:"string"}),h(m))}function h(m){return m===null||m===91||m===93||re(m)||a++>999?(e.exit("chunkString"),d(m)):(e.consume(m),l||(l=!Ee(m)),m===92?p:h)}function p(m){return m===91||m===92||m===93?(e.consume(m),a++,h):h(m)}}function Yk(e,t,n,r,s,o){let i;return a;function a(p){return p===34||p===39||p===40?(e.enter(r),e.enter(s),e.consume(p),e.exit(s),i=p===40?41:p,l):n(p)}function l(p){return p===i?(e.enter(s),e.consume(p),e.exit(s),e.exit(r),t):(e.enter(o),c(p))}function c(p){return p===i?(e.exit(o),l(i)):p===null?n(p):re(p)?(e.enter("lineEnding"),e.consume(p),e.exit("lineEnding"),Me(e,c,"linePrefix")):(e.enter("chunkString",{contentType:"string"}),d(p))}function d(p){return p===i||p===null||re(p)?(e.exit("chunkString"),c(p)):(e.consume(p),p===92?h:d)}function h(p){return p===i||p===92?(e.consume(p),d):d(p)}}function Di(e,t){let n;return r;function r(s){return re(s)?(e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),n=!0,r):Ee(s)?Me(e,r,n?"linePrefix":"lineSuffix")(s):t(s)}}const $B={name:"definition",tokenize:HB},UB={partial:!0,tokenize:VB};function HB(e,t,n){const r=this;let s;return o;function o(m){return e.enter("definition"),i(m)}function i(m){return Gk.call(r,e,a,n,"definitionLabel","definitionLabelMarker","definitionLabelString")(m)}function a(m){return s=bo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)),m===58?(e.enter("definitionMarker"),e.consume(m),e.exit("definitionMarker"),l):n(m)}function l(m){return Dt(m)?Di(e,c)(m):c(m)}function c(m){return qk(e,d,n,"definitionDestination","definitionDestinationLiteral","definitionDestinationLiteralMarker","definitionDestinationRaw","definitionDestinationString")(m)}function d(m){return e.attempt(UB,h,h)(m)}function h(m){return Ee(m)?Me(e,p,"whitespace")(m):p(m)}function p(m){return m===null||re(m)?(e.exit("definition"),r.parser.defined.push(s),t(m)):n(m)}}function VB(e,t,n){return r;function r(a){return Dt(a)?Di(e,s)(a):n(a)}function s(a){return Yk(e,o,n,"definitionTitle","definitionTitleMarker","definitionTitleString")(a)}function o(a){return Ee(a)?Me(e,i,"whitespace")(a):i(a)}function i(a){return a===null||re(a)?t(a):n(a)}}const WB={name:"hardBreakEscape",tokenize:KB};function KB(e,t,n){return r;function r(o){return e.enter("hardBreakEscape"),e.consume(o),s}function s(o){return re(o)?(e.exit("hardBreakEscape"),t(o)):n(o)}}const qB={name:"headingAtx",resolve:GB,tokenize:YB};function GB(e,t){let n=e.length-2,r=3,s,o;return e[r][1].type==="whitespace"&&(r+=2),n-2>r&&e[n][1].type==="whitespace"&&(n-=2),e[n][1].type==="atxHeadingSequence"&&(r===n-1||n-4>r&&e[n-2][1].type==="whitespace")&&(n-=r+1===n?2:4),n>r&&(s={type:"atxHeadingText",start:e[r][1].start,end:e[n][1].end},o={type:"chunkText",start:e[r][1].start,end:e[n][1].end,contentType:"text"},Xn(e,r,n-r+1,[["enter",s,t],["enter",o,t],["exit",o,t],["exit",s,t]])),e}function YB(e,t,n){let r=0;return s;function s(d){return e.enter("atxHeading"),o(d)}function o(d){return e.enter("atxHeadingSequence"),i(d)}function i(d){return d===35&&r++<6?(e.consume(d),i):d===null||Dt(d)?(e.exit("atxHeadingSequence"),a(d)):n(d)}function a(d){return d===35?(e.enter("atxHeadingSequence"),l(d)):d===null||re(d)?(e.exit("atxHeading"),t(d)):Ee(d)?Me(e,a,"whitespace")(d):(e.enter("atxHeadingText"),c(d))}function l(d){return d===35?(e.consume(d),l):(e.exit("atxHeadingSequence"),a(d))}function c(d){return d===null||d===35||Dt(d)?(e.exit("atxHeadingText"),a(d)):(e.consume(d),c)}}const XB=["address","article","aside","base","basefont","blockquote","body","caption","center","col","colgroup","dd","details","dialog","dir","div","dl","dt","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hr","html","iframe","legend","li","link","main","menu","menuitem","nav","noframes","ol","optgroup","option","p","param","search","section","summary","table","tbody","td","tfoot","th","thead","title","tr","track","ul"],Ox=["pre","script","style","textarea"],QB={concrete:!0,name:"htmlFlow",resolveTo:e3,tokenize:t3},JB={partial:!0,tokenize:r3},ZB={partial:!0,tokenize:n3};function e3(e){let t=e.length;for(;t--&&!(e[t][0]==="enter"&&e[t][1].type==="htmlFlow"););return t>1&&e[t-2][1].type==="linePrefix"&&(e[t][1].start=e[t-2][1].start,e[t+1][1].start=e[t-2][1].start,e.splice(t-2,2)),e}function t3(e,t,n){const r=this;let s,o,i,a,l;return c;function c(E){return d(E)}function d(E){return e.enter("htmlFlow"),e.enter("htmlFlowData"),e.consume(E),h}function h(E){return E===33?(e.consume(E),p):E===47?(e.consume(E),o=!0,y):E===63?(e.consume(E),s=3,r.interrupt?t:_):Hn(E)?(e.consume(E),i=String.fromCharCode(E),b):n(E)}function p(E){return E===45?(e.consume(E),s=2,m):E===91?(e.consume(E),s=5,a=0,v):Hn(E)?(e.consume(E),s=4,r.interrupt?t:_):n(E)}function m(E){return E===45?(e.consume(E),r.interrupt?t:_):n(E)}function v(E){const Te="CDATA[";return E===Te.charCodeAt(a++)?(e.consume(E),a===Te.length?r.interrupt?t:I:v):n(E)}function y(E){return Hn(E)?(e.consume(E),i=String.fromCharCode(E),b):n(E)}function b(E){if(E===null||E===47||E===62||Dt(E)){const Te=E===47,Ke=i.toLowerCase();return!Te&&!o&&Ox.includes(Ke)?(s=1,r.interrupt?t(E):I(E)):XB.includes(i.toLowerCase())?(s=6,Te?(e.consume(E),g):r.interrupt?t(E):I(E)):(s=7,r.interrupt&&!r.parser.lazy[r.now().line]?n(E):o?x(E):w(E))}return E===45||qt(E)?(e.consume(E),i+=String.fromCharCode(E),b):n(E)}function g(E){return E===62?(e.consume(E),r.interrupt?t:I):n(E)}function x(E){return Ee(E)?(e.consume(E),x):A(E)}function w(E){return E===47?(e.consume(E),A):E===58||E===95||Hn(E)?(e.consume(E),C):Ee(E)?(e.consume(E),w):A(E)}function C(E){return E===45||E===46||E===58||E===95||qt(E)?(e.consume(E),C):R(E)}function R(E){return E===61?(e.consume(E),S):Ee(E)?(e.consume(E),R):w(E)}function S(E){return E===null||E===60||E===61||E===62||E===96?n(E):E===34||E===39?(e.consume(E),l=E,T):Ee(E)?(e.consume(E),S):N(E)}function T(E){return E===l?(e.consume(E),l=null,M):E===null||re(E)?n(E):(e.consume(E),T)}function N(E){return E===null||E===34||E===39||E===47||E===60||E===61||E===62||E===96||Dt(E)?R(E):(e.consume(E),N)}function M(E){return E===47||E===62||Ee(E)?w(E):n(E)}function A(E){return E===62?(e.consume(E),L):n(E)}function L(E){return E===null||re(E)?I(E):Ee(E)?(e.consume(E),L):n(E)}function I(E){return E===45&&s===2?(e.consume(E),H):E===60&&s===1?(e.consume(E),G):E===62&&s===4?(e.consume(E),te):E===63&&s===3?(e.consume(E),_):E===93&&s===5?(e.consume(E),B):re(E)&&(s===6||s===7)?(e.exit("htmlFlowData"),e.check(JB,ce,V)(E)):E===null||re(E)?(e.exit("htmlFlowData"),V(E)):(e.consume(E),I)}function V(E){return e.check(ZB,$,ce)(E)}function $(E){return e.enter("lineEnding"),e.consume(E),e.exit("lineEnding"),W}function W(E){return E===null||re(E)?V(E):(e.enter("htmlFlowData"),I(E))}function H(E){return E===45?(e.consume(E),_):I(E)}function G(E){return E===47?(e.consume(E),i="",j):I(E)}function j(E){if(E===62){const Te=i.toLowerCase();return Ox.includes(Te)?(e.consume(E),te):I(E)}return Hn(E)&&i.length<8?(e.consume(E),i+=String.fromCharCode(E),j):I(E)}function B(E){return E===93?(e.consume(E),_):I(E)}function _(E){return E===62?(e.consume(E),te):E===45&&s===2?(e.consume(E),_):I(E)}function te(E){return E===null||re(E)?(e.exit("htmlFlowData"),ce(E)):(e.consume(E),te)}function ce(E){return e.exit("htmlFlow"),t(E)}}function n3(e,t,n){const r=this;return s;function s(i){return re(i)?(e.enter("lineEnding"),e.consume(i),e.exit("lineEnding"),o):n(i)}function o(i){return r.parser.lazy[r.now().line]?n(i):t(i)}}function r3(e,t,n){return r;function r(s){return e.enter("lineEnding"),e.consume(s),e.exit("lineEnding"),e.attempt(vc,t,n)}}const s3={name:"htmlText",tokenize:o3};function o3(e,t,n){const r=this;let s,o,i;return a;function a(_){return e.enter("htmlText"),e.enter("htmlTextData"),e.consume(_),l}function l(_){return _===33?(e.consume(_),c):_===47?(e.consume(_),R):_===63?(e.consume(_),w):Hn(_)?(e.consume(_),N):n(_)}function c(_){return _===45?(e.consume(_),d):_===91?(e.consume(_),o=0,v):Hn(_)?(e.consume(_),x):n(_)}function d(_){return _===45?(e.consume(_),m):n(_)}function h(_){return _===null?n(_):_===45?(e.consume(_),p):re(_)?(i=h,G(_)):(e.consume(_),h)}function p(_){return _===45?(e.consume(_),m):h(_)}function m(_){return _===62?H(_):_===45?p(_):h(_)}function v(_){const te="CDATA[";return _===te.charCodeAt(o++)?(e.consume(_),o===te.length?y:v):n(_)}function y(_){return _===null?n(_):_===93?(e.consume(_),b):re(_)?(i=y,G(_)):(e.consume(_),y)}function b(_){return _===93?(e.consume(_),g):y(_)}function g(_){return _===62?H(_):_===93?(e.consume(_),g):y(_)}function x(_){return _===null||_===62?H(_):re(_)?(i=x,G(_)):(e.consume(_),x)}function w(_){return _===null?n(_):_===63?(e.consume(_),C):re(_)?(i=w,G(_)):(e.consume(_),w)}function C(_){return _===62?H(_):w(_)}function R(_){return Hn(_)?(e.consume(_),S):n(_)}function S(_){return _===45||qt(_)?(e.consume(_),S):T(_)}function T(_){return re(_)?(i=T,G(_)):Ee(_)?(e.consume(_),T):H(_)}function N(_){return _===45||qt(_)?(e.consume(_),N):_===47||_===62||Dt(_)?M(_):n(_)}function M(_){return _===47?(e.consume(_),H):_===58||_===95||Hn(_)?(e.consume(_),A):re(_)?(i=M,G(_)):Ee(_)?(e.consume(_),M):H(_)}function A(_){return _===45||_===46||_===58||_===95||qt(_)?(e.consume(_),A):L(_)}function L(_){return _===61?(e.consume(_),I):re(_)?(i=L,G(_)):Ee(_)?(e.consume(_),L):M(_)}function I(_){return _===null||_===60||_===61||_===62||_===96?n(_):_===34||_===39?(e.consume(_),s=_,V):re(_)?(i=I,G(_)):Ee(_)?(e.consume(_),I):(e.consume(_),$)}function V(_){return _===s?(e.consume(_),s=void 0,W):_===null?n(_):re(_)?(i=V,G(_)):(e.consume(_),V)}function $(_){return _===null||_===34||_===39||_===60||_===61||_===96?n(_):_===47||_===62||Dt(_)?M(_):(e.consume(_),$)}function W(_){return _===47||_===62||Dt(_)?M(_):n(_)}function H(_){return _===62?(e.consume(_),e.exit("htmlTextData"),e.exit("htmlText"),t):n(_)}function G(_){return e.exit("htmlTextData"),e.enter("lineEnding"),e.consume(_),e.exit("lineEnding"),j}function j(_){return Ee(_)?Me(e,B,"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(_):B(_)}function B(_){return e.enter("htmlTextData"),i(_)}}const og={name:"labelEnd",resolveAll:u3,resolveTo:c3,tokenize:d3},i3={tokenize:f3},a3={tokenize:h3},l3={tokenize:p3};function u3(e){let t=-1;const n=[];for(;++t<e.length;){const r=e[t][1];if(n.push(e[t]),r.type==="labelImage"||r.type==="labelLink"||r.type==="labelEnd"){const s=r.type==="labelImage"?4:2;r.type="data",t+=s}}return e.length!==n.length&&Xn(e,0,e.length,n),e}function c3(e,t){let n=e.length,r=0,s,o,i,a;for(;n--;)if(s=e[n][1],o){if(s.type==="link"||s.type==="labelLink"&&s._inactive)break;e[n][0]==="enter"&&s.type==="labelLink"&&(s._inactive=!0)}else if(i){if(e[n][0]==="enter"&&(s.type==="labelImage"||s.type==="labelLink")&&!s._balanced&&(o=n,s.type!=="labelLink")){r=2;break}}else s.type==="labelEnd"&&(i=n);const l={type:e[o][1].type==="labelLink"?"link":"image",start:{...e[o][1].start},end:{...e[e.length-1][1].end}},c={type:"label",start:{...e[o][1].start},end:{...e[i][1].end}},d={type:"labelText",start:{...e[o+r+2][1].end},end:{...e[i-2][1].start}};return a=[["enter",l,t],["enter",c,t]],a=on(a,e.slice(o+1,o+r+3)),a=on(a,[["enter",d,t]]),a=on(a,sg(t.parser.constructs.insideSpan.null,e.slice(o+r+4,i-3),t)),a=on(a,[["exit",d,t],e[i-2],e[i-1],["exit",c,t]]),a=on(a,e.slice(i+1)),a=on(a,[["exit",l,t]]),Xn(e,o,e.length,a),e}function d3(e,t,n){const r=this;let s=r.events.length,o,i;for(;s--;)if((r.events[s][1].type==="labelImage"||r.events[s][1].type==="labelLink")&&!r.events[s][1]._balanced){o=r.events[s][1];break}return a;function a(p){return o?o._inactive?h(p):(i=r.parser.defined.includes(bo(r.sliceSerialize({start:o.end,end:r.now()}))),e.enter("labelEnd"),e.enter("labelMarker"),e.consume(p),e.exit("labelMarker"),e.exit("labelEnd"),l):n(p)}function l(p){return p===40?e.attempt(i3,d,i?d:h)(p):p===91?e.attempt(a3,d,i?c:h)(p):i?d(p):h(p)}function c(p){return e.attempt(l3,d,h)(p)}function d(p){return t(p)}function h(p){return o._balanced=!0,n(p)}}function f3(e,t,n){return r;function r(h){return e.enter("resource"),e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),s}function s(h){return Dt(h)?Di(e,o)(h):o(h)}function o(h){return h===41?d(h):qk(e,i,a,"resourceDestination","resourceDestinationLiteral","resourceDestinationLiteralMarker","resourceDestinationRaw","resourceDestinationString",32)(h)}function i(h){return Dt(h)?Di(e,l)(h):d(h)}function a(h){return n(h)}function l(h){return h===34||h===39||h===40?Yk(e,c,n,"resourceTitle","resourceTitleMarker","resourceTitleString")(h):d(h)}function c(h){return Dt(h)?Di(e,d)(h):d(h)}function d(h){return h===41?(e.enter("resourceMarker"),e.consume(h),e.exit("resourceMarker"),e.exit("resource"),t):n(h)}}function h3(e,t,n){const r=this;return s;function s(a){return Gk.call(r,e,o,i,"reference","referenceMarker","referenceString")(a)}function o(a){return r.parser.defined.includes(bo(r.sliceSerialize(r.events[r.events.length-1][1]).slice(1,-1)))?t(a):n(a)}function i(a){return n(a)}}function p3(e,t,n){return r;function r(o){return e.enter("reference"),e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),s}function s(o){return o===93?(e.enter("referenceMarker"),e.consume(o),e.exit("referenceMarker"),e.exit("reference"),t):n(o)}}const m3={name:"labelStartImage",resolveAll:og.resolveAll,tokenize:g3};function g3(e,t,n){const r=this;return s;function s(a){return e.enter("labelImage"),e.enter("labelImageMarker"),e.consume(a),e.exit("labelImageMarker"),o}function o(a){return a===91?(e.enter("labelMarker"),e.consume(a),e.exit("labelMarker"),e.exit("labelImage"),i):n(a)}function i(a){return a===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(a):t(a)}}const y3={name:"labelStartLink",resolveAll:og.resolveAll,tokenize:v3};function v3(e,t,n){const r=this;return s;function s(i){return e.enter("labelLink"),e.enter("labelMarker"),e.consume(i),e.exit("labelMarker"),e.exit("labelLink"),o}function o(i){return i===94&&"_hiddenFootnoteSupport"in r.parser.constructs?n(i):t(i)}}const Od={name:"lineEnding",tokenize:x3};function x3(e,t){return n;function n(r){return e.enter("lineEnding"),e.consume(r),e.exit("lineEnding"),Me(e,t,"linePrefix")}}const Ll={name:"thematicBreak",tokenize:w3};function w3(e,t,n){let r=0,s;return o;function o(c){return e.enter("thematicBreak"),i(c)}function i(c){return s=c,a(c)}function a(c){return c===s?(e.enter("thematicBreakSequence"),l(c)):r>=3&&(c===null||re(c))?(e.exit("thematicBreak"),t(c)):n(c)}function l(c){return c===s?(e.consume(c),r++,l):(e.exit("thematicBreakSequence"),Ee(c)?Me(e,a,"whitespace")(c):a(c))}}const Pt={continuation:{tokenize:C3},exit:E3,name:"list",tokenize:_3},b3={partial:!0,tokenize:T3},S3={partial:!0,tokenize:k3};function _3(e,t,n){const r=this,s=r.events[r.events.length-1];let o=s&&s[1].type==="linePrefix"?s[2].sliceSerialize(s[1],!0).length:0,i=0;return a;function a(m){const v=r.containerState.type||(m===42||m===43||m===45?"listUnordered":"listOrdered");if(v==="listUnordered"?!r.containerState.marker||m===r.containerState.marker:ch(m)){if(r.containerState.type||(r.containerState.type=v,e.enter(v,{_container:!0})),v==="listUnordered")return e.enter("listItemPrefix"),m===42||m===45?e.check(Ll,n,c)(m):c(m);if(!r.interrupt||m===49)return e.enter("listItemPrefix"),e.enter("listItemValue"),l(m)}return n(m)}function l(m){return ch(m)&&++i<10?(e.consume(m),l):(!r.interrupt||i<2)&&(r.containerState.marker?m===r.containerState.marker:m===41||m===46)?(e.exit("listItemValue"),c(m)):n(m)}function c(m){return e.enter("listItemMarker"),e.consume(m),e.exit("listItemMarker"),r.containerState.marker=r.containerState.marker||m,e.check(vc,r.interrupt?n:d,e.attempt(b3,p,h))}function d(m){return r.containerState.initialBlankLine=!0,o++,p(m)}function h(m){return Ee(m)?(e.enter("listItemPrefixWhitespace"),e.consume(m),e.exit("listItemPrefixWhitespace"),p):n(m)}function p(m){return r.containerState.size=o+r.sliceSerialize(e.exit("listItemPrefix"),!0).length,t(m)}}function C3(e,t,n){const r=this;return r.containerState._closeFlow=void 0,e.check(vc,s,o);function s(a){return r.containerState.furtherBlankLines=r.containerState.furtherBlankLines||r.containerState.initialBlankLine,Me(e,t,"listItemIndent",r.containerState.size+1)(a)}function o(a){return r.containerState.furtherBlankLines||!Ee(a)?(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,i(a)):(r.containerState.furtherBlankLines=void 0,r.containerState.initialBlankLine=void 0,e.attempt(S3,t,i)(a))}function i(a){return r.containerState._closeFlow=!0,r.interrupt=void 0,Me(e,e.attempt(Pt,t,n),"linePrefix",r.parser.constructs.disable.null.includes("codeIndented")?void 0:4)(a)}}function k3(e,t,n){const r=this;return Me(e,s,"listItemIndent",r.containerState.size+1);function s(o){const i=r.events[r.events.length-1];return i&&i[1].type==="listItemIndent"&&i[2].sliceSerialize(i[1],!0).length===r.containerState.size?t(o):n(o)}}function E3(e){e.exit(this.containerState.type)}function T3(e,t,n){const r=this;return Me(e,s,"listItemPrefixWhitespace",r.parser.constructs.disable.null.includes("codeIndented")?void 0:5);function s(o){const i=r.events[r.events.length-1];return!Ee(o)&&i&&i[1].type==="listItemPrefixWhitespace"?t(o):n(o)}}const Lx={name:"setextUnderline",resolveTo:R3,tokenize:N3};function R3(e,t){let n=e.length,r,s,o;for(;n--;)if(e[n][0]==="enter"){if(e[n][1].type==="content"){r=n;break}e[n][1].type==="paragraph"&&(s=n)}else e[n][1].type==="content"&&e.splice(n,1),!o&&e[n][1].type==="definition"&&(o=n);const i={type:"setextHeading",start:{...e[r][1].start},end:{...e[e.length-1][1].end}};return e[s][1].type="setextHeadingText",o?(e.splice(s,0,["enter",i,t]),e.splice(o+1,0,["exit",e[r][1],t]),e[r][1].end={...e[o][1].end}):e[r][1]=i,e.push(["exit",i,t]),e}function N3(e,t,n){const r=this;let s;return o;function o(c){let d=r.events.length,h;for(;d--;)if(r.events[d][1].type!=="lineEnding"&&r.events[d][1].type!=="linePrefix"&&r.events[d][1].type!=="content"){h=r.events[d][1].type==="paragraph";break}return!r.parser.lazy[r.now().line]&&(r.interrupt||h)?(e.enter("setextHeadingLine"),s=c,i(c)):n(c)}function i(c){return e.enter("setextHeadingLineSequence"),a(c)}function a(c){return c===s?(e.consume(c),a):(e.exit("setextHeadingLineSequence"),Ee(c)?Me(e,l,"lineSuffix")(c):l(c))}function l(c){return c===null||re(c)?(e.exit("setextHeadingLine"),t(c)):n(c)}}const I3={tokenize:P3};function P3(e){const t=this,n=e.attempt(vc,r,e.attempt(this.parser.constructs.flowInitial,s,Me(e,e.attempt(this.parser.constructs.flow,s,e.attempt(LB,s)),"linePrefix")));return n;function r(o){if(o===null){e.consume(o);return}return e.enter("lineEndingBlank"),e.consume(o),e.exit("lineEndingBlank"),t.currentConstruct=void 0,n}function s(o){if(o===null){e.consume(o);return}return e.enter("lineEnding"),e.consume(o),e.exit("lineEnding"),t.currentConstruct=void 0,n}}const A3={resolveAll:Qk()},j3=Xk("string"),M3=Xk("text");function Xk(e){return{resolveAll:Qk(e==="text"?O3:void 0),tokenize:t};function t(n){const r=this,s=this.parser.constructs[e],o=n.attempt(s,i,a);return i;function i(d){return c(d)?o(d):a(d)}function a(d){if(d===null){n.consume(d);return}return n.enter("data"),n.consume(d),l}function l(d){return c(d)?(n.exit("data"),o(d)):(n.consume(d),l)}function c(d){if(d===null)return!0;const h=s[d];let p=-1;if(h)for(;++p<h.length;){const m=h[p];if(!m.previous||m.previous.call(r,r.previous))return!0}return!1}}}function Qk(e){return t;function t(n,r){let s=-1,o;for(;++s<=n.length;)o===void 0?n[s]&&n[s][1].type==="data"&&(o=s,s++):(!n[s]||n[s][1].type!=="data")&&(s!==o+2&&(n[o][1].end=n[s-1][1].end,n.splice(o+2,s-o-2),s=o+2),o=void 0);return e?e(n,r):n}}function O3(e,t){let n=0;for(;++n<=e.length;)if((n===e.length||e[n][1].type==="lineEnding")&&e[n-1][1].type==="data"){const r=e[n-1][1],s=t.sliceStream(r);let o=s.length,i=-1,a=0,l;for(;o--;){const c=s[o];if(typeof c=="string"){for(i=c.length;c.charCodeAt(i-1)===32;)a++,i--;if(i)break;i=-1}else if(c===-2)l=!0,a++;else if(c!==-1){o++;break}}if(t._contentTypeTextTrailing&&n===e.length&&(a=0),a){const c={type:n===e.length||l||a<2?"lineSuffix":"hardBreakTrailing",start:{_bufferIndex:o?i:r.start._bufferIndex+i,_index:r.start._index+o,line:r.end.line,column:r.end.column-a,offset:r.end.offset-a},end:{...r.end}};r.end={...c.start},r.start.offset===r.end.offset?Object.assign(r,c):(e.splice(n,0,["enter",c,t],["exit",c,t]),n+=2)}n++}return e}const L3={42:Pt,43:Pt,45:Pt,48:Pt,49:Pt,50:Pt,51:Pt,52:Pt,53:Pt,54:Pt,55:Pt,56:Pt,57:Pt,62:Hk},D3={91:$B},F3={[-2]:Md,[-1]:Md,32:Md},z3={35:qB,42:Ll,45:[Lx,Ll],60:QB,61:Lx,95:Ll,96:Mx,126:Mx},B3={38:Wk,92:Vk},$3={[-5]:Od,[-4]:Od,[-3]:Od,33:m3,38:Wk,42:dh,60:[yB,s3],91:y3,92:[WB,Vk],93:og,95:dh,96:IB},U3={null:[dh,A3]},H3={null:[42,95]},V3={null:[]},W3=Object.freeze(Object.defineProperty({__proto__:null,attentionMarkers:H3,contentInitial:D3,disable:V3,document:L3,flow:z3,flowInitial:F3,insideSpan:U3,string:B3,text:$3},Symbol.toStringTag,{value:"Module"}));function K3(e,t,n){let r={_bufferIndex:-1,_index:0,line:n&&n.line||1,column:n&&n.column||1,offset:n&&n.offset||0};const s={},o=[];let i=[],a=[];const l={attempt:T(R),check:T(S),consume:x,enter:w,exit:C,interrupt:T(S,{interrupt:!0})},c={code:null,containerState:{},defineSkip:y,events:[],now:v,parser:e,previous:null,sliceSerialize:p,sliceStream:m,write:h};let d=t.tokenize.call(c,l);return t.resolveAll&&o.push(t),c;function h(L){return i=on(i,L),b(),i[i.length-1]!==null?[]:(N(t,0),c.events=sg(o,c.events,c),c.events)}function p(L,I){return G3(m(L),I)}function m(L){return q3(i,L)}function v(){const{_bufferIndex:L,_index:I,line:V,column:$,offset:W}=r;return{_bufferIndex:L,_index:I,line:V,column:$,offset:W}}function y(L){s[L.line]=L.column,A()}function b(){let L;for(;r._index<i.length;){const I=i[r._index];if(typeof I=="string")for(L=r._index,r._bufferIndex<0&&(r._bufferIndex=0);r._index===L&&r._bufferIndex<I.length;)g(I.charCodeAt(r._bufferIndex));else g(I)}}function g(L){d=d(L)}function x(L){re(L)?(r.line++,r.column=1,r.offset+=L===-3?2:1,A()):L!==-1&&(r.column++,r.offset++),r._bufferIndex<0?r._index++:(r._bufferIndex++,r._bufferIndex===i[r._index].length&&(r._bufferIndex=-1,r._index++)),c.previous=L}function w(L,I){const V=I||{};return V.type=L,V.start=v(),c.events.push(["enter",V,c]),a.push(V),V}function C(L){const I=a.pop();return I.end=v(),c.events.push(["exit",I,c]),I}function R(L,I){N(L,I.from)}function S(L,I){I.restore()}function T(L,I){return V;function V($,W,H){let G,j,B,_;return Array.isArray($)?ce($):"tokenize"in $?ce([$]):te($);function te(ge){return Q;function Q(de){const Pe=de!==null&&ge[de],ye=de!==null&&ge.null,fe=[...Array.isArray(Pe)?Pe:Pe?[Pe]:[],...Array.isArray(ye)?ye:ye?[ye]:[]];return ce(fe)(de)}}function ce(ge){return G=ge,j=0,ge.length===0?H:E(ge[j])}function E(ge){return Q;function Q(de){return _=M(),B=ge,ge.partial||(c.currentConstruct=ge),ge.name&&c.parser.constructs.disable.null.includes(ge.name)?Ke():ge.tokenize.call(I?Object.assign(Object.create(c),I):c,l,Te,Ke)(de)}}function Te(ge){return L(B,_),W}function Ke(ge){return _.restore(),++j<G.length?E(G[j]):H}}}function N(L,I){L.resolveAll&&!o.includes(L)&&o.push(L),L.resolve&&Xn(c.events,I,c.events.length-I,L.resolve(c.events.slice(I),c)),L.resolveTo&&(c.events=L.resolveTo(c.events,c))}function M(){const L=v(),I=c.previous,V=c.currentConstruct,$=c.events.length,W=Array.from(a);return{from:$,restore:H};function H(){r=L,c.previous=I,c.currentConstruct=V,c.events.length=$,a=W,A()}}function A(){r.line in s&&r.column<2&&(r.column=s[r.line],r.offset+=s[r.line]-1)}}function q3(e,t){const n=t.start._index,r=t.start._bufferIndex,s=t.end._index,o=t.end._bufferIndex;let i;if(n===s)i=[e[n].slice(r,o)];else{if(i=e.slice(n,s),r>-1){const a=i[0];typeof a=="string"?i[0]=a.slice(r):i.shift()}o>0&&i.push(e[s].slice(0,o))}return i}function G3(e,t){let n=-1;const r=[];let s;for(;++n<e.length;){const o=e[n];let i;if(typeof o=="string")i=o;else switch(o){case-5:{i="\r";break}case-4:{i=`
`;break}case-3:{i=`\r
`;break}case-2:{i=t?" ":"	";break}case-1:{if(!t&&s)continue;i=" ";break}default:i=String.fromCharCode(o)}s=o===-2,r.push(i)}return r.join("")}function Y3(e){const r={constructs:nB([W3,...(e||{}).extensions||[]]),content:s(cB),defined:[],document:s(fB),flow:s(I3),lazy:{},string:s(j3),text:s(M3)};return r;function s(o){return i;function i(a){return K3(r,o,a)}}}function X3(e){for(;!Kk(e););return e}const Dx=/[\0\t\n\r]/g;function Q3(){let e=1,t="",n=!0,r;return s;function s(o,i,a){const l=[];let c,d,h,p,m;for(o=t+(typeof o=="string"?o.toString():new TextDecoder(i||void 0).decode(o)),h=0,t="",n&&(o.charCodeAt(0)===65279&&h++,n=void 0);h<o.length;){if(Dx.lastIndex=h,c=Dx.exec(o),p=c&&c.index!==void 0?c.index:o.length,m=o.charCodeAt(p),!c){t=o.slice(h);break}if(m===10&&h===p&&r)l.push(-3),r=void 0;else switch(r&&(l.push(-5),r=void 0),h<p&&(l.push(o.slice(h,p)),e+=p-h),m){case 0:{l.push(65533),e++;break}case 9:{for(d=Math.ceil(e/4)*4,l.push(-2);e++<d;)l.push(-1);break}case 10:{l.push(-4),e=1;break}default:r=!0,e=1}h=p+1}return a&&(r&&l.push(-5),t&&l.push(t),l.push(null)),l}}const J3=/\\([!-/:-@[-`{-~])|&(#(?:\d{1,7}|x[\da-f]{1,6})|[\da-z]{1,31});/gi;function Z3(e){return e.replace(J3,e4)}function e4(e,t,n){if(t)return t;if(n.charCodeAt(0)===35){const s=n.charCodeAt(1),o=s===120||s===88;return Uk(n.slice(o?2:1),o?16:10)}return rg(n)||e}const Jk={}.hasOwnProperty;function t4(e,t,n){return typeof t!="string"&&(n=t,t=void 0),n4(n)(X3(Y3(n).document().write(Q3()(e,t,!0))))}function n4(e){const t={transforms:[],canContainEols:["emphasis","fragment","heading","paragraph","strong"],enter:{autolink:o(jn),autolinkProtocol:M,autolinkEmail:M,atxHeading:o(fn),blockQuote:o(ye),characterEscape:M,characterReference:M,codeFenced:o(fe),codeFencedFenceInfo:i,codeFencedFenceMeta:i,codeIndented:o(fe,i),codeText:o(Ce,i),codeTextData:M,data:M,codeFlowValue:M,definition:o(nt),definitionDestinationString:i,definitionLabelString:i,definitionTitleString:i,emphasis:o(Nt),hardBreakEscape:o(hn),hardBreakTrailing:o(hn),htmlFlow:o(An,i),htmlFlowData:M,htmlText:o(An,i),htmlTextData:M,image:o(is),label:i,link:o(jn),listItem:o(Nc),listItemValue:p,listOrdered:o(Yo,h),listUnordered:o(Yo),paragraph:o(Fs),reference:E,referenceString:i,resourceDestinationString:i,resourceTitleString:i,setextHeading:o(fn),strong:o(Ta),thematicBreak:o(Ic)},exit:{atxHeading:l(),atxHeadingSequence:R,autolink:l(),autolinkEmail:Pe,autolinkProtocol:de,blockQuote:l(),characterEscapeValue:A,characterReferenceMarkerHexadecimal:Ke,characterReferenceMarkerNumeric:Ke,characterReferenceValue:ge,characterReference:Q,codeFenced:l(b),codeFencedFence:y,codeFencedFenceInfo:m,codeFencedFenceMeta:v,codeFlowValue:A,codeIndented:l(g),codeText:l(W),codeTextData:A,data:A,definition:l(),definitionDestinationString:C,definitionLabelString:x,definitionTitleString:w,emphasis:l(),hardBreakEscape:l(I),hardBreakTrailing:l(I),htmlFlow:l(V),htmlFlowData:A,htmlText:l($),htmlTextData:A,image:l(G),label:B,labelText:j,lineEnding:L,link:l(H),listItem:l(),listOrdered:l(),listUnordered:l(),paragraph:l(),referenceString:Te,resourceDestinationString:_,resourceTitleString:te,resource:ce,setextHeading:l(N),setextHeadingLineSequence:T,setextHeadingText:S,strong:l(),thematicBreak:l()}};Zk(t,(e||{}).mdastExtensions||[]);const n={};return r;function r(O){let D={type:"root",children:[]};const ne={stack:[D],tokenStack:[],config:t,enter:a,exit:c,buffer:i,resume:d,data:n},ae=[];let Re=-1;for(;++Re<O.length;)if(O[Re][1].type==="listOrdered"||O[Re][1].type==="listUnordered")if(O[Re][0]==="enter")ae.push(Re);else{const zt=ae.pop();Re=s(O,zt,Re)}for(Re=-1;++Re<O.length;){const zt=t[O[Re][0]];Jk.call(zt,O[Re][1].type)&&zt[O[Re][1].type].call(Object.assign({sliceSerialize:O[Re][2].sliceSerialize},ne),O[Re][1])}if(ne.tokenStack.length>0){const zt=ne.tokenStack[ne.tokenStack.length-1];(zt[1]||Fx).call(ne,void 0,zt[0])}for(D.position={start:Tr(O.length>0?O[0][1].start:{line:1,column:1,offset:0}),end:Tr(O.length>0?O[O.length-2][1].end:{line:1,column:1,offset:0})},Re=-1;++Re<t.transforms.length;)D=t.transforms[Re](D)||D;return D}function s(O,D,ne){let ae=D-1,Re=-1,zt=!1,Mn,Bt,_r,nr;for(;++ae<=ne;){const ct=O[ae];switch(ct[1].type){case"listUnordered":case"listOrdered":case"blockQuote":{ct[0]==="enter"?Re++:Re--,nr=void 0;break}case"lineEndingBlank":{ct[0]==="enter"&&(Mn&&!nr&&!Re&&!_r&&(_r=ae),nr=void 0);break}case"linePrefix":case"listItemValue":case"listItemMarker":case"listItemPrefix":case"listItemPrefixWhitespace":break;default:nr=void 0}if(!Re&&ct[0]==="enter"&&ct[1].type==="listItemPrefix"||Re===-1&&ct[0]==="exit"&&(ct[1].type==="listUnordered"||ct[1].type==="listOrdered")){if(Mn){let rr=ae;for(Bt=void 0;rr--;){const wt=O[rr];if(wt[1].type==="lineEnding"||wt[1].type==="lineEndingBlank"){if(wt[0]==="exit")continue;Bt&&(O[Bt][1].type="lineEndingBlank",zt=!0),wt[1].type="lineEnding",Bt=rr}else if(!(wt[1].type==="linePrefix"||wt[1].type==="blockQuotePrefix"||wt[1].type==="blockQuotePrefixWhitespace"||wt[1].type==="blockQuoteMarker"||wt[1].type==="listItemIndent"))break}_r&&(!Bt||_r<Bt)&&(Mn._spread=!0),Mn.end=Object.assign({},Bt?O[Bt][1].start:ct[1].end),O.splice(Bt||ae,0,["exit",Mn,ct[2]]),ae++,ne++}if(ct[1].type==="listItemPrefix"){const rr={type:"listItem",_spread:!1,start:Object.assign({},ct[1].start),end:void 0};Mn=rr,O.splice(ae,0,["enter",rr,ct[2]]),ae++,ne++,_r=void 0,nr=!0}}}return O[D][1]._spread=zt,ne}function o(O,D){return ne;function ne(ae){a.call(this,O(ae),ae),D&&D.call(this,ae)}}function i(){this.stack.push({type:"fragment",children:[]})}function a(O,D,ne){this.stack[this.stack.length-1].children.push(O),this.stack.push(O),this.tokenStack.push([D,ne||void 0]),O.position={start:Tr(D.start),end:void 0}}function l(O){return D;function D(ne){O&&O.call(this,ne),c.call(this,ne)}}function c(O,D){const ne=this.stack.pop(),ae=this.tokenStack.pop();if(ae)ae[0].type!==O.type&&(D?D.call(this,O,ae[0]):(ae[1]||Fx).call(this,O,ae[0]));else throw new Error("Cannot close `"+O.type+"` ("+Li({start:O.start,end:O.end})+"): its not open");ne.position.end=Tr(O.end)}function d(){return eB(this.stack.pop())}function h(){this.data.expectingFirstListItemValue=!0}function p(O){if(this.data.expectingFirstListItemValue){const D=this.stack[this.stack.length-2];D.start=Number.parseInt(this.sliceSerialize(O),10),this.data.expectingFirstListItemValue=void 0}}function m(){const O=this.resume(),D=this.stack[this.stack.length-1];D.lang=O}function v(){const O=this.resume(),D=this.stack[this.stack.length-1];D.meta=O}function y(){this.data.flowCodeInside||(this.buffer(),this.data.flowCodeInside=!0)}function b(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O.replace(/^(\r?\n|\r)|(\r?\n|\r)$/g,""),this.data.flowCodeInside=void 0}function g(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O.replace(/(\r?\n|\r)$/g,"")}function x(O){const D=this.resume(),ne=this.stack[this.stack.length-1];ne.label=D,ne.identifier=bo(this.sliceSerialize(O)).toLowerCase()}function w(){const O=this.resume(),D=this.stack[this.stack.length-1];D.title=O}function C(){const O=this.resume(),D=this.stack[this.stack.length-1];D.url=O}function R(O){const D=this.stack[this.stack.length-1];if(!D.depth){const ne=this.sliceSerialize(O).length;D.depth=ne}}function S(){this.data.setextHeadingSlurpLineEnding=!0}function T(O){const D=this.stack[this.stack.length-1];D.depth=this.sliceSerialize(O).codePointAt(0)===61?1:2}function N(){this.data.setextHeadingSlurpLineEnding=void 0}function M(O){const ne=this.stack[this.stack.length-1].children;let ae=ne[ne.length-1];(!ae||ae.type!=="text")&&(ae=Ra(),ae.position={start:Tr(O.start),end:void 0},ne.push(ae)),this.stack.push(ae)}function A(O){const D=this.stack.pop();D.value+=this.sliceSerialize(O),D.position.end=Tr(O.end)}function L(O){const D=this.stack[this.stack.length-1];if(this.data.atHardBreak){const ne=D.children[D.children.length-1];ne.position.end=Tr(O.end),this.data.atHardBreak=void 0;return}!this.data.setextHeadingSlurpLineEnding&&t.canContainEols.includes(D.type)&&(M.call(this,O),A.call(this,O))}function I(){this.data.atHardBreak=!0}function V(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O}function $(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O}function W(){const O=this.resume(),D=this.stack[this.stack.length-1];D.value=O}function H(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const D=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=D,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function G(){const O=this.stack[this.stack.length-1];if(this.data.inReference){const D=this.data.referenceType||"shortcut";O.type+="Reference",O.referenceType=D,delete O.url,delete O.title}else delete O.identifier,delete O.label;this.data.referenceType=void 0}function j(O){const D=this.sliceSerialize(O),ne=this.stack[this.stack.length-2];ne.label=Z3(D),ne.identifier=bo(D).toLowerCase()}function B(){const O=this.stack[this.stack.length-1],D=this.resume(),ne=this.stack[this.stack.length-1];if(this.data.inReference=!0,ne.type==="link"){const ae=O.children;ne.children=ae}else ne.alt=D}function _(){const O=this.resume(),D=this.stack[this.stack.length-1];D.url=O}function te(){const O=this.resume(),D=this.stack[this.stack.length-1];D.title=O}function ce(){this.data.inReference=void 0}function E(){this.data.referenceType="collapsed"}function Te(O){const D=this.resume(),ne=this.stack[this.stack.length-1];ne.label=D,ne.identifier=bo(this.sliceSerialize(O)).toLowerCase(),this.data.referenceType="full"}function Ke(O){this.data.characterReferenceType=O.type}function ge(O){const D=this.sliceSerialize(O),ne=this.data.characterReferenceType;let ae;ne?(ae=Uk(D,ne==="characterReferenceMarkerNumeric"?10:16),this.data.characterReferenceType=void 0):ae=rg(D);const Re=this.stack[this.stack.length-1];Re.value+=ae}function Q(O){const D=this.stack.pop();D.position.end=Tr(O.end)}function de(O){A.call(this,O);const D=this.stack[this.stack.length-1];D.url=this.sliceSerialize(O)}function Pe(O){A.call(this,O);const D=this.stack[this.stack.length-1];D.url="mailto:"+this.sliceSerialize(O)}function ye(){return{type:"blockquote",children:[]}}function fe(){return{type:"code",lang:null,meta:null,value:""}}function Ce(){return{type:"inlineCode",value:""}}function nt(){return{type:"definition",identifier:"",label:null,title:null,url:""}}function Nt(){return{type:"emphasis",children:[]}}function fn(){return{type:"heading",depth:0,children:[]}}function hn(){return{type:"break"}}function An(){return{type:"html",value:""}}function is(){return{type:"image",title:null,url:"",alt:null}}function jn(){return{type:"link",title:null,url:"",children:[]}}function Yo(O){return{type:"list",ordered:O.type==="listOrdered",start:null,spread:O._spread,children:[]}}function Nc(O){return{type:"listItem",spread:O._spread,checked:null,children:[]}}function Fs(){return{type:"paragraph",children:[]}}function Ta(){return{type:"strong",children:[]}}function Ra(){return{type:"text",value:""}}function Ic(){return{type:"thematicBreak"}}}function Tr(e){return{line:e.line,column:e.column,offset:e.offset}}function Zk(e,t){let n=-1;for(;++n<t.length;){const r=t[n];Array.isArray(r)?Zk(e,r):r4(e,r)}}function r4(e,t){let n;for(n in t)if(Jk.call(t,n))switch(n){case"canContainEols":{const r=t[n];r&&e[n].push(...r);break}case"transforms":{const r=t[n];r&&e[n].push(...r);break}case"enter":case"exit":{const r=t[n];r&&Object.assign(e[n],r);break}}}function Fx(e,t){throw e?new Error("Cannot close `"+e.type+"` ("+Li({start:e.start,end:e.end})+"): a different token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is open"):new Error("Cannot close document, a token (`"+t.type+"`, "+Li({start:t.start,end:t.end})+") is still open")}function s4(e){const t=this;t.parser=n;function n(r){return t4(r,{...t.data("settings"),...e,extensions:t.data("micromarkExtensions")||[],mdastExtensions:t.data("fromMarkdownExtensions")||[]})}}function o4(e,t){const n={type:"element",tagName:"blockquote",properties:{},children:e.wrap(e.all(t),!0)};return e.patch(t,n),e.applyData(t,n)}function i4(e,t){const n={type:"element",tagName:"br",properties:{},children:[]};return e.patch(t,n),[e.applyData(t,n),{type:"text",value:`
`}]}function a4(e,t){const n=t.value?t.value+`
`:"",r={},s=t.lang?t.lang.split(/\s+/):[];s.length>0&&(r.className=["language-"+s[0]]);let o={type:"element",tagName:"code",properties:r,children:[{type:"text",value:n}]};return t.meta&&(o.data={meta:t.meta}),e.patch(t,o),o=e.applyData(t,o),o={type:"element",tagName:"pre",properties:{},children:[o]},e.patch(t,o),o}function l4(e,t){const n={type:"element",tagName:"del",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function u4(e,t){const n={type:"element",tagName:"em",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function c4(e,t){const n=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",r=String(t.identifier).toUpperCase(),s=Ko(r.toLowerCase()),o=e.footnoteOrder.indexOf(r);let i,a=e.footnoteCounts.get(r);a===void 0?(a=0,e.footnoteOrder.push(r),i=e.footnoteOrder.length):i=o+1,a+=1,e.footnoteCounts.set(r,a);const l={type:"element",tagName:"a",properties:{href:"#"+n+"fn-"+s,id:n+"fnref-"+s+(a>1?"-"+a:""),dataFootnoteRef:!0,ariaDescribedBy:["footnote-label"]},children:[{type:"text",value:String(i)}]};e.patch(t,l);const c={type:"element",tagName:"sup",properties:{},children:[l]};return e.patch(t,c),e.applyData(t,c)}function d4(e,t){const n={type:"element",tagName:"h"+t.depth,properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function f4(e,t){if(e.options.allowDangerousHtml){const n={type:"raw",value:t.value};return e.patch(t,n),e.applyData(t,n)}}function eE(e,t){const n=t.referenceType;let r="]";if(n==="collapsed"?r+="[]":n==="full"&&(r+="["+(t.label||t.identifier)+"]"),t.type==="imageReference")return[{type:"text",value:"!["+t.alt+r}];const s=e.all(t),o=s[0];o&&o.type==="text"?o.value="["+o.value:s.unshift({type:"text",value:"["});const i=s[s.length-1];return i&&i.type==="text"?i.value+=r:s.push({type:"text",value:r}),s}function h4(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eE(e,t);const s={src:Ko(r.url||""),alt:t.alt};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"img",properties:s,children:[]};return e.patch(t,o),e.applyData(t,o)}function p4(e,t){const n={src:Ko(t.url)};t.alt!==null&&t.alt!==void 0&&(n.alt=t.alt),t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"img",properties:n,children:[]};return e.patch(t,r),e.applyData(t,r)}function m4(e,t){const n={type:"text",value:t.value.replace(/\r?\n|\r/g," ")};e.patch(t,n);const r={type:"element",tagName:"code",properties:{},children:[n]};return e.patch(t,r),e.applyData(t,r)}function g4(e,t){const n=String(t.identifier).toUpperCase(),r=e.definitionById.get(n);if(!r)return eE(e,t);const s={href:Ko(r.url||"")};r.title!==null&&r.title!==void 0&&(s.title=r.title);const o={type:"element",tagName:"a",properties:s,children:e.all(t)};return e.patch(t,o),e.applyData(t,o)}function y4(e,t){const n={href:Ko(t.url)};t.title!==null&&t.title!==void 0&&(n.title=t.title);const r={type:"element",tagName:"a",properties:n,children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function v4(e,t,n){const r=e.all(t),s=n?x4(n):tE(t),o={},i=[];if(typeof t.checked=="boolean"){const d=r[0];let h;d&&d.type==="element"&&d.tagName==="p"?h=d:(h={type:"element",tagName:"p",properties:{},children:[]},r.unshift(h)),h.children.length>0&&h.children.unshift({type:"text",value:" "}),h.children.unshift({type:"element",tagName:"input",properties:{type:"checkbox",checked:t.checked,disabled:!0},children:[]}),o.className=["task-list-item"]}let a=-1;for(;++a<r.length;){const d=r[a];(s||a!==0||d.type!=="element"||d.tagName!=="p")&&i.push({type:"text",value:`
`}),d.type==="element"&&d.tagName==="p"&&!s?i.push(...d.children):i.push(d)}const l=r[r.length-1];l&&(s||l.type!=="element"||l.tagName!=="p")&&i.push({type:"text",value:`
`});const c={type:"element",tagName:"li",properties:o,children:i};return e.patch(t,c),e.applyData(t,c)}function x4(e){let t=!1;if(e.type==="list"){t=e.spread||!1;const n=e.children;let r=-1;for(;!t&&++r<n.length;)t=tE(n[r])}return t}function tE(e){const t=e.spread;return t??e.children.length>1}function w4(e,t){const n={},r=e.all(t);let s=-1;for(typeof t.start=="number"&&t.start!==1&&(n.start=t.start);++s<r.length;){const i=r[s];if(i.type==="element"&&i.tagName==="li"&&i.properties&&Array.isArray(i.properties.className)&&i.properties.className.includes("task-list-item")){n.className=["contains-task-list"];break}}const o={type:"element",tagName:t.ordered?"ol":"ul",properties:n,children:e.wrap(r,!0)};return e.patch(t,o),e.applyData(t,o)}function b4(e,t){const n={type:"element",tagName:"p",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function S4(e,t){const n={type:"root",children:e.wrap(e.all(t))};return e.patch(t,n),e.applyData(t,n)}function _4(e,t){const n={type:"element",tagName:"strong",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}function C4(e,t){const n=e.all(t),r=n.shift(),s=[];if(r){const i={type:"element",tagName:"thead",properties:{},children:e.wrap([r],!0)};e.patch(t.children[0],i),s.push(i)}if(n.length>0){const i={type:"element",tagName:"tbody",properties:{},children:e.wrap(n,!0)},a=Zm(t.children[1]),l=Ok(t.children[t.children.length-1]);a&&l&&(i.position={start:a,end:l}),s.push(i)}const o={type:"element",tagName:"table",properties:{},children:e.wrap(s,!0)};return e.patch(t,o),e.applyData(t,o)}function k4(e,t,n){const r=n?n.children:void 0,o=(r?r.indexOf(t):1)===0?"th":"td",i=n&&n.type==="table"?n.align:void 0,a=i?i.length:t.children.length;let l=-1;const c=[];for(;++l<a;){const h=t.children[l],p={},m=i?i[l]:void 0;m&&(p.align=m);let v={type:"element",tagName:o,properties:p,children:[]};h&&(v.children=e.all(h),e.patch(h,v),v=e.applyData(h,v)),c.push(v)}const d={type:"element",tagName:"tr",properties:{},children:e.wrap(c,!0)};return e.patch(t,d),e.applyData(t,d)}function E4(e,t){const n={type:"element",tagName:"td",properties:{},children:e.all(t)};return e.patch(t,n),e.applyData(t,n)}const zx=9,Bx=32;function T4(e){const t=String(e),n=/\r?\n|\r/g;let r=n.exec(t),s=0;const o=[];for(;r;)o.push($x(t.slice(s,r.index),s>0,!0),r[0]),s=r.index+r[0].length,r=n.exec(t);return o.push($x(t.slice(s),s>0,!1)),o.join("")}function $x(e,t,n){let r=0,s=e.length;if(t){let o=e.codePointAt(r);for(;o===zx||o===Bx;)r++,o=e.codePointAt(r)}if(n){let o=e.codePointAt(s-1);for(;o===zx||o===Bx;)s--,o=e.codePointAt(s-1)}return s>r?e.slice(r,s):""}function R4(e,t){const n={type:"text",value:T4(String(t.value))};return e.patch(t,n),e.applyData(t,n)}function N4(e,t){const n={type:"element",tagName:"hr",properties:{},children:[]};return e.patch(t,n),e.applyData(t,n)}const I4={blockquote:o4,break:i4,code:a4,delete:l4,emphasis:u4,footnoteReference:c4,heading:d4,html:f4,imageReference:h4,image:p4,inlineCode:m4,linkReference:g4,link:y4,listItem:v4,list:w4,paragraph:b4,root:S4,strong:_4,table:C4,tableCell:E4,tableRow:k4,text:R4,thematicBreak:N4,toml:ul,yaml:ul,definition:ul,footnoteDefinition:ul};function ul(){}const nE=-1,xc=0,Fi=1,ku=2,ig=3,ag=4,lg=5,ug=6,rE=7,sE=8,Ux=typeof self=="object"?self:globalThis,P4=(e,t)=>{const n=(s,o)=>(e.set(o,s),s),r=s=>{if(e.has(s))return e.get(s);const[o,i]=t[s];switch(o){case xc:case nE:return n(i,s);case Fi:{const a=n([],s);for(const l of i)a.push(r(l));return a}case ku:{const a=n({},s);for(const[l,c]of i)a[r(l)]=r(c);return a}case ig:return n(new Date(i),s);case ag:{const{source:a,flags:l}=i;return n(new RegExp(a,l),s)}case lg:{const a=n(new Map,s);for(const[l,c]of i)a.set(r(l),r(c));return a}case ug:{const a=n(new Set,s);for(const l of i)a.add(r(l));return a}case rE:{const{name:a,message:l}=i;return n(new Ux[a](l),s)}case sE:return n(BigInt(i),s);case"BigInt":return n(Object(BigInt(i)),s);case"ArrayBuffer":return n(new Uint8Array(i).buffer,i);case"DataView":{const{buffer:a}=new Uint8Array(i);return n(new DataView(a),i)}}return n(new Ux[o](i),s)};return r},Hx=e=>P4(new Map,e)(0),Ws="",{toString:A4}={},{keys:j4}=Object,pi=e=>{const t=typeof e;if(t!=="object"||!e)return[xc,t];const n=A4.call(e).slice(8,-1);switch(n){case"Array":return[Fi,Ws];case"Object":return[ku,Ws];case"Date":return[ig,Ws];case"RegExp":return[ag,Ws];case"Map":return[lg,Ws];case"Set":return[ug,Ws];case"DataView":return[Fi,n]}return n.includes("Array")?[Fi,n]:n.includes("Error")?[rE,n]:[ku,n]},cl=([e,t])=>e===xc&&(t==="function"||t==="symbol"),M4=(e,t,n,r)=>{const s=(i,a)=>{const l=r.push(i)-1;return n.set(a,l),l},o=i=>{if(n.has(i))return n.get(i);let[a,l]=pi(i);switch(a){case xc:{let d=i;switch(l){case"bigint":a=sE,d=i.toString();break;case"function":case"symbol":if(e)throw new TypeError("unable to serialize "+l);d=null;break;case"undefined":return s([nE],i)}return s([a,d],i)}case Fi:{if(l){let p=i;return l==="DataView"?p=new Uint8Array(i.buffer):l==="ArrayBuffer"&&(p=new Uint8Array(i)),s([l,[...p]],i)}const d=[],h=s([a,d],i);for(const p of i)d.push(o(p));return h}case ku:{if(l)switch(l){case"BigInt":return s([l,i.toString()],i);case"Boolean":case"Number":case"String":return s([l,i.valueOf()],i)}if(t&&"toJSON"in i)return o(i.toJSON());const d=[],h=s([a,d],i);for(const p of j4(i))(e||!cl(pi(i[p])))&&d.push([o(p),o(i[p])]);return h}case ig:return s([a,i.toISOString()],i);case ag:{const{source:d,flags:h}=i;return s([a,{source:d,flags:h}],i)}case lg:{const d=[],h=s([a,d],i);for(const[p,m]of i)(e||!(cl(pi(p))||cl(pi(m))))&&d.push([o(p),o(m)]);return h}case ug:{const d=[],h=s([a,d],i);for(const p of i)(e||!cl(pi(p)))&&d.push(o(p));return h}}const{message:c}=i;return s([a,{name:l,message:c}],i)};return o},Vx=(e,{json:t,lossy:n}={})=>{const r=[];return M4(!(t||n),!!t,new Map,r)(e),r},Eu=typeof structuredClone=="function"?(e,t)=>t&&("json"in t||"lossy"in t)?Hx(Vx(e,t)):structuredClone(e):(e,t)=>Hx(Vx(e,t));function O4(e,t){const n=[{type:"text",value:""}];return t>1&&n.push({type:"element",tagName:"sup",properties:{},children:[{type:"text",value:String(t)}]}),n}function L4(e,t){return"Back to reference "+(e+1)+(t>1?"-"+t:"")}function D4(e){const t=typeof e.options.clobberPrefix=="string"?e.options.clobberPrefix:"user-content-",n=e.options.footnoteBackContent||O4,r=e.options.footnoteBackLabel||L4,s=e.options.footnoteLabel||"Footnotes",o=e.options.footnoteLabelTagName||"h2",i=e.options.footnoteLabelProperties||{className:["sr-only"]},a=[];let l=-1;for(;++l<e.footnoteOrder.length;){const c=e.footnoteById.get(e.footnoteOrder[l]);if(!c)continue;const d=e.all(c),h=String(c.identifier).toUpperCase(),p=Ko(h.toLowerCase());let m=0;const v=[],y=e.footnoteCounts.get(h);for(;y!==void 0&&++m<=y;){v.length>0&&v.push({type:"text",value:" "});let x=typeof n=="string"?n:n(l,m);typeof x=="string"&&(x={type:"text",value:x}),v.push({type:"element",tagName:"a",properties:{href:"#"+t+"fnref-"+p+(m>1?"-"+m:""),dataFootnoteBackref:"",ariaLabel:typeof r=="string"?r:r(l,m),className:["data-footnote-backref"]},children:Array.isArray(x)?x:[x]})}const b=d[d.length-1];if(b&&b.type==="element"&&b.tagName==="p"){const x=b.children[b.children.length-1];x&&x.type==="text"?x.value+=" ":b.children.push({type:"text",value:" "}),b.children.push(...v)}else d.push(...v);const g={type:"element",tagName:"li",properties:{id:t+"fn-"+p},children:e.wrap(d,!0)};e.patch(c,g),a.push(g)}if(a.length!==0)return{type:"element",tagName:"section",properties:{dataFootnotes:!0,className:["footnotes"]},children:[{type:"element",tagName:o,properties:{...Eu(i),id:"footnote-label"},children:[{type:"text",value:s}]},{type:"text",value:`
`},{type:"element",tagName:"ol",properties:{},children:e.wrap(a,!0)},{type:"text",value:`
`}]}}const oE=function(e){if(e==null)return $4;if(typeof e=="function")return wc(e);if(typeof e=="object")return Array.isArray(e)?F4(e):z4(e);if(typeof e=="string")return B4(e);throw new Error("Expected function, string, or object as test")};function F4(e){const t=[];let n=-1;for(;++n<e.length;)t[n]=oE(e[n]);return wc(r);function r(...s){let o=-1;for(;++o<t.length;)if(t[o].apply(this,s))return!0;return!1}}function z4(e){const t=e;return wc(n);function n(r){const s=r;let o;for(o in e)if(s[o]!==t[o])return!1;return!0}}function B4(e){return wc(t);function t(n){return n&&n.type===e}}function wc(e){return t;function t(n,r,s){return!!(U4(n)&&e.call(this,n,typeof r=="number"?r:void 0,s||void 0))}}function $4(){return!0}function U4(e){return e!==null&&typeof e=="object"&&"type"in e}const iE=[],H4=!0,Wx=!1,V4="skip";function W4(e,t,n,r){let s;typeof t=="function"&&typeof n!="function"?(r=n,n=t):s=t;const o=oE(s),i=r?-1:1;a(e,void 0,[])();function a(l,c,d){const h=l&&typeof l=="object"?l:{};if(typeof h.type=="string"){const m=typeof h.tagName=="string"?h.tagName:typeof h.name=="string"?h.name:void 0;Object.defineProperty(p,"name",{value:"node ("+(l.type+(m?"<"+m+">":""))+")"})}return p;function p(){let m=iE,v,y,b;if((!t||o(l,c,d[d.length-1]||void 0))&&(m=K4(n(l,d)),m[0]===Wx))return m;if("children"in l&&l.children){const g=l;if(g.children&&m[0]!==V4)for(y=(r?g.children.length:-1)+i,b=d.concat(g);y>-1&&y<g.children.length;){const x=g.children[y];if(v=a(x,y,b)(),v[0]===Wx)return v;y=typeof v[1]=="number"?v[1]:y+i}}return m}}}function K4(e){return Array.isArray(e)?e:typeof e=="number"?[H4,e]:e==null?iE:[e]}function aE(e,t,n,r){let s,o,i;typeof t=="function"&&typeof n!="function"?(o=void 0,i=t,s=n):(o=t,i=n,s=r),W4(e,o,a,s);function a(l,c){const d=c[c.length-1],h=d?d.children.indexOf(l):void 0;return i(l,h,d)}}const fh={}.hasOwnProperty,q4={};function G4(e,t){const n=t||q4,r=new Map,s=new Map,o=new Map,i={...I4,...n.handlers},a={all:c,applyData:X4,definitionById:r,footnoteById:s,footnoteCounts:o,footnoteOrder:[],handlers:i,one:l,options:n,patch:Y4,wrap:J4};return aE(e,function(d){if(d.type==="definition"||d.type==="footnoteDefinition"){const h=d.type==="definition"?r:s,p=String(d.identifier).toUpperCase();h.has(p)||h.set(p,d)}}),a;function l(d,h){const p=d.type,m=a.handlers[p];if(fh.call(a.handlers,p)&&m)return m(a,d,h);if(a.options.passThrough&&a.options.passThrough.includes(p)){if("children"in d){const{children:y,...b}=d,g=Eu(b);return g.children=a.all(d),g}return Eu(d)}return(a.options.unknownHandler||Q4)(a,d,h)}function c(d){const h=[];if("children"in d){const p=d.children;let m=-1;for(;++m<p.length;){const v=a.one(p[m],d);if(v){if(m&&p[m-1].type==="break"&&(!Array.isArray(v)&&v.type==="text"&&(v.value=Kx(v.value)),!Array.isArray(v)&&v.type==="element")){const y=v.children[0];y&&y.type==="text"&&(y.value=Kx(y.value))}Array.isArray(v)?h.push(...v):h.push(v)}}}return h}}function Y4(e,t){e.position&&(t.position=Az(e))}function X4(e,t){let n=t;if(e&&e.data){const r=e.data.hName,s=e.data.hChildren,o=e.data.hProperties;if(typeof r=="string")if(n.type==="element")n.tagName=r;else{const i="children"in n?n.children:[n];n={type:"element",tagName:r,properties:{},children:i}}n.type==="element"&&o&&Object.assign(n.properties,Eu(o)),"children"in n&&n.children&&s!==null&&s!==void 0&&(n.children=s)}return n}function Q4(e,t){const n=t.data||{},r="value"in t&&!(fh.call(n,"hProperties")||fh.call(n,"hChildren"))?{type:"text",value:t.value}:{type:"element",tagName:"div",properties:{},children:e.all(t)};return e.patch(t,r),e.applyData(t,r)}function J4(e,t){const n=[];let r=-1;for(t&&n.push({type:"text",value:`
`});++r<e.length;)r&&n.push({type:"text",value:`
`}),n.push(e[r]);return t&&e.length>0&&n.push({type:"text",value:`
`}),n}function Kx(e){let t=0,n=e.charCodeAt(t);for(;n===9||n===32;)t++,n=e.charCodeAt(t);return e.slice(t)}function qx(e,t){const n=G4(e,t),r=n.one(e,void 0),s=D4(n),o=Array.isArray(r)?{type:"root",children:r}:r||{type:"root",children:[]};return s&&o.children.push({type:"text",value:`
`},s),o}function Z4(e,t){return e&&"run"in e?async function(n,r){const s=qx(n,{file:r,...t});await e.run(s,r)}:function(n,r){return qx(n,{file:r,...e||t})}}function Gx(e){if(e)throw e}var Dl=Object.prototype.hasOwnProperty,lE=Object.prototype.toString,Yx=Object.defineProperty,Xx=Object.getOwnPropertyDescriptor,Qx=function(t){return typeof Array.isArray=="function"?Array.isArray(t):lE.call(t)==="[object Array]"},Jx=function(t){if(!t||lE.call(t)!=="[object Object]")return!1;var n=Dl.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&Dl.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!n&&!r)return!1;var s;for(s in t);return typeof s>"u"||Dl.call(t,s)},Zx=function(t,n){Yx&&n.name==="__proto__"?Yx(t,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):t[n.name]=n.newValue},ew=function(t,n){if(n==="__proto__")if(Dl.call(t,n)){if(Xx)return Xx(t,n).value}else return;return t[n]},e$=function e(){var t,n,r,s,o,i,a=arguments[0],l=1,c=arguments.length,d=!1;for(typeof a=="boolean"&&(d=a,a=arguments[1]||{},l=2),(a==null||typeof a!="object"&&typeof a!="function")&&(a={});l<c;++l)if(t=arguments[l],t!=null)for(n in t)r=ew(a,n),s=ew(t,n),a!==s&&(d&&s&&(Jx(s)||(o=Qx(s)))?(o?(o=!1,i=r&&Qx(r)?r:[]):i=r&&Jx(r)?r:{},Zx(a,{name:n,newValue:e(d,i,s)})):typeof s<"u"&&Zx(a,{name:n,newValue:s}));return a};const Ld=Do(e$);function hh(e){if(typeof e!="object"||e===null)return!1;const t=Object.getPrototypeOf(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function t$(){const e=[],t={run:n,use:r};return t;function n(...s){let o=-1;const i=s.pop();if(typeof i!="function")throw new TypeError("Expected function as last argument, not "+i);a(null,...s);function a(l,...c){const d=e[++o];let h=-1;if(l){i(l);return}for(;++h<s.length;)(c[h]===null||c[h]===void 0)&&(c[h]=s[h]);s=c,d?n$(d,a)(...c):i(null,...c)}}function r(s){if(typeof s!="function")throw new TypeError("Expected `middelware` to be a function, not "+s);return e.push(s),t}}function n$(e,t){let n;return r;function r(...i){const a=e.length>i.length;let l;a&&i.push(s);try{l=e.apply(this,i)}catch(c){const d=c;if(a&&n)throw d;return s(d)}a||(l&&l.then&&typeof l.then=="function"?l.then(o,s):l instanceof Error?s(l):o(l))}function s(i,...a){n||(n=!0,t(i,...a))}function o(i){s(null,i)}}const Bn={basename:r$,dirname:s$,extname:o$,join:i$,sep:"/"};function r$(e,t){if(t!==void 0&&typeof t!="string")throw new TypeError('"ext" argument must be a string');Ea(e);let n=0,r=-1,s=e.length,o;if(t===void 0||t.length===0||t.length>e.length){for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else r<0&&(o=!0,r=s+1);return r<0?"":e.slice(n,r)}if(t===e)return"";let i=-1,a=t.length-1;for(;s--;)if(e.codePointAt(s)===47){if(o){n=s+1;break}}else i<0&&(o=!0,i=s+1),a>-1&&(e.codePointAt(s)===t.codePointAt(a--)?a<0&&(r=s):(a=-1,r=i));return n===r?r=i:r<0&&(r=e.length),e.slice(n,r)}function s$(e){if(Ea(e),e.length===0)return".";let t=-1,n=e.length,r;for(;--n;)if(e.codePointAt(n)===47){if(r){t=n;break}}else r||(r=!0);return t<0?e.codePointAt(0)===47?"/":".":t===1&&e.codePointAt(0)===47?"//":e.slice(0,t)}function o$(e){Ea(e);let t=e.length,n=-1,r=0,s=-1,o=0,i;for(;t--;){const a=e.codePointAt(t);if(a===47){if(i){r=t+1;break}continue}n<0&&(i=!0,n=t+1),a===46?s<0?s=t:o!==1&&(o=1):s>-1&&(o=-1)}return s<0||n<0||o===0||o===1&&s===n-1&&s===r+1?"":e.slice(s,n)}function i$(...e){let t=-1,n;for(;++t<e.length;)Ea(e[t]),e[t]&&(n=n===void 0?e[t]:n+"/"+e[t]);return n===void 0?".":a$(n)}function a$(e){Ea(e);const t=e.codePointAt(0)===47;let n=l$(e,!t);return n.length===0&&!t&&(n="."),n.length>0&&e.codePointAt(e.length-1)===47&&(n+="/"),t?"/"+n:n}function l$(e,t){let n="",r=0,s=-1,o=0,i=-1,a,l;for(;++i<=e.length;){if(i<e.length)a=e.codePointAt(i);else{if(a===47)break;a=47}if(a===47){if(!(s===i-1||o===1))if(s!==i-1&&o===2){if(n.length<2||r!==2||n.codePointAt(n.length-1)!==46||n.codePointAt(n.length-2)!==46){if(n.length>2){if(l=n.lastIndexOf("/"),l!==n.length-1){l<0?(n="",r=0):(n=n.slice(0,l),r=n.length-1-n.lastIndexOf("/")),s=i,o=0;continue}}else if(n.length>0){n="",r=0,s=i,o=0;continue}}t&&(n=n.length>0?n+"/..":"..",r=2)}else n.length>0?n+="/"+e.slice(s+1,i):n=e.slice(s+1,i),r=i-s-1;s=i,o=0}else a===46&&o>-1?o++:o=-1}return n}function Ea(e){if(typeof e!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(e))}const u$={cwd:c$};function c$(){return"/"}function ph(e){return!!(e!==null&&typeof e=="object"&&"href"in e&&e.href&&"protocol"in e&&e.protocol&&e.auth===void 0)}function d$(e){if(typeof e=="string")e=new URL(e);else if(!ph(e)){const t=new TypeError('The "path" argument must be of type string or an instance of URL. Received `'+e+"`");throw t.code="ERR_INVALID_ARG_TYPE",t}if(e.protocol!=="file:"){const t=new TypeError("The URL must be of scheme file");throw t.code="ERR_INVALID_URL_SCHEME",t}return f$(e)}function f$(e){if(e.hostname!==""){const r=new TypeError('File URL host must be "localhost" or empty on darwin');throw r.code="ERR_INVALID_FILE_URL_HOST",r}const t=e.pathname;let n=-1;for(;++n<t.length;)if(t.codePointAt(n)===37&&t.codePointAt(n+1)===50){const r=t.codePointAt(n+2);if(r===70||r===102){const s=new TypeError("File URL path must not include encoded / characters");throw s.code="ERR_INVALID_FILE_URL_PATH",s}}return decodeURIComponent(t)}const Dd=["history","path","basename","stem","extname","dirname"];class uE{constructor(t){let n;t?ph(t)?n={path:t}:typeof t=="string"||h$(t)?n={value:t}:n=t:n={},this.cwd="cwd"in n?"":u$.cwd(),this.data={},this.history=[],this.messages=[],this.value,this.map,this.result,this.stored;let r=-1;for(;++r<Dd.length;){const o=Dd[r];o in n&&n[o]!==void 0&&n[o]!==null&&(this[o]=o==="history"?[...n[o]]:n[o])}let s;for(s in n)Dd.includes(s)||(this[s]=n[s])}get basename(){return typeof this.path=="string"?Bn.basename(this.path):void 0}set basename(t){zd(t,"basename"),Fd(t,"basename"),this.path=Bn.join(this.dirname||"",t)}get dirname(){return typeof this.path=="string"?Bn.dirname(this.path):void 0}set dirname(t){tw(this.basename,"dirname"),this.path=Bn.join(t||"",this.basename)}get extname(){return typeof this.path=="string"?Bn.extname(this.path):void 0}set extname(t){if(Fd(t,"extname"),tw(this.dirname,"extname"),t){if(t.codePointAt(0)!==46)throw new Error("`extname` must start with `.`");if(t.includes(".",1))throw new Error("`extname` cannot contain multiple dots")}this.path=Bn.join(this.dirname,this.stem+(t||""))}get path(){return this.history[this.history.length-1]}set path(t){ph(t)&&(t=d$(t)),zd(t,"path"),this.path!==t&&this.history.push(t)}get stem(){return typeof this.path=="string"?Bn.basename(this.path,this.extname):void 0}set stem(t){zd(t,"stem"),Fd(t,"stem"),this.path=Bn.join(this.dirname||"",t+(this.extname||""))}fail(t,n,r){const s=this.message(t,n,r);throw s.fatal=!0,s}info(t,n,r){const s=this.message(t,n,r);return s.fatal=void 0,s}message(t,n,r){const s=new vt(t,n,r);return this.path&&(s.name=this.path+":"+s.name,s.file=this.path),s.fatal=!1,this.messages.push(s),s}toString(t){return this.value===void 0?"":typeof this.value=="string"?this.value:new TextDecoder(t||void 0).decode(this.value)}}function Fd(e,t){if(e&&e.includes(Bn.sep))throw new Error("`"+t+"` cannot be a path: did not expect `"+Bn.sep+"`")}function zd(e,t){if(!e)throw new Error("`"+t+"` cannot be empty")}function tw(e,t){if(!e)throw new Error("Setting `"+t+"` requires `path` to be set too")}function h$(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const p$=function(e){const r=this.constructor.prototype,s=r[e],o=function(){return s.apply(o,arguments)};return Object.setPrototypeOf(o,r),o},m$={}.hasOwnProperty;class cg extends p${constructor(){super("copy"),this.Compiler=void 0,this.Parser=void 0,this.attachers=[],this.compiler=void 0,this.freezeIndex=-1,this.frozen=void 0,this.namespace={},this.parser=void 0,this.transformers=t$()}copy(){const t=new cg;let n=-1;for(;++n<this.attachers.length;){const r=this.attachers[n];t.use(...r)}return t.data(Ld(!0,{},this.namespace)),t}data(t,n){return typeof t=="string"?arguments.length===2?(Ud("data",this.frozen),this.namespace[t]=n,this):m$.call(this.namespace,t)&&this.namespace[t]||void 0:t?(Ud("data",this.frozen),this.namespace=t,this):this.namespace}freeze(){if(this.frozen)return this;const t=this;for(;++this.freezeIndex<this.attachers.length;){const[n,...r]=this.attachers[this.freezeIndex];if(r[0]===!1)continue;r[0]===!0&&(r[0]=void 0);const s=n.call(t,...r);typeof s=="function"&&this.transformers.use(s)}return this.frozen=!0,this.freezeIndex=Number.POSITIVE_INFINITY,this}parse(t){this.freeze();const n=dl(t),r=this.parser||this.Parser;return Bd("parse",r),r(String(n),n)}process(t,n){const r=this;return this.freeze(),Bd("process",this.parser||this.Parser),$d("process",this.compiler||this.Compiler),n?s(void 0,n):new Promise(s);function s(o,i){const a=dl(t),l=r.parse(a);r.run(l,a,function(d,h,p){if(d||!h||!p)return c(d);const m=h,v=r.stringify(m,p);v$(v)?p.value=v:p.result=v,c(d,p)});function c(d,h){d||!h?i(d):o?o(h):n(void 0,h)}}}processSync(t){let n=!1,r;return this.freeze(),Bd("processSync",this.parser||this.Parser),$d("processSync",this.compiler||this.Compiler),this.process(t,s),rw("processSync","process",n),r;function s(o,i){n=!0,Gx(o),r=i}}run(t,n,r){nw(t),this.freeze();const s=this.transformers;return!r&&typeof n=="function"&&(r=n,n=void 0),r?o(void 0,r):new Promise(o);function o(i,a){const l=dl(n);s.run(t,l,c);function c(d,h,p){const m=h||t;d?a(d):i?i(m):r(void 0,m,p)}}}runSync(t,n){let r=!1,s;return this.run(t,n,o),rw("runSync","run",r),s;function o(i,a){Gx(i),s=a,r=!0}}stringify(t,n){this.freeze();const r=dl(n),s=this.compiler||this.Compiler;return $d("stringify",s),nw(t),s(t,r)}use(t,...n){const r=this.attachers,s=this.namespace;if(Ud("use",this.frozen),t!=null)if(typeof t=="function")l(t,n);else if(typeof t=="object")Array.isArray(t)?a(t):i(t);else throw new TypeError("Expected usable value, not `"+t+"`");return this;function o(c){if(typeof c=="function")l(c,[]);else if(typeof c=="object")if(Array.isArray(c)){const[d,...h]=c;l(d,h)}else i(c);else throw new TypeError("Expected usable value, not `"+c+"`")}function i(c){if(!("plugins"in c)&&!("settings"in c))throw new Error("Expected usable value but received an empty preset, which is probably a mistake: presets typically come with `plugins` and sometimes with `settings`, but this has neither");a(c.plugins),c.settings&&(s.settings=Ld(!0,s.settings,c.settings))}function a(c){let d=-1;if(c!=null)if(Array.isArray(c))for(;++d<c.length;){const h=c[d];o(h)}else throw new TypeError("Expected a list of plugins, not `"+c+"`")}function l(c,d){let h=-1,p=-1;for(;++h<r.length;)if(r[h][0]===c){p=h;break}if(p===-1)r.push([c,...d]);else if(d.length>0){let[m,...v]=d;const y=r[p][1];hh(y)&&hh(m)&&(m=Ld(!0,y,m)),r[p]=[c,m,...v]}}}}const g$=new cg().freeze();function Bd(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `parser`")}function $d(e,t){if(typeof t!="function")throw new TypeError("Cannot `"+e+"` without `compiler`")}function Ud(e,t){if(t)throw new Error("Cannot call `"+e+"` on a frozen processor.\nCreate a new processor first, by calling it: use `processor()` instead of `processor`.")}function nw(e){if(!hh(e)||typeof e.type!="string")throw new TypeError("Expected node, got `"+e+"`")}function rw(e,t,n){if(!n)throw new Error("`"+e+"` finished async. Use `"+t+"` instead")}function dl(e){return y$(e)?e:new uE(e)}function y$(e){return!!(e&&typeof e=="object"&&"message"in e&&"messages"in e)}function v$(e){return typeof e=="string"||x$(e)}function x$(e){return!!(e&&typeof e=="object"&&"byteLength"in e&&"byteOffset"in e)}const w$="https://github.com/remarkjs/react-markdown/blob/main/changelog.md",sw=[],ow={allowDangerousHtml:!0},b$=/^(https?|ircs?|mailto|xmpp)$/i,S$=[{from:"astPlugins",id:"remove-buggy-html-in-markdown-parser"},{from:"allowDangerousHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"allowNode",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowElement"},{from:"allowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"allowedElements"},{from:"className",id:"remove-classname"},{from:"disallowedTypes",id:"replace-allownode-allowedtypes-and-disallowedtypes",to:"disallowedElements"},{from:"escapeHtml",id:"remove-buggy-html-in-markdown-parser"},{from:"includeElementIndex",id:"#remove-includeelementindex"},{from:"includeNodeIndex",id:"change-includenodeindex-to-includeelementindex"},{from:"linkTarget",id:"remove-linktarget"},{from:"plugins",id:"change-plugins-to-remarkplugins",to:"remarkPlugins"},{from:"rawSourcePos",id:"#remove-rawsourcepos"},{from:"renderers",id:"change-renderers-to-components",to:"components"},{from:"source",id:"change-source-to-children",to:"children"},{from:"sourcePos",id:"#remove-sourcepos"},{from:"transformImageUri",id:"#add-urltransform",to:"urlTransform"},{from:"transformLinkUri",id:"#add-urltransform",to:"urlTransform"}];function _$(e){const t=C$(e),n=k$(e);return E$(t.runSync(t.parse(n),n),e)}function C$(e){const t=e.rehypePlugins||sw,n=e.remarkPlugins||sw,r=e.remarkRehypeOptions?{...e.remarkRehypeOptions,...ow}:ow;return g$().use(s4).use(n).use(Z4,r).use(t)}function k$(e){const t=e.children||"",n=new uE;return typeof t=="string"&&(n.value=t),n}function E$(e,t){const n=t.allowedElements,r=t.allowElement,s=t.components,o=t.disallowedElements,i=t.skipHtml,a=t.unwrapDisallowed,l=t.urlTransform||T$;for(const d of S$)Object.hasOwn(t,d.from)&&(""+d.from+(d.to?"use `"+d.to+"` instead":"remove it")+w$+d.id,void 0);return aE(e,c),Dz(e,{Fragment:u.Fragment,components:s,ignoreInvalidStyle:!0,jsx:u.jsx,jsxs:u.jsxs,passKeys:!0,passNode:!0});function c(d,h,p){if(d.type==="raw"&&p&&typeof h=="number")return i?p.children.splice(h,1):p.children[h]={type:"text",value:d.value},h;if(d.type==="element"){let m;for(m in jd)if(Object.hasOwn(jd,m)&&Object.hasOwn(d.properties,m)){const v=d.properties[m],y=jd[m];(y===null||y.includes(d.tagName))&&(d.properties[m]=l(String(v||""),m,d))}}if(d.type==="element"){let m=n?!n.includes(d.tagName):o?o.includes(d.tagName):!1;if(!m&&r&&typeof h=="number"&&(m=!r(d,h,p)),m&&p&&typeof h=="number")return a&&d.children?p.children.splice(h,1,...d.children):p.children.splice(h,1),h}}}function T$(e){const t=e.indexOf(":"),n=e.indexOf("?"),r=e.indexOf("#"),s=e.indexOf("/");return t===-1||s!==-1&&t>s||n!==-1&&t>n||r!==-1&&t>r||b$.test(e.slice(0,t))?e:""}const R$=(e,t)=>typeof e=="string"?e===t:JSON.stringify(e)===JSON.stringify(t),N$=(e,t)=>{if(!e||!t)return!1;const n=r=>{const{position:s,data:o,...i}=r||{};return i};return JSON.stringify(n(e.properties))===JSON.stringify(n(t.properties))&&R$(e.children,t.children)},dg=(e,t)=>N$(e.node,t.node),I$=(e={})=>Object.fromEntries(Object.entries(e??{}).map(([t,n])=>{if(!n)return[t,n];const r=n,s=({node:o,...i})=>u.jsx(r,{...i});return[t,f.memo(s,dg)]})),fg=f.createContext(null),cE=()=>f.useContext(fg)!==null,P$=({children:e,...t})=>u.jsx(fg.Provider,{value:t,children:e}),A$=f.memo(P$,dg),j$=({node:e,...t})=>u.jsx("pre",{...t}),M$=({node:e,...t})=>u.jsx("code",{...t}),hg=({node:e,components:{Pre:t,Code:n},code:r})=>u.jsx(t,{children:u.jsx(n,{node:e,children:r})}),O$=()=>null,L$=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},language:o,code:i})=>{const a=f.useMemo(()=>({Pre:t,Code:n}),[t,n]),l=o?r:hg;return u.jsxs(u.Fragment,{children:[u.jsx(s,{node:e,language:o,code:i}),u.jsx(l,{node:e,components:a,language:o??"unknown",code:i})]})},iw=({className:e,...t})=>({className:n,...r})=>({className:q(e,n),...t,...r}),D$=({node:e,components:{Pre:t,Code:n,SyntaxHighlighter:r,CodeHeader:s},componentsByLanguage:o={},children:i,...a})=>{var b,g,x;const l=f.useContext(fg),c=iw(l),d=We(w=>u.jsx(t,{...c(w)})),h=iw(a),p=We(w=>u.jsx(n,{...h(w)})),m=((b=/language-(\w+)/.exec(a.className||""))==null?void 0:b[1])??"";if(typeof i!="string")return u.jsx(hg,{node:e,components:{Pre:d,Code:p},code:i});const v=((g=o[m])==null?void 0:g.SyntaxHighlighter)??r,y=((x=o[m])==null?void 0:x.CodeHeader)??s;return u.jsx(L$,{node:e,components:{Pre:d,Code:p,SyntaxHighlighter:v,CodeHeader:y},language:m||"unknown",code:i})},F$=({node:e,components:t,componentsByLanguage:n,...r})=>cE()?u.jsx(D$,{node:e,components:t,componentsByLanguage:n,...r}):u.jsx(t.Code,{...r}),z$=f.memo(F$,(e,t)=>e.components===t.components&&e.componentsByLanguage===t.componentsByLanguage&&dg(e,t)),{useSmooth:B$,useSmoothStatus:$$,withSmoothContextProvider:U$}=Pp,H$=({components:e,componentsByLanguage:t,smooth:n=!0,preprocess:r,...s})=>{const o=FC(),i=f.useMemo(()=>r?{...o,text:r(o.text)}:o,[o,r]),{text:a}=B$(i,n),{pre:l=j$,code:c=M$,SyntaxHighlighter:d=hg,CodeHeader:h=O$}=e??{},p=f.useMemo(()=>({Pre:l,Code:c,SyntaxHighlighter:d,CodeHeader:h}),[l,c,d,h]),m=We(y=>u.jsx(z$,{components:p,componentsByLanguage:t,...y})),v=f.useMemo(()=>{const{pre:y,code:b,SyntaxHighlighter:g,CodeHeader:x,...w}=e??{};return{...w,pre:A$,code:m}},[m,e]);return u.jsx(_$,{components:v,...s,children:a})},dE=f.forwardRef(({className:e,containerProps:t,containerComponent:n="div",...r},s)=>{const o=$$();return u.jsx(n,{"data-status":o.type,...t,className:q(e,t==null?void 0:t.className),ref:s,children:u.jsx(H$,{...r})})});dE.displayName="MarkdownTextPrimitive";const V$=U$(dE);var{withSmoothContextProvider:W$,useSmoothStatus:K$}=Pp,q$=I$({h1:({className:e,...t})=>u.jsx("h1",{className:q("aui-md-h1",e),...t}),h2:({className:e,...t})=>u.jsx("h2",{className:q("aui-md-h2",e),...t}),h3:({className:e,...t})=>u.jsx("h3",{className:q("aui-md-h3",e),...t}),h4:({className:e,...t})=>u.jsx("h4",{className:q("aui-md-h4",e),...t}),h5:({className:e,...t})=>u.jsx("h5",{className:q("aui-md-h5",e),...t}),h6:({className:e,...t})=>u.jsx("h6",{className:q("aui-md-h6",e),...t}),p:({className:e,...t})=>u.jsx("p",{className:q("aui-md-p",e),...t}),a:({className:e,...t})=>u.jsx("a",{className:q("aui-md-a",e),...t}),blockquote:({className:e,...t})=>u.jsx("blockquote",{className:q("aui-md-blockquote",e),...t}),ul:({className:e,...t})=>u.jsx("ul",{className:q("aui-md-ul",e),...t}),ol:({className:e,...t})=>u.jsx("ol",{className:q("aui-md-ol",e),...t}),hr:({className:e,...t})=>u.jsx("hr",{className:q("aui-md-hr",e),...t}),table:({className:e,...t})=>u.jsx("table",{className:q("aui-md-table",e),...t}),th:({className:e,...t})=>u.jsx("th",{className:q("aui-md-th",e),...t}),td:({className:e,...t})=>u.jsx("td",{className:q("aui-md-td",e),...t}),tr:({className:e,...t})=>u.jsx("tr",{className:q("aui-md-tr",e),...t}),sup:({className:e,...t})=>u.jsx("sup",{className:q("aui-md-sup",e),...t}),pre:({className:e,...t})=>u.jsx("pre",{className:q("aui-md-pre",e),...t}),code:function({className:t,...n}){const r=cE();return u.jsx("code",{className:q(!r&&"aui-md-inline-code",t),...n})},CodeHeader:BF}),G$=({className:e,components:t,...n}={})=>{const r={...q$,...Object.fromEntries(Object.entries(t??{}).filter(([o,i])=>i!==void 0))},s=()=>{const o=K$();return u.jsx(V$,{components:r,...n,className:q(o.type==="running"&&"aui-md-running",e)})};return s.displayName="MarkdownText",f.memo(W$(s),()=>!0)};function fE(e){const t=f.useRef({value:e,previous:e});return f.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}function mh(e,[t,n]){return Math.min(n,Math.max(t,e))}function Y$(e,t){return f.useReducer((n,r)=>t[n][r]??n,e)}var pg="ScrollArea",[hE]=Jn(pg),[X$,dn]=hE(pg),pE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,type:r="hover",dir:s,scrollHideDelay:o=600,...i}=e,[a,l]=f.useState(null),[c,d]=f.useState(null),[h,p]=f.useState(null),[m,v]=f.useState(null),[y,b]=f.useState(null),[g,x]=f.useState(0),[w,C]=f.useState(0),[R,S]=f.useState(!1),[T,N]=f.useState(!1),M=me(t,L=>l(L)),A=rc(s);return u.jsx(X$,{scope:n,type:r,dir:A,scrollHideDelay:o,scrollArea:a,viewport:c,onViewportChange:d,content:h,onContentChange:p,scrollbarX:m,onScrollbarXChange:v,scrollbarXEnabled:R,onScrollbarXEnabledChange:S,scrollbarY:y,onScrollbarYChange:b,scrollbarYEnabled:T,onScrollbarYEnabledChange:N,onCornerWidthChange:x,onCornerHeightChange:C,children:u.jsx(se.div,{dir:A,...i,ref:M,style:{position:"relative","--radix-scroll-area-corner-width":g+"px","--radix-scroll-area-corner-height":w+"px",...e.style}})})});pE.displayName=pg;var mE="ScrollAreaViewport",gE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,children:r,nonce:s,...o}=e,i=dn(mE,n),a=f.useRef(null),l=me(t,a,i.onViewportChange);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}"},nonce:s}),u.jsx(se.div,{"data-radix-scroll-area-viewport":"",...o,ref:l,style:{overflowX:i.scrollbarXEnabled?"scroll":"hidden",overflowY:i.scrollbarYEnabled?"scroll":"hidden",...e.style},children:u.jsx("div",{ref:i.onContentChange,style:{minWidth:"100%",display:"table"},children:r})})]})});gE.displayName=mE;var tr="ScrollAreaScrollbar",yE=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dn(tr,e.__scopeScrollArea),{onScrollbarXEnabledChange:o,onScrollbarYEnabledChange:i}=s,a=e.orientation==="horizontal";return f.useEffect(()=>(a?o(!0):i(!0),()=>{a?o(!1):i(!1)}),[a,o,i]),s.type==="hover"?u.jsx(Q$,{...r,ref:t,forceMount:n}):s.type==="scroll"?u.jsx(J$,{...r,ref:t,forceMount:n}):s.type==="auto"?u.jsx(vE,{...r,ref:t,forceMount:n}):s.type==="always"?u.jsx(mg,{...r,ref:t}):null});yE.displayName=tr;var Q$=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dn(tr,e.__scopeScrollArea),[o,i]=f.useState(!1);return f.useEffect(()=>{const a=s.scrollArea;let l=0;if(a){const c=()=>{window.clearTimeout(l),i(!0)},d=()=>{l=window.setTimeout(()=>i(!1),s.scrollHideDelay)};return a.addEventListener("pointerenter",c),a.addEventListener("pointerleave",d),()=>{window.clearTimeout(l),a.removeEventListener("pointerenter",c),a.removeEventListener("pointerleave",d)}}},[s.scrollArea,s.scrollHideDelay]),u.jsx(er,{present:n||o,children:u.jsx(vE,{"data-state":o?"visible":"hidden",...r,ref:t})})}),J$=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=dn(tr,e.__scopeScrollArea),o=e.orientation==="horizontal",i=Sc(()=>l("SCROLL_END"),100),[a,l]=Y$("hidden",{hidden:{SCROLL:"scrolling"},scrolling:{SCROLL_END:"idle",POINTER_ENTER:"interacting"},interacting:{SCROLL:"interacting",POINTER_LEAVE:"idle"},idle:{HIDE:"hidden",SCROLL:"scrolling",POINTER_ENTER:"interacting"}});return f.useEffect(()=>{if(a==="idle"){const c=window.setTimeout(()=>l("HIDE"),s.scrollHideDelay);return()=>window.clearTimeout(c)}},[a,s.scrollHideDelay,l]),f.useEffect(()=>{const c=s.viewport,d=o?"scrollLeft":"scrollTop";if(c){let h=c[d];const p=()=>{const m=c[d];h!==m&&(l("SCROLL"),i()),h=m};return c.addEventListener("scroll",p),()=>c.removeEventListener("scroll",p)}},[s.viewport,o,l,i]),u.jsx(er,{present:n||a!=="hidden",children:u.jsx(mg,{"data-state":a==="hidden"?"hidden":"visible",...r,ref:t,onPointerEnter:J(e.onPointerEnter,()=>l("POINTER_ENTER")),onPointerLeave:J(e.onPointerLeave,()=>l("POINTER_LEAVE"))})})}),vE=f.forwardRef((e,t)=>{const n=dn(tr,e.__scopeScrollArea),{forceMount:r,...s}=e,[o,i]=f.useState(!1),a=e.orientation==="horizontal",l=Sc(()=>{if(n.viewport){const c=n.viewport.offsetWidth<n.viewport.scrollWidth,d=n.viewport.offsetHeight<n.viewport.scrollHeight;i(a?c:d)}},10);return Lo(n.viewport,l),Lo(n.content,l),u.jsx(er,{present:r||o,children:u.jsx(mg,{"data-state":o?"visible":"hidden",...s,ref:t})})}),mg=f.forwardRef((e,t)=>{const{orientation:n="vertical",...r}=e,s=dn(tr,e.__scopeScrollArea),o=f.useRef(null),i=f.useRef(0),[a,l]=f.useState({content:0,viewport:0,scrollbar:{size:0,paddingStart:0,paddingEnd:0}}),c=_E(a.viewport,a.content),d={...r,sizes:a,onSizesChange:l,hasThumb:c>0&&c<1,onThumbChange:p=>o.current=p,onThumbPointerUp:()=>i.current=0,onThumbPointerDown:p=>i.current=p};function h(p,m){return s5(p,i.current,a,m)}return n==="horizontal"?u.jsx(Z$,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollLeft,m=aw(p,a,s.dir);o.current.style.transform=`translate3d(${m}px, 0, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollLeft=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollLeft=h(p,s.dir))}}):n==="vertical"?u.jsx(e5,{...d,ref:t,onThumbPositionChange:()=>{if(s.viewport&&o.current){const p=s.viewport.scrollTop,m=aw(p,a);o.current.style.transform=`translate3d(0, ${m}px, 0)`}},onWheelScroll:p=>{s.viewport&&(s.viewport.scrollTop=p)},onDragScroll:p=>{s.viewport&&(s.viewport.scrollTop=h(p))}}):null}),Z$=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=dn(tr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=me(t,l,o.onScrollbarXChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(wE,{"data-orientation":"horizontal",...s,ref:c,sizes:n,style:{bottom:0,left:o.dir==="rtl"?"var(--radix-scroll-area-corner-width)":0,right:o.dir==="ltr"?"var(--radix-scroll-area-corner-width)":0,"--radix-scroll-area-thumb-width":bc(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.x),onDragScroll:d=>e.onDragScroll(d.x),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollLeft+d.deltaX;e.onWheelScroll(p),kE(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollWidth,viewport:o.viewport.offsetWidth,scrollbar:{size:l.current.clientWidth,paddingStart:Ru(i.paddingLeft),paddingEnd:Ru(i.paddingRight)}})}})}),e5=f.forwardRef((e,t)=>{const{sizes:n,onSizesChange:r,...s}=e,o=dn(tr,e.__scopeScrollArea),[i,a]=f.useState(),l=f.useRef(null),c=me(t,l,o.onScrollbarYChange);return f.useEffect(()=>{l.current&&a(getComputedStyle(l.current))},[l]),u.jsx(wE,{"data-orientation":"vertical",...s,ref:c,sizes:n,style:{top:0,right:o.dir==="ltr"?0:void 0,left:o.dir==="rtl"?0:void 0,bottom:"var(--radix-scroll-area-corner-height)","--radix-scroll-area-thumb-height":bc(n)+"px",...e.style},onThumbPointerDown:d=>e.onThumbPointerDown(d.y),onDragScroll:d=>e.onDragScroll(d.y),onWheelScroll:(d,h)=>{if(o.viewport){const p=o.viewport.scrollTop+d.deltaY;e.onWheelScroll(p),kE(p,h)&&d.preventDefault()}},onResize:()=>{l.current&&o.viewport&&i&&r({content:o.viewport.scrollHeight,viewport:o.viewport.offsetHeight,scrollbar:{size:l.current.clientHeight,paddingStart:Ru(i.paddingTop),paddingEnd:Ru(i.paddingBottom)}})}})}),[t5,xE]=hE(tr),wE=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,sizes:r,hasThumb:s,onThumbChange:o,onThumbPointerUp:i,onThumbPointerDown:a,onThumbPositionChange:l,onDragScroll:c,onWheelScroll:d,onResize:h,...p}=e,m=dn(tr,n),[v,y]=f.useState(null),b=me(t,M=>y(M)),g=f.useRef(null),x=f.useRef(""),w=m.viewport,C=r.content-r.viewport,R=We(d),S=We(l),T=Sc(h,10);function N(M){if(g.current){const A=M.clientX-g.current.left,L=M.clientY-g.current.top;c({x:A,y:L})}}return f.useEffect(()=>{const M=A=>{const L=A.target;(v==null?void 0:v.contains(L))&&R(A,C)};return document.addEventListener("wheel",M,{passive:!1}),()=>document.removeEventListener("wheel",M,{passive:!1})},[w,v,C,R]),f.useEffect(S,[r,S]),Lo(v,T),Lo(m.content,T),u.jsx(t5,{scope:n,scrollbar:v,hasThumb:s,onThumbChange:We(o),onThumbPointerUp:We(i),onThumbPositionChange:S,onThumbPointerDown:We(a),children:u.jsx(se.div,{...p,ref:b,style:{position:"absolute",...p.style},onPointerDown:J(e.onPointerDown,M=>{M.button===0&&(M.target.setPointerCapture(M.pointerId),g.current=v.getBoundingClientRect(),x.current=document.body.style.webkitUserSelect,document.body.style.webkitUserSelect="none",m.viewport&&(m.viewport.style.scrollBehavior="auto"),N(M))}),onPointerMove:J(e.onPointerMove,N),onPointerUp:J(e.onPointerUp,M=>{const A=M.target;A.hasPointerCapture(M.pointerId)&&A.releasePointerCapture(M.pointerId),document.body.style.webkitUserSelect=x.current,m.viewport&&(m.viewport.style.scrollBehavior=""),g.current=null})})})}),Tu="ScrollAreaThumb",bE=f.forwardRef((e,t)=>{const{forceMount:n,...r}=e,s=xE(Tu,e.__scopeScrollArea);return u.jsx(er,{present:n||s.hasThumb,children:u.jsx(n5,{ref:t,...r})})}),n5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,style:r,...s}=e,o=dn(Tu,n),i=xE(Tu,n),{onThumbPositionChange:a}=i,l=me(t,h=>i.onThumbChange(h)),c=f.useRef(void 0),d=Sc(()=>{c.current&&(c.current(),c.current=void 0)},100);return f.useEffect(()=>{const h=o.viewport;if(h){const p=()=>{if(d(),!c.current){const m=o5(h,a);c.current=m,a()}};return a(),h.addEventListener("scroll",p),()=>h.removeEventListener("scroll",p)}},[o.viewport,d,a]),u.jsx(se.div,{"data-state":i.hasThumb?"visible":"hidden",...s,ref:l,style:{width:"var(--radix-scroll-area-thumb-width)",height:"var(--radix-scroll-area-thumb-height)",...r},onPointerDownCapture:J(e.onPointerDownCapture,h=>{const m=h.target.getBoundingClientRect(),v=h.clientX-m.left,y=h.clientY-m.top;i.onThumbPointerDown({x:v,y})}),onPointerUp:J(e.onPointerUp,i.onThumbPointerUp)})});bE.displayName=Tu;var gg="ScrollAreaCorner",SE=f.forwardRef((e,t)=>{const n=dn(gg,e.__scopeScrollArea),r=!!(n.scrollbarX&&n.scrollbarY);return n.type!=="scroll"&&r?u.jsx(r5,{...e,ref:t}):null});SE.displayName=gg;var r5=f.forwardRef((e,t)=>{const{__scopeScrollArea:n,...r}=e,s=dn(gg,n),[o,i]=f.useState(0),[a,l]=f.useState(0),c=!!(o&&a);return Lo(s.scrollbarX,()=>{var h;const d=((h=s.scrollbarX)==null?void 0:h.offsetHeight)||0;s.onCornerHeightChange(d),l(d)}),Lo(s.scrollbarY,()=>{var h;const d=((h=s.scrollbarY)==null?void 0:h.offsetWidth)||0;s.onCornerWidthChange(d),i(d)}),c?u.jsx(se.div,{...r,ref:t,style:{width:o,height:a,position:"absolute",right:s.dir==="ltr"?0:void 0,left:s.dir==="rtl"?0:void 0,bottom:0,...e.style}}):null});function Ru(e){return e?parseInt(e,10):0}function _E(e,t){const n=e/t;return isNaN(n)?0:n}function bc(e){const t=_E(e.viewport,e.content),n=e.scrollbar.paddingStart+e.scrollbar.paddingEnd,r=(e.scrollbar.size-n)*t;return Math.max(r,18)}function s5(e,t,n,r="ltr"){const s=bc(n),o=s/2,i=t||o,a=s-i,l=n.scrollbar.paddingStart+i,c=n.scrollbar.size-n.scrollbar.paddingEnd-a,d=n.content-n.viewport,h=r==="ltr"?[0,d]:[d*-1,0];return CE([l,c],h)(e)}function aw(e,t,n="ltr"){const r=bc(t),s=t.scrollbar.paddingStart+t.scrollbar.paddingEnd,o=t.scrollbar.size-s,i=t.content-t.viewport,a=o-r,l=n==="ltr"?[0,i]:[i*-1,0],c=mh(e,l);return CE([0,i],[0,a])(c)}function CE(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function kE(e,t){return e>0&&e<t}var o5=(e,t=()=>{})=>{let n={left:e.scrollLeft,top:e.scrollTop},r=0;return function s(){const o={left:e.scrollLeft,top:e.scrollTop},i=n.left!==o.left,a=n.top!==o.top;(i||a)&&t(),n=o,r=window.requestAnimationFrame(s)}(),()=>window.cancelAnimationFrame(r)};function Sc(e,t){const n=We(e),r=f.useRef(0);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),f.useCallback(()=>{window.clearTimeout(r.current),r.current=window.setTimeout(n,t)},[n,t])}function Lo(e,t){const n=We(t);Qe(()=>{let r=0;if(e){const s=new ResizeObserver(()=>{cancelAnimationFrame(r),r=window.requestAnimationFrame(n)});return s.observe(e),()=>{window.cancelAnimationFrame(r),s.unobserve(e)}}},[e,n])}var EE=pE,TE=gE,gh=yE,yh=bE,i5=SE,a5=[" ","Enter","ArrowUp","ArrowDown"],l5=[" ","Enter"],As="Select",[_c,Cc,u5]=B_(As),[qo]=Jn(As,[u5,uc]),kc=uc(),[c5,rs]=qo(As),[d5,f5]=qo(As),RE=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:s,onOpenChange:o,value:i,defaultValue:a,onValueChange:l,dir:c,name:d,autoComplete:h,disabled:p,required:m,form:v}=e,y=kc(t),[b,g]=f.useState(null),[x,w]=f.useState(null),[C,R]=f.useState(!1),S=rc(c),[T,N]=Ns({prop:r,defaultProp:s??!1,onChange:o,caller:As}),[M,A]=Ns({prop:i,defaultProp:a,onChange:l,caller:As}),L=f.useRef(null),I=b?v||!!b.closest("form"):!0,[V,$]=f.useState(new Set),W=Array.from(V).map(H=>H.props.value).join(";");return u.jsx(pC,{...y,children:u.jsxs(c5,{required:m,scope:t,trigger:b,onTriggerChange:g,valueNode:x,onValueNodeChange:w,valueNodeHasChildren:C,onValueNodeHasChildrenChange:R,contentId:dr(),value:M,onValueChange:A,open:T,onOpenChange:N,dir:S,triggerPointerDownPosRef:L,disabled:p,children:[u.jsx(_c.Provider,{scope:t,children:u.jsx(d5,{scope:e.__scopeSelect,onNativeOptionAdd:f.useCallback(H=>{$(G=>new Set(G).add(H))},[]),onNativeOptionRemove:f.useCallback(H=>{$(G=>{const j=new Set(G);return j.delete(H),j})},[]),children:n})}),I?u.jsxs(QE,{"aria-hidden":!0,required:m,tabIndex:-1,name:d,autoComplete:h,value:M,onChange:H=>A(H.target.value),disabled:p,form:v,children:[M===void 0?u.jsx("option",{value:""}):null,Array.from(V)]},W):null]})})};RE.displayName=As;var NE="SelectTrigger",IE=f.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...s}=e,o=kc(n),i=rs(NE,n),a=i.disabled||r,l=me(t,i.onTriggerChange),c=Cc(n),d=f.useRef("touch"),[h,p,m]=ZE(y=>{const b=c().filter(w=>!w.disabled),g=b.find(w=>w.value===i.value),x=e1(b,y,g);x!==void 0&&i.onValueChange(x.value)}),v=y=>{a||(i.onOpenChange(!0),m()),y&&(i.triggerPointerDownPosRef.current={x:Math.round(y.pageX),y:Math.round(y.pageY)})};return u.jsx(mC,{asChild:!0,...o,children:u.jsx(se.button,{type:"button",role:"combobox","aria-controls":i.contentId,"aria-expanded":i.open,"aria-required":i.required,"aria-autocomplete":"none",dir:i.dir,"data-state":i.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":JE(i.value)?"":void 0,...s,ref:l,onClick:J(s.onClick,y=>{y.currentTarget.focus(),d.current!=="mouse"&&v(y)}),onPointerDown:J(s.onPointerDown,y=>{d.current=y.pointerType;const b=y.target;b.hasPointerCapture(y.pointerId)&&b.releasePointerCapture(y.pointerId),y.button===0&&y.ctrlKey===!1&&y.pointerType==="mouse"&&(v(y),y.preventDefault())}),onKeyDown:J(s.onKeyDown,y=>{const b=h.current!=="";!(y.ctrlKey||y.altKey||y.metaKey)&&y.key.length===1&&p(y.key),!(b&&y.key===" ")&&a5.includes(y.key)&&(v(),y.preventDefault())})})})});IE.displayName=NE;var PE="SelectValue",AE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,children:o,placeholder:i="",...a}=e,l=rs(PE,n),{onValueNodeHasChildrenChange:c}=l,d=o!==void 0,h=me(t,l.onValueNodeChange);return Qe(()=>{c(d)},[c,d]),u.jsx(se.span,{...a,ref:h,style:{pointerEvents:"none"},children:JE(l.value)?u.jsx(u.Fragment,{children:i}):o})});AE.displayName=PE;var h5="SelectIcon",jE=f.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...s}=e;return u.jsx(se.span,{"aria-hidden":!0,...s,ref:t,children:r||""})});jE.displayName=h5;var p5="SelectPortal",ME=e=>u.jsx(Vp,{asChild:!0,...e});ME.displayName=p5;var js="SelectContent",OE=f.forwardRef((e,t)=>{const n=rs(js,e.__scopeSelect),[r,s]=f.useState();if(Qe(()=>{s(new DocumentFragment)},[]),!n.open){const o=r;return o?$o.createPortal(u.jsx(LE,{scope:e.__scopeSelect,children:u.jsx(_c.Slot,{scope:e.__scopeSelect,children:u.jsx("div",{children:e.children})})}),o):null}return u.jsx(DE,{...e,ref:t})});OE.displayName=js;var mn=10,[LE,ss]=qo(js),m5="SelectContentImpl",g5=Ao("SelectContent.RemoveScroll"),DE=f.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:o,onPointerDownOutside:i,side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:b,...g}=e,x=rs(js,n),[w,C]=f.useState(null),[R,S]=f.useState(null),T=me(t,Q=>C(Q)),[N,M]=f.useState(null),[A,L]=f.useState(null),I=Cc(n),[V,$]=f.useState(!1),W=f.useRef(!1);f.useEffect(()=>{if(w)return kC(w)},[w]),V_();const H=f.useCallback(Q=>{const[de,...Pe]=I().map(Ce=>Ce.ref.current),[ye]=Pe.slice(-1),fe=document.activeElement;for(const Ce of Q)if(Ce===fe||(Ce==null||Ce.scrollIntoView({block:"nearest"}),Ce===de&&R&&(R.scrollTop=0),Ce===ye&&R&&(R.scrollTop=R.scrollHeight),Ce==null||Ce.focus(),document.activeElement!==fe))return},[I,R]),G=f.useCallback(()=>H([N,w]),[H,N,w]);f.useEffect(()=>{V&&G()},[V,G]);const{onOpenChange:j,triggerPointerDownPosRef:B}=x;f.useEffect(()=>{if(w){let Q={x:0,y:0};const de=ye=>{var fe,Ce;Q={x:Math.abs(Math.round(ye.pageX)-(((fe=B.current)==null?void 0:fe.x)??0)),y:Math.abs(Math.round(ye.pageY)-(((Ce=B.current)==null?void 0:Ce.y)??0))}},Pe=ye=>{Q.x<=10&&Q.y<=10?ye.preventDefault():w.contains(ye.target)||j(!1),document.removeEventListener("pointermove",de),B.current=null};return B.current!==null&&(document.addEventListener("pointermove",de),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",de),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[w,j,B]),f.useEffect(()=>{const Q=()=>j(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[j]);const[_,te]=ZE(Q=>{const de=I().filter(fe=>!fe.disabled),Pe=de.find(fe=>fe.ref.current===document.activeElement),ye=e1(de,Q,Pe);ye&&setTimeout(()=>ye.ref.current.focus())}),ce=f.useCallback((Q,de,Pe)=>{const ye=!W.current&&!Pe;(x.value!==void 0&&x.value===de||ye)&&(M(Q),ye&&(W.current=!0))},[x.value]),E=f.useCallback(()=>w==null?void 0:w.focus(),[w]),Te=f.useCallback((Q,de,Pe)=>{const ye=!W.current&&!Pe;(x.value!==void 0&&x.value===de||ye)&&L(Q)},[x.value]),Ke=r==="popper"?vh:FE,ge=Ke===vh?{side:a,sideOffset:l,align:c,alignOffset:d,arrowPadding:h,collisionBoundary:p,collisionPadding:m,sticky:v,hideWhenDetached:y,avoidCollisions:b}:{};return u.jsx(LE,{scope:n,content:w,viewport:R,onViewportChange:S,itemRefCallback:ce,selectedItem:N,onItemLeave:E,itemTextRefCallback:Te,focusSelectedItem:G,selectedItemText:A,position:r,isPositioned:V,searchRef:_,children:u.jsx(Wp,{as:g5,allowPinchZoom:!0,children:u.jsx(Op,{asChild:!0,trapped:x.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:J(s,Q=>{var de;(de=x.trigger)==null||de.focus({preventScroll:!0}),Q.preventDefault()}),children:u.jsx(sc,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:i,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>x.onOpenChange(!1),children:u.jsx(Ke,{role:"listbox",id:x.contentId,"data-state":x.open?"open":"closed",dir:x.dir,onContextMenu:Q=>Q.preventDefault(),...g,...ge,onPlaced:()=>$(!0),ref:T,style:{display:"flex",flexDirection:"column",outline:"none",...g.style},onKeyDown:J(g.onKeyDown,Q=>{const de=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!de&&Q.key.length===1&&te(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let ye=I().filter(fe=>!fe.disabled).map(fe=>fe.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(ye=ye.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const fe=Q.target,Ce=ye.indexOf(fe);ye=ye.slice(Ce+1)}setTimeout(()=>H(ye)),Q.preventDefault()}})})})})})})});DE.displayName=m5;var y5="SelectItemAlignedPosition",FE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...s}=e,o=rs(js,n),i=ss(js,n),[a,l]=f.useState(null),[c,d]=f.useState(null),h=me(t,T=>d(T)),p=Cc(n),m=f.useRef(!1),v=f.useRef(!0),{viewport:y,selectedItem:b,selectedItemText:g,focusSelectedItem:x}=i,w=f.useCallback(()=>{if(o.trigger&&o.valueNode&&a&&c&&y&&b&&g){const T=o.trigger.getBoundingClientRect(),N=c.getBoundingClientRect(),M=o.valueNode.getBoundingClientRect(),A=g.getBoundingClientRect();if(o.dir!=="rtl"){const fe=A.left-N.left,Ce=M.left-fe,nt=T.left-Ce,Nt=T.width+nt,fn=Math.max(Nt,N.width),hn=window.innerWidth-mn,An=mh(Ce,[mn,Math.max(mn,hn-fn)]);a.style.minWidth=Nt+"px",a.style.left=An+"px"}else{const fe=N.right-A.right,Ce=window.innerWidth-M.right-fe,nt=window.innerWidth-T.right-Ce,Nt=T.width+nt,fn=Math.max(Nt,N.width),hn=window.innerWidth-mn,An=mh(Ce,[mn,Math.max(mn,hn-fn)]);a.style.minWidth=Nt+"px",a.style.right=An+"px"}const L=p(),I=window.innerHeight-mn*2,V=y.scrollHeight,$=window.getComputedStyle(c),W=parseInt($.borderTopWidth,10),H=parseInt($.paddingTop,10),G=parseInt($.borderBottomWidth,10),j=parseInt($.paddingBottom,10),B=W+H+V+j+G,_=Math.min(b.offsetHeight*5,B),te=window.getComputedStyle(y),ce=parseInt(te.paddingTop,10),E=parseInt(te.paddingBottom,10),Te=T.top+T.height/2-mn,Ke=I-Te,ge=b.offsetHeight/2,Q=b.offsetTop+ge,de=W+H+Q,Pe=B-de;if(de<=Te){const fe=L.length>0&&b===L[L.length-1].ref.current;a.style.bottom="0px";const Ce=c.clientHeight-y.offsetTop-y.offsetHeight,nt=Math.max(Ke,ge+(fe?E:0)+Ce+G),Nt=de+nt;a.style.height=Nt+"px"}else{const fe=L.length>0&&b===L[0].ref.current;a.style.top="0px";const nt=Math.max(Te,W+y.offsetTop+(fe?ce:0)+ge)+Pe;a.style.height=nt+"px",y.scrollTop=de-Te+y.offsetTop}a.style.margin=`${mn}px 0`,a.style.minHeight=_+"px",a.style.maxHeight=I+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,o.trigger,o.valueNode,a,c,y,b,g,o.dir,r]);Qe(()=>w(),[w]);const[C,R]=f.useState();Qe(()=>{c&&R(window.getComputedStyle(c).zIndex)},[c]);const S=f.useCallback(T=>{T&&v.current===!0&&(w(),x==null||x(),v.current=!1)},[w,x]);return u.jsx(x5,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:S,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:C},children:u.jsx(se.div,{...s,ref:h,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});FE.displayName=y5;var v5="SelectPopperPosition",vh=f.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=mn,...o}=e,i=kc(n);return u.jsx(gC,{...i,...o,ref:t,align:r,collisionPadding:s,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vh.displayName=v5;var[x5,yg]=qo(js,{}),xh="SelectViewport",zE=f.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...s}=e,o=ss(xh,n),i=yg(xh,n),a=me(t,o.onViewportChange),l=f.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(_c.Slot,{scope:n,children:u.jsx(se.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:J(s.onScroll,c=>{const d=c.currentTarget,{contentWrapper:h,shouldExpandOnScrollRef:p}=i;if(p!=null&&p.current&&h){const m=Math.abs(l.current-d.scrollTop);if(m>0){const v=window.innerHeight-mn*2,y=parseFloat(h.style.minHeight),b=parseFloat(h.style.height),g=Math.max(y,b);if(g<v){const x=g+m,w=Math.min(v,x),C=x-w;h.style.height=w+"px",h.style.bottom==="0px"&&(d.scrollTop=C>0?C:0,h.style.justifyContent="flex-end")}}}l.current=d.scrollTop})})})]})});zE.displayName=xh;var BE="SelectGroup",[w5,b5]=qo(BE),$E=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=dr();return u.jsx(w5,{scope:n,id:s,children:u.jsx(se.div,{role:"group","aria-labelledby":s,...r,ref:t})})});$E.displayName=BE;var UE="SelectLabel",HE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=b5(UE,n);return u.jsx(se.div,{id:s.id,...r,ref:t})});HE.displayName=UE;var Nu="SelectItem",[S5,VE]=qo(Nu),WE=f.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:o,...i}=e,a=rs(Nu,n),l=ss(Nu,n),c=a.value===r,[d,h]=f.useState(o??""),[p,m]=f.useState(!1),v=me(t,x=>{var w;return(w=l.itemRefCallback)==null?void 0:w.call(l,x,r,s)}),y=dr(),b=f.useRef("touch"),g=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(S5,{scope:n,value:r,disabled:s,textId:y,isSelected:c,onItemTextChange:f.useCallback(x=>{h(w=>w||((x==null?void 0:x.textContent)??"").trim())},[]),children:u.jsx(_c.ItemSlot,{scope:n,value:r,disabled:s,textValue:d,children:u.jsx(se.div,{role:"option","aria-labelledby":y,"data-highlighted":p?"":void 0,"aria-selected":c&&p,"data-state":c?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...i,ref:v,onFocus:J(i.onFocus,()=>m(!0)),onBlur:J(i.onBlur,()=>m(!1)),onClick:J(i.onClick,()=>{b.current!=="mouse"&&g()}),onPointerUp:J(i.onPointerUp,()=>{b.current==="mouse"&&g()}),onPointerDown:J(i.onPointerDown,x=>{b.current=x.pointerType}),onPointerMove:J(i.onPointerMove,x=>{var w;b.current=x.pointerType,s?(w=l.onItemLeave)==null||w.call(l):b.current==="mouse"&&x.currentTarget.focus({preventScroll:!0})}),onPointerLeave:J(i.onPointerLeave,x=>{var w;x.currentTarget===document.activeElement&&((w=l.onItemLeave)==null||w.call(l))}),onKeyDown:J(i.onKeyDown,x=>{var C;((C=l.searchRef)==null?void 0:C.current)!==""&&x.key===" "||(l5.includes(x.key)&&g(),x.key===" "&&x.preventDefault())})})})})});WE.displayName=Nu;var bi="SelectItemText",KE=f.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:s,...o}=e,i=rs(bi,n),a=ss(bi,n),l=VE(bi,n),c=f5(bi,n),[d,h]=f.useState(null),p=me(t,g=>h(g),l.onItemTextChange,g=>{var x;return(x=a.itemTextRefCallback)==null?void 0:x.call(a,g,l.value,l.disabled)}),m=d==null?void 0:d.textContent,v=f.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:m},l.value),[l.disabled,l.value,m]),{onNativeOptionAdd:y,onNativeOptionRemove:b}=c;return Qe(()=>(y(v),()=>b(v)),[y,b,v]),u.jsxs(u.Fragment,{children:[u.jsx(se.span,{id:l.textId,...o,ref:p}),l.isSelected&&i.valueNode&&!i.valueNodeHasChildren?$o.createPortal(o.children,i.valueNode):null]})});KE.displayName=bi;var qE="SelectItemIndicator",GE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return VE(qE,n).isSelected?u.jsx(se.span,{"aria-hidden":!0,...r,ref:t}):null});GE.displayName=qE;var wh="SelectScrollUpButton",_5=f.forwardRef((e,t)=>{const n=ss(wh,e.__scopeSelect),r=yg(wh,e.__scopeSelect),[s,o]=f.useState(!1),i=me(t,r.onScrollButtonChange);return Qe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;o(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(YE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});_5.displayName=wh;var bh="SelectScrollDownButton",C5=f.forwardRef((e,t)=>{const n=ss(bh,e.__scopeSelect),r=yg(bh,e.__scopeSelect),[s,o]=f.useState(!1),i=me(t,r.onScrollButtonChange);return Qe(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,d=Math.ceil(l.scrollTop)<c;o(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(YE,{...e,ref:i,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});C5.displayName=bh;var YE=f.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=e,o=ss("SelectScrollButton",n),i=f.useRef(null),a=Cc(n),l=f.useCallback(()=>{i.current!==null&&(window.clearInterval(i.current),i.current=null)},[]);return f.useEffect(()=>()=>l(),[l]),Qe(()=>{var d;const c=a().find(h=>h.ref.current===document.activeElement);(d=c==null?void 0:c.ref.current)==null||d.scrollIntoView({block:"nearest"})},[a]),u.jsx(se.div,{"aria-hidden":!0,...s,ref:t,style:{flexShrink:0,...s.style},onPointerDown:J(s.onPointerDown,()=>{i.current===null&&(i.current=window.setInterval(r,50))}),onPointerMove:J(s.onPointerMove,()=>{var c;(c=o.onItemLeave)==null||c.call(o),i.current===null&&(i.current=window.setInterval(r,50))}),onPointerLeave:J(s.onPointerLeave,()=>{l()})})}),k5="SelectSeparator",XE=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return u.jsx(se.div,{"aria-hidden":!0,...r,ref:t})});XE.displayName=k5;var Sh="SelectArrow",E5=f.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,s=kc(n),o=rs(Sh,n),i=ss(Sh,n);return o.open&&i.position==="popper"?u.jsx(yC,{...s,...r,ref:t}):null});E5.displayName=Sh;var T5="SelectBubbleInput",QE=f.forwardRef(({__scopeSelect:e,value:t,...n},r)=>{const s=f.useRef(null),o=me(r,s),i=fE(t);return f.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,d=Object.getOwnPropertyDescriptor(l,"value").set;if(i!==t&&d){const h=new Event("change",{bubbles:!0});d.call(a,t),a.dispatchEvent(h)}},[i,t]),u.jsx(se.select,{...n,style:{...d0,...n.style},ref:o,defaultValue:t})});QE.displayName=T5;function JE(e){return e===""||e===void 0}function ZE(e){const t=We(e),n=f.useRef(""),r=f.useRef(0),s=f.useCallback(i=>{const a=n.current+i;t(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[t]),o=f.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return f.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,o]}function e1(e,t,n){const s=t.length>1&&Array.from(t).every(c=>c===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let i=R5(e,Math.max(o,0));s.length===1&&(i=i.filter(c=>c!==n));const l=i.find(c=>c.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function R5(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var N5=RE,I5=IE,P5=AE,A5=jE,j5=ME,M5=OE,O5=zE,L5=$E,D5=HE,F5=WE,z5=KE,B5=GE,$5=XE,Ec="Switch",[U5]=Jn(Ec),[H5,V5]=U5(Ec),t1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:s,defaultChecked:o,required:i,disabled:a,value:l="on",onCheckedChange:c,form:d,...h}=e,[p,m]=f.useState(null),v=me(t,w=>m(w)),y=f.useRef(!1),b=p?d||!!p.closest("form"):!0,[g,x]=Ns({prop:s,defaultProp:o??!1,onChange:c,caller:Ec});return u.jsxs(H5,{scope:n,checked:g,disabled:a,children:[u.jsx(se.button,{type:"button",role:"switch","aria-checked":g,"aria-required":i,"data-state":o1(g),"data-disabled":a?"":void 0,disabled:a,value:l,...h,ref:v,onClick:J(e.onClick,w=>{x(C=>!C),b&&(y.current=w.isPropagationStopped(),y.current||w.stopPropagation())})}),b&&u.jsx(s1,{control:p,bubbles:!y.current,name:r,value:l,checked:g,required:i,disabled:a,form:d,style:{transform:"translateX(-100%)"}})]})});t1.displayName=Ec;var n1="SwitchThumb",r1=f.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,s=V5(n1,n);return u.jsx(se.span,{"data-state":o1(s.checked),"data-disabled":s.disabled?"":void 0,...r,ref:t})});r1.displayName=n1;var W5="SwitchBubbleInput",s1=f.forwardRef(({__scopeSwitch:e,control:t,checked:n,bubbles:r=!0,...s},o)=>{const i=f.useRef(null),a=me(i,o),l=fE(n),c=sC(t);return f.useEffect(()=>{const d=i.current;if(!d)return;const h=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(h,"checked").set;if(l!==n&&m){const v=new Event("click",{bubbles:r});m.call(d,n),d.dispatchEvent(v)}},[l,n,r]),u.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...s,tabIndex:-1,ref:a,style:{...s.style,...c,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});s1.displayName=W5;function o1(e){return e?"checked":"unchecked"}var K5=t1,q5=r1,Tc="Tabs",[G5]=Jn(Tc,[xC]),i1=xC(),[Y5,vg]=G5(Tc),a1=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:o,orientation:i="horizontal",dir:a,activationMode:l="automatic",...c}=e,d=rc(a),[h,p]=Ns({prop:r,onChange:s,defaultProp:o??"",caller:Tc});return u.jsx(Y5,{scope:n,baseId:dr(),value:h,onValueChange:p,orientation:i,dir:d,activationMode:l,children:u.jsx(se.div,{dir:d,"data-orientation":i,...c,ref:t})})});a1.displayName=Tc;var l1="TabsList",u1=f.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...s}=e,o=vg(l1,n),i=i1(n);return u.jsx(_M,{asChild:!0,...i,orientation:o.orientation,dir:o.dir,loop:r,children:u.jsx(se.div,{role:"tablist","aria-orientation":o.orientation,...s,ref:t})})});u1.displayName=l1;var c1="TabsTrigger",d1=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...o}=e,i=vg(c1,n),a=i1(n),l=p1(i.baseId,r),c=m1(i.baseId,r),d=r===i.value;return u.jsx(CM,{asChild:!0,...a,focusable:!s,active:d,children:u.jsx(se.button,{type:"button",role:"tab","aria-selected":d,"aria-controls":c,"data-state":d?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:l,...o,ref:t,onMouseDown:J(e.onMouseDown,h=>{!s&&h.button===0&&h.ctrlKey===!1?i.onValueChange(r):h.preventDefault()}),onKeyDown:J(e.onKeyDown,h=>{[" ","Enter"].includes(h.key)&&i.onValueChange(r)}),onFocus:J(e.onFocus,()=>{const h=i.activationMode!=="manual";!d&&!s&&h&&i.onValueChange(r)})})})});d1.displayName=c1;var f1="TabsContent",h1=f.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:s,children:o,...i}=e,a=vg(f1,n),l=p1(a.baseId,r),c=m1(a.baseId,r),d=r===a.value,h=f.useRef(d);return f.useEffect(()=>{const p=requestAnimationFrame(()=>h.current=!1);return()=>cancelAnimationFrame(p)},[]),u.jsx(er,{present:s||d,children:({present:p})=>u.jsx(se.div,{"data-state":d?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":l,hidden:!p,id:c,tabIndex:0,...i,ref:t,style:{...e.style,animationDuration:h.current?"0s":void 0},children:p&&o})})});h1.displayName=f1;function p1(e,t){return`${e}-trigger-${t}`}function m1(e,t){return`${e}-content-${t}`}var X5=a1,Q5=u1,J5=d1,Z5=h1;const br={asChild:{type:"boolean"}},Fl={width:{type:"string",className:"rt-r-w",customProperties:["--width"],responsive:!0},minWidth:{type:"string",className:"rt-r-min-w",customProperties:["--min-width"],responsive:!0},maxWidth:{type:"string",className:"rt-r-max-w",customProperties:["--max-width"],responsive:!0}},g1={height:{type:"string",className:"rt-r-h",customProperties:["--height"],responsive:!0},minHeight:{type:"string",className:"rt-r-min-h",customProperties:["--min-height"],responsive:!0},maxHeight:{type:"string",className:"rt-r-max-h",customProperties:["--max-height"],responsive:!0}},eU=["1","2","3","4"],tU={...br,align:{type:"enum",className:"rt-r-align",values:["start","center"],default:"center"},size:{type:"enum",className:"rt-r-size",values:eU,default:"3",responsive:!0},width:Fl.width,minWidth:Fl.minWidth,maxWidth:{...Fl.maxWidth,default:"600px"},...g1},y1=["gray","gold","bronze","brown","yellow","amber","orange","tomato","red","ruby","crimson","pink","plum","purple","violet","iris","indigo","blue","cyan","teal","jade","green","grass","lime","mint","sky"],Sr={color:{type:"enum",values:y1,default:void 0}},xg={color:{type:"enum",values:y1,default:""}},os={highContrast:{type:"boolean",className:"rt-high-contrast",default:void 0}},nU=["normal","start","end","both"],v1={trim:{type:"enum",className:"rt-r-lt",values:nU,responsive:!0}},rU=["left","center","right"],x1={align:{type:"enum",className:"rt-r-ta",values:rU,responsive:!0}},sU=["wrap","nowrap","pretty","balance"],w1={wrap:{type:"enum",className:"rt-r-tw",values:sU,responsive:!0}},b1={truncate:{type:"boolean",className:"rt-truncate"}},oU=["light","regular","medium","bold"],S1={weight:{type:"enum",className:"rt-r-weight",values:oU,responsive:!0}},iU=["h1","h2","h3","h4","h5","h6"],aU=["1","2","3","4","5","6","7","8","9"],lU={as:{type:"enum",values:iU,default:"h1"},...br,size:{type:"enum",className:"rt-r-size",values:aU,default:"6",responsive:!0},...S1,...x1,...v1,...b1,...w1,...Sr,...os},uU=["initial","xs","sm","md","lg","xl"],wg=new Set(uU);function _1(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function zi(e){return typeof e=="object"&&e!==null&&Object.keys(e).some(t=>wg.has(t))}function Ir({className:e,customProperties:t,...n}){const r=Iu({allowArbitraryValues:!0,className:e,...n}),s=cU({customProperties:t,...n});return[r,s]}function Iu({allowArbitraryValues:e,value:t,className:n,propValues:r,parseValue:s=o=>o}){const o=[];if(t){if(typeof t=="string"&&r.includes(t))return lw(n,t,s);if(zi(t)){const i=t;for(const a in i){if(!_1(i,a)||!wg.has(a))continue;const l=i[a];if(l!==void 0){if(r.includes(l)){const c=lw(n,l,s),d=a==="initial"?c:`${a}:${c}`;o.push(d)}else if(e){const c=a==="initial"?n:`${a}:${n}`;o.push(c)}}}return o.join(" ")}if(e)return n}}function lw(e,t,n){const r=e?"-":"",s=n(t),o=s==null?void 0:s.startsWith("-"),i=o?"-":"",a=o?s==null?void 0:s.substring(1):s;return`${i}${e}${r}${a}`}function cU({customProperties:e,value:t,propValues:n,parseValue:r=s=>s}){let s={};if(!(!t||typeof t=="string"&&n.includes(t))){if(typeof t=="string"&&(s=Object.fromEntries(e.map(o=>[o,t]))),zi(t)){const o=t;for(const i in o){if(!_1(o,i)||!wg.has(i))continue;const a=o[i];if(!n.includes(a))for(const l of e)s={[i==="initial"?l:`${l}-${i}`]:a,...s}}}for(const o in s){const i=s[o];i!==void 0&&(s[o]=r(i))}return s}}function Pu(...e){let t={};for(const n of e)n&&(t={...t,...n});return Object.keys(t).length?t:void 0}function dU(...e){return Object.assign({},...e)}function tt(e,...t){let n,r;const s={...e},o=dU(...t);for(const i in o){let a=s[i];const l=o[i];if(l.default!==void 0&&a===void 0&&(a=l.default),l.type==="enum"&&![l.default,...l.values].includes(a)&&!zi(a)&&(a=l.default),s[i]=a,"className"in l&&l.className){delete s[i];const c="responsive"in l;if(!a||zi(a)&&!c)continue;if(zi(a)&&(l.default!==void 0&&a.initial===void 0&&(a.initial=l.default),l.type==="enum"&&([l.default,...l.values].includes(a.initial)||(a.initial=l.default))),l.type==="enum"){const d=Iu({allowArbitraryValues:!1,value:a,className:l.className,propValues:l.values,parseValue:l.parseValue});n=q(n,d);continue}if(l.type==="string"||l.type==="enum | string"){const d=l.type==="string"?[]:l.values,[h,p]=Ir({className:l.className,customProperties:l.customProperties,propValues:d,parseValue:l.parseValue,value:a});r=Pu(r,p),n=q(n,h);continue}if(l.type==="boolean"&&a){n=q(n,l.className);continue}}}return s.className=q(n,e.className),s.style=Pu(r,e.style),s}const ls=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],xt={m:{type:"enum | string",values:ls,responsive:!0,className:"rt-r-m",customProperties:["--m"]},mx:{type:"enum | string",values:ls,responsive:!0,className:"rt-r-mx",customProperties:["--ml","--mr"]},my:{type:"enum | string",values:ls,responsive:!0,className:"rt-r-my",customProperties:["--mt","--mb"]},mt:{type:"enum | string",values:ls,responsive:!0,className:"rt-r-mt",customProperties:["--mt"]},mr:{type:"enum | string",values:ls,responsive:!0,className:"rt-r-mr",customProperties:["--mr"]},mb:{type:"enum | string",values:ls,responsive:!0,className:"rt-r-mb",customProperties:["--mb"]},ml:{type:"enum | string",values:ls,responsive:!0,className:"rt-r-ml",customProperties:["--ml"]}},bg=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="h1",color:i,...a}=tt(e,lU,xt);return f.createElement(ts,{"data-accent-color":i,...a,ref:t,className:q("rt-Heading",r)},s?n:f.createElement(o,null,n))});bg.displayName="Heading";const fU=["span","div","label","p"],hU=["1","2","3","4","5","6","7","8","9"],pU={as:{type:"enum",values:fU,default:"span"},...br,size:{type:"enum",className:"rt-r-size",values:hU,responsive:!0},...S1,...x1,...v1,...b1,...w1,...Sr,...os},X=f.forwardRef((e,t)=>{const{children:n,className:r,asChild:s,as:o="span",color:i,...a}=tt(e,pU,xt);return f.createElement(ts,{"data-accent-color":i,...a,ref:t,className:q("rt-Text",r)},s?n:f.createElement(o,null,n))});X.displayName="Text";function mU(e){switch(e){case"tomato":case"red":case"ruby":case"crimson":case"pink":case"plum":case"purple":case"violet":return"mauve";case"iris":case"indigo":case"blue":case"sky":case"cyan":return"slate";case"teal":case"jade":case"mint":case"green":return"sage";case"grass":case"lime":return"olive";case"yellow":case"amber":case"orange":case"brown":case"gold":case"bronze":return"sand";case"gray":return"gray"}}const gU=["none","small","medium","large","full"],Go={radius:{type:"enum",values:gU,default:void 0}},Ht={hasBackground:{default:!0},appearance:{default:"inherit"},accentColor:{default:"indigo"},grayColor:{default:"auto"},panelBackground:{default:"translucent"},radius:{default:"medium"},scaling:{default:"100%"}},Ks=()=>{},Au=f.createContext(void 0);function yU(){const e=f.useContext(Au);if(e===void 0)throw new Error("`useThemeContext` must be used within a `Theme`");return e}const Rc=f.forwardRef((e,t)=>f.useContext(Au)===void 0?f.createElement(b0,{delayDuration:200},f.createElement(Tj,{dir:"ltr"},f.createElement(C1,{...e,ref:t}))):f.createElement(Sg,{...e,ref:t}));Rc.displayName="Theme";const C1=f.forwardRef((e,t)=>{const{appearance:n=Ht.appearance.default,accentColor:r=Ht.accentColor.default,grayColor:s=Ht.grayColor.default,panelBackground:o=Ht.panelBackground.default,radius:i=Ht.radius.default,scaling:a=Ht.scaling.default,hasBackground:l=Ht.hasBackground.default,...c}=e,[d,h]=f.useState(n);f.useEffect(()=>h(n),[n]);const[p,m]=f.useState(r);f.useEffect(()=>m(r),[r]);const[v,y]=f.useState(s);f.useEffect(()=>y(s),[s]);const[b,g]=f.useState(o);f.useEffect(()=>g(o),[o]);const[x,w]=f.useState(i);f.useEffect(()=>w(i),[i]);const[C,R]=f.useState(a);return f.useEffect(()=>R(a),[a]),f.createElement(Sg,{...c,ref:t,isRoot:!0,hasBackground:l,appearance:d,accentColor:p,grayColor:v,panelBackground:b,radius:x,scaling:C,onAppearanceChange:h,onAccentColorChange:m,onGrayColorChange:y,onPanelBackgroundChange:g,onRadiusChange:w,onScalingChange:R})});C1.displayName="ThemeRoot";const Sg=f.forwardRef((e,t)=>{const n=f.useContext(Au),{asChild:r,isRoot:s,hasBackground:o,appearance:i=(n==null?void 0:n.appearance)??Ht.appearance.default,accentColor:a=(n==null?void 0:n.accentColor)??Ht.accentColor.default,grayColor:l=(n==null?void 0:n.resolvedGrayColor)??Ht.grayColor.default,panelBackground:c=(n==null?void 0:n.panelBackground)??Ht.panelBackground.default,radius:d=(n==null?void 0:n.radius)??Ht.radius.default,scaling:h=(n==null?void 0:n.scaling)??Ht.scaling.default,onAppearanceChange:p=Ks,onAccentColorChange:m=Ks,onGrayColorChange:v=Ks,onPanelBackgroundChange:y=Ks,onRadiusChange:b=Ks,onScalingChange:g=Ks,...x}=e,w=r?ts:"div",C=l==="auto"?mU(a):l,R=e.appearance==="light"||e.appearance==="dark",S=o===void 0?s||R:o;return f.createElement(Au.Provider,{value:f.useMemo(()=>({appearance:i,accentColor:a,grayColor:l,resolvedGrayColor:C,panelBackground:c,radius:d,scaling:h,onAppearanceChange:p,onAccentColorChange:m,onGrayColorChange:v,onPanelBackgroundChange:y,onRadiusChange:b,onScalingChange:g}),[i,a,l,C,c,d,h,p,m,v,y,b,g])},f.createElement(w,{"data-is-root-theme":s?"true":"false","data-accent-color":a,"data-gray-color":C,"data-has-background":S?"true":"false","data-panel-background":c,"data-radius":d,"data-scaling":h,ref:t,...x,className:q("radix-themes",{light:i==="light",dark:i==="dark"},x.className)}))});Sg.displayName="ThemeImpl";const k1=e=>{if(!f.isValidElement(e))throw Error(`Expected a single React Element child, but got: ${f.Children.toArray(e).map(t=>typeof t=="object"&&"type"in t&&typeof t.type=="string"?t.type:typeof t).join(", ")}`);return e};function vU(e,t){const{asChild:n,children:r}=e;if(!n)return typeof t=="function"?t(r):t;const s=f.Children.only(r);return f.cloneElement(s,{children:typeof t=="function"?t(s.props.children):t})}const xU=["1","2","3"],wU=["solid","soft","surface","outline"],bU={...br,size:{type:"enum",className:"rt-r-size",values:xU,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:wU,default:"soft"},...xg,...os,...Go},_g=f.forwardRef((e,t)=>{const{asChild:n,className:r,color:s,radius:o,...i}=tt(e,bU,xt),a=n?ts:"span";return f.createElement(a,{"data-accent-color":s,"data-radius":o,...i,ref:t,className:q("rt-reset","rt-Badge",r)})});_g.displayName="Badge";const SU=ts,us=["0","1","2","3","4","5","6","7","8","9"],zl={p:{type:"enum | string",className:"rt-r-p",customProperties:["--p"],values:us,responsive:!0},px:{type:"enum | string",className:"rt-r-px",customProperties:["--pl","--pr"],values:us,responsive:!0},py:{type:"enum | string",className:"rt-r-py",customProperties:["--pt","--pb"],values:us,responsive:!0},pt:{type:"enum | string",className:"rt-r-pt",customProperties:["--pt"],values:us,responsive:!0},pr:{type:"enum | string",className:"rt-r-pr",customProperties:["--pr"],values:us,responsive:!0},pb:{type:"enum | string",className:"rt-r-pb",customProperties:["--pb"],values:us,responsive:!0},pl:{type:"enum | string",className:"rt-r-pl",customProperties:["--pl"],values:us,responsive:!0}},Hd=["visible","hidden","clip","scroll","auto"],_U=["static","relative","absolute","fixed","sticky"],mi=["0","1","2","3","4","5","6","7","8","9","-1","-2","-3","-4","-5","-6","-7","-8","-9"],CU=["0","1"],kU=["0","1"],EU=["start","center","end","baseline","stretch"],TU=["start","center","end","baseline","stretch"],RU={...zl,...Fl,...g1,position:{type:"enum",className:"rt-r-position",values:_U,responsive:!0},inset:{type:"enum | string",className:"rt-r-inset",customProperties:["--inset"],values:mi,responsive:!0},top:{type:"enum | string",className:"rt-r-top",customProperties:["--top"],values:mi,responsive:!0},right:{type:"enum | string",className:"rt-r-right",customProperties:["--right"],values:mi,responsive:!0},bottom:{type:"enum | string",className:"rt-r-bottom",customProperties:["--bottom"],values:mi,responsive:!0},left:{type:"enum | string",className:"rt-r-left",customProperties:["--left"],values:mi,responsive:!0},overflow:{type:"enum",className:"rt-r-overflow",values:Hd,responsive:!0},overflowX:{type:"enum",className:"rt-r-ox",values:Hd,responsive:!0},overflowY:{type:"enum",className:"rt-r-oy",values:Hd,responsive:!0},flexBasis:{type:"string",className:"rt-r-fb",customProperties:["--flex-basis"],responsive:!0},flexShrink:{type:"enum | string",className:"rt-r-fs",customProperties:["--flex-shrink"],values:CU,responsive:!0},flexGrow:{type:"enum | string",className:"rt-r-fg",customProperties:["--flex-grow"],values:kU,responsive:!0},gridArea:{type:"string",className:"rt-r-ga",customProperties:["--grid-area"],responsive:!0},gridColumn:{type:"string",className:"rt-r-gc",customProperties:["--grid-column"],responsive:!0},gridColumnStart:{type:"string",className:"rt-r-gcs",customProperties:["--grid-column-start"],responsive:!0},gridColumnEnd:{type:"string",className:"rt-r-gce",customProperties:["--grid-column-end"],responsive:!0},gridRow:{type:"string",className:"rt-r-gr",customProperties:["--grid-row"],responsive:!0},gridRowStart:{type:"string",className:"rt-r-grs",customProperties:["--grid-row-start"],responsive:!0},gridRowEnd:{type:"string",className:"rt-r-gre",customProperties:["--grid-row-end"],responsive:!0},alignSelf:{type:"enum",className:"rt-r-as",values:EU,responsive:!0},justifySelf:{type:"enum",className:"rt-r-js",values:TU,responsive:!0}},NU=["1","2","3","4"],IU=["classic","solid","soft","surface","outline","ghost"],uw={...br,size:{type:"enum",className:"rt-r-size",values:NU,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:IU,default:"solid"},...xg,...os,...Go,loading:{type:"boolean",className:"rt-loading",default:!1}},Vd=["0","1","2","3","4","5","6","7","8","9"],PU={gap:{type:"enum | string",className:"rt-r-gap",customProperties:["--gap"],values:Vd,responsive:!0},gapX:{type:"enum | string",className:"rt-r-cg",customProperties:["--column-gap"],values:Vd,responsive:!0},gapY:{type:"enum | string",className:"rt-r-rg",customProperties:["--row-gap"],values:Vd,responsive:!0}},AU=["div","span"],jU=["none","inline-flex","flex"],MU=["row","column","row-reverse","column-reverse"],OU=["start","center","end","baseline","stretch"],LU=["start","center","end","between"],DU=["nowrap","wrap","wrap-reverse"],E1={as:{type:"enum",values:AU,default:"div"},...br,display:{type:"enum",className:"rt-r-display",values:jU,responsive:!0},direction:{type:"enum",className:"rt-r-fd",values:MU,responsive:!0},align:{type:"enum",className:"rt-r-ai",values:OU,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:LU,parseValue:FU,responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:DU,responsive:!0},...PU};function FU(e){return e==="between"?"space-between":e}const _n=f.forwardRef((e,t)=>{const{className:n,asChild:r,as:s="div",...o}=tt(e,E1,RU,xt);return f.createElement(r?SU:s,{...o,ref:t,className:q("rt-Flex",n)})});_n.displayName="Flex";const zU=["1","2","3"],BU={size:{type:"enum",className:"rt-r-size",values:zU,default:"2",responsive:!0},loading:{type:"boolean",default:!0}},T1=f.forwardRef((e,t)=>{const{className:n,children:r,loading:s,...o}=tt(e,BU,xt);if(!s)return r;const i=f.createElement("span",{...o,ref:t,className:q("rt-Spinner",n)},f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}),f.createElement("span",{className:"rt-SpinnerLeaf"}));return r===void 0?i:f.createElement(_n,{asChild:!0,position:"relative",align:"center",justify:"center"},f.createElement("span",null,f.createElement("span",{"aria-hidden":!0,style:{display:"contents",visibility:"hidden"},inert:void 0},r),f.createElement(_n,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,i))))});T1.displayName="Spinner";const $U=h0;function R1(e,t){if(e!==void 0)return typeof e=="string"?t(e):Object.fromEntries(Object.entries(e).map(([n,r])=>[n,t(r)]))}function UU(e){return e==="3"?"3":"2"}function HU(e){switch(e){case"1":return"1";case"2":case"3":return"2";case"4":return"3"}}const N1=f.forwardRef((e,t)=>{const{size:n=uw.size.default}=e,{className:r,children:s,asChild:o,color:i,radius:a,disabled:l=e.loading,...c}=tt(e,uw,xt),d=o?ts:"button";return f.createElement(d,{"data-disabled":l||void 0,"data-accent-color":i,"data-radius":a,...c,ref:t,className:q("rt-reset","rt-BaseButton",r),disabled:l},e.loading?f.createElement(f.Fragment,null,f.createElement("span",{style:{display:"contents",visibility:"hidden"},"aria-hidden":!0},s),f.createElement($U,null,s),f.createElement(_n,{asChild:!0,align:"center",justify:"center",position:"absolute",inset:"0"},f.createElement("span",null,f.createElement(T1,{size:R1(n,HU)})))):s)});N1.displayName="BaseButton";const nn=f.forwardRef(({className:e,...t},n)=>f.createElement(N1,{...t,ref:n,className:q("rt-Button",e)}));nn.displayName="Button";const VU=["1","2","3"],WU=["soft","surface","outline"],cw={...br,size:{type:"enum",className:"rt-r-size",values:VU,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:WU,default:"soft"},...xg,...os},I1=f.createContext({}),en=f.forwardRef((e,t)=>{const{size:n=cw.size.default}=e,{asChild:r,children:s,className:o,color:i,...a}=tt(e,cw,xt),l=r?ts:"div";return f.createElement(l,{"data-accent-color":i,...a,className:q("rt-CalloutRoot",o),ref:t},f.createElement(I1.Provider,{value:f.useMemo(()=>({size:n}),[n])},s))});en.displayName="Callout.Root";const KU=f.forwardRef(({className:e,...t},n)=>f.createElement("div",{...t,className:q("rt-CalloutIcon",e),ref:n}));KU.displayName="Callout.Icon";const tn=f.forwardRef(({className:e,...t},n)=>{const{size:r}=f.useContext(I1);return f.createElement(X,{as:"p",size:R1(r,UU),...t,asChild:!1,ref:n,className:q("rt-CalloutText",e)})});tn.displayName="Callout.Text";const qU=["1","2","3","4","5"],GU=["surface","classic","ghost"],YU={...br,size:{type:"enum",className:"rt-r-size",values:qU,default:"1",responsive:!0},variant:{type:"enum",className:"rt-variant",values:GU,default:"surface"}},Wt=f.forwardRef((e,t)=>{const{asChild:n,className:r,...s}=tt(e,YU,xt),o=n?ts:"div";return f.createElement(o,{ref:t,...s,className:q("rt-reset","rt-BaseCard","rt-Card",r)})});Wt.displayName="Card";var P1=se;P1.dispatchDiscreteCustomEvent=z_;P1.Root=se;const XU=we.forwardRef((e,t)=>we.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},we.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M0.75 4.5C0.75 4.08579 1.08579 3.75 1.5 3.75H7.5C7.91421 3.75 8.25 4.08579 8.25 4.5C8.25 4.91421 7.91421 5.25 7.5 5.25H1.5C1.08579 5.25 0.75 4.91421 0.75 4.5Z"})));XU.displayName="ThickDividerHorizontalIcon";const A1=we.forwardRef((e,t)=>we.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},we.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8.53547 0.62293C8.88226 0.849446 8.97976 1.3142 8.75325 1.66099L4.5083 8.1599C4.38833 8.34356 4.19397 8.4655 3.9764 8.49358C3.75883 8.52167 3.53987 8.45309 3.3772 8.30591L0.616113 5.80777C0.308959 5.52987 0.285246 5.05559 0.563148 4.74844C0.84105 4.44128 1.31533 4.41757 1.62249 4.69547L3.73256 6.60459L7.49741 0.840706C7.72393 0.493916 8.18868 0.396414 8.53547 0.62293Z"})));A1.displayName="ThickCheckIcon";const j1=we.forwardRef((e,t)=>we.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},we.createElement("path",{d:"M0.135232 3.15803C0.324102 2.95657 0.640521 2.94637 0.841971 3.13523L4.5 6.56464L8.158 3.13523C8.3595 2.94637 8.6759 2.95657 8.8648 3.15803C9.0536 3.35949 9.0434 3.67591 8.842 3.86477L4.84197 7.6148C4.64964 7.7951 4.35036 7.7951 4.15803 7.6148L0.158031 3.86477C-0.0434285 3.67591 -0.0536285 3.35949 0.135232 3.15803Z"})));j1.displayName="ChevronDownIcon";const QU=we.forwardRef((e,t)=>we.createElement("svg",{width:"9",height:"9",viewBox:"0 0 9 9",fill:"currentcolor",xmlns:"http://www.w3.org/2000/svg",...e,ref:t},we.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.23826 0.201711C3.54108 -0.0809141 4.01567 -0.0645489 4.29829 0.238264L7.79829 3.98826C8.06724 4.27642 8.06724 4.72359 7.79829 5.01174L4.29829 8.76174C4.01567 9.06455 3.54108 9.08092 3.23826 8.79829C2.93545 8.51567 2.91909 8.04108 3.20171 7.73826L6.22409 4.5L3.20171 1.26174C2.91909 0.958928 2.93545 0.484337 3.23826 0.201711Z"})));QU.displayName="ThickChevronRightIcon";const JU=["1","2","3"],gi={...br,size:{values:JU,default:"1"},...Go,scrollbars:{default:"both"}};function ZU(e){const{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,...l}=e;return{m:t,mx:n,my:r,mt:s,mr:o,mb:i,ml:a,rest:l}}const cs=xt.m.values;function e6(e){const[t,n]=Ir({className:"rt-r-m",customProperties:["--margin"],propValues:cs,value:e.m}),[r,s]=Ir({className:"rt-r-mx",customProperties:["--margin-left","--margin-right"],propValues:cs,value:e.mx}),[o,i]=Ir({className:"rt-r-my",customProperties:["--margin-top","--margin-bottom"],propValues:cs,value:e.my}),[a,l]=Ir({className:"rt-r-mt",customProperties:["--margin-top"],propValues:cs,value:e.mt}),[c,d]=Ir({className:"rt-r-mr",customProperties:["--margin-right"],propValues:cs,value:e.mr}),[h,p]=Ir({className:"rt-r-mb",customProperties:["--margin-bottom"],propValues:cs,value:e.mb}),[m,v]=Ir({className:"rt-r-ml",customProperties:["--margin-left"],propValues:cs,value:e.ml});return[q(t,r,o,a,c,h,m),Pu(n,s,i,l,d,p,v)]}const M1=f.forwardRef((e,t)=>{const{rest:n,...r}=ZU(e),[s,o]=e6(r),{asChild:i,children:a,className:l,style:c,type:d,scrollHideDelay:h=d!=="scroll"?0:void 0,dir:p,size:m=gi.size.default,radius:v=gi.radius.default,scrollbars:y=gi.scrollbars.default,...b}=n;return f.createElement(EE,{type:d,scrollHideDelay:h,className:q("rt-ScrollAreaRoot",s,l),style:Pu(o,c),asChild:i},vU({asChild:i,children:a},g=>f.createElement(f.Fragment,null,f.createElement(TE,{...b,ref:t,className:"rt-ScrollAreaViewport"},g),f.createElement("div",{className:"rt-ScrollAreaViewportFocusRing"}),y!=="vertical"?f.createElement(gh,{"data-radius":v,orientation:"horizontal",className:q("rt-ScrollAreaScrollbar",Iu({className:"rt-r-size",value:m,propValues:gi.size.values}))},f.createElement(yh,{className:"rt-ScrollAreaThumb"})):null,y!=="horizontal"?f.createElement(gh,{"data-radius":v,orientation:"vertical",className:q("rt-ScrollAreaScrollbar",Iu({className:"rt-r-size",value:m,propValues:gi.size.values}))},f.createElement(yh,{className:"rt-ScrollAreaThumb"})):null,y==="both"?f.createElement(i5,{className:"rt-ScrollAreaCorner"}):null)))});M1.displayName="ScrollArea";const io=e=>f.createElement(ik,{...e,modal:!0});io.displayName="Dialog.Root";const t6=f.forwardRef(({children:e,...t},n)=>f.createElement(ak,{...t,ref:n,asChild:!0},k1(e)));t6.displayName="Dialog.Trigger";const ao=f.forwardRef(({align:e,...t},n)=>{const{align:r,...s}=tU,{className:o}=tt({align:e},{align:r}),{className:i,forceMount:a,container:l,...c}=tt(t,s);return f.createElement(lk,{container:l,forceMount:a},f.createElement(Rc,{asChild:!0},f.createElement(Cm,{className:"rt-BaseDialogOverlay rt-DialogOverlay"},f.createElement("div",{className:"rt-BaseDialogScroll rt-DialogScroll"},f.createElement("div",{className:`rt-BaseDialogScrollPadding rt-DialogScrollPadding ${o}`},f.createElement(km,{...c,ref:n,className:q("rt-BaseDialogContent","rt-DialogContent",i)}))))))});ao.displayName="Dialog.Content";const lo=f.forwardRef((e,t)=>f.createElement(nF,{asChild:!0},f.createElement(bg,{size:"5",mb:"3",trim:"start",...e,asChild:!1,ref:t})));lo.displayName="Dialog.Title";const uo=f.forwardRef((e,t)=>f.createElement(rF,{asChild:!0},f.createElement(X,{as:"p",size:"3",...e,asChild:!1,ref:t})));uo.displayName="Dialog.Description";const O1=f.forwardRef(({children:e,...t},n)=>f.createElement(sF,{...t,ref:n,asChild:!0},k1(e)));O1.displayName="Dialog.Close";const n6=["1","2","3"],Cg={size:{type:"enum",className:"rt-r-size",values:n6,default:"2",responsive:!0}},r6=["classic","surface","soft","ghost"],s6={variant:{type:"enum",className:"rt-variant",values:r6,default:"surface"},...Sr,...Go,placeholder:{type:"string"}},o6=["solid","soft"],i6={variant:{type:"enum",className:"rt-variant",values:o6,default:"solid"},...Sr,...os},kg=f.createContext({}),L1=e=>{const{children:t,size:n=Cg.size.default,...r}=e;return f.createElement(N5,{...r},f.createElement(kg.Provider,{value:f.useMemo(()=>({size:n}),[n])},t))};L1.displayName="Select.Root";const D1=f.forwardRef((e,t)=>{const n=f.useContext(kg),{children:r,className:s,color:o,radius:i,placeholder:a,...l}=tt({size:n==null?void 0:n.size,...e},{size:Cg.size},s6,xt);return f.createElement(I5,{asChild:!0},f.createElement("button",{"data-accent-color":o,"data-radius":i,...l,ref:t,className:q("rt-reset","rt-SelectTrigger",s)},f.createElement("span",{className:"rt-SelectTriggerInner"},f.createElement(P5,{placeholder:a},r)),f.createElement(A5,{asChild:!0},f.createElement(j1,{className:"rt-SelectIcon"}))))});D1.displayName="Select.Trigger";const F1=f.forwardRef((e,t)=>{const n=f.useContext(kg),{className:r,children:s,color:o,container:i,...a}=tt({size:n==null?void 0:n.size,...e},{size:Cg.size},i6),l=yU(),c=o||l.accentColor;return f.createElement(j5,{container:i},f.createElement(Rc,{asChild:!0},f.createElement(M5,{"data-accent-color":c,sideOffset:4,...a,asChild:!1,ref:t,className:q({"rt-PopperContent":a.position==="popper"},"rt-SelectContent",r)},f.createElement(EE,{type:"auto",className:"rt-ScrollAreaRoot"},f.createElement(O5,{asChild:!0,className:"rt-SelectViewport"},f.createElement(TE,{className:"rt-ScrollAreaViewport",style:{overflowY:void 0}},s)),f.createElement(gh,{className:"rt-ScrollAreaScrollbar rt-r-size-1",orientation:"vertical"},f.createElement(yh,{className:"rt-ScrollAreaThumb"}))))))});F1.displayName="Select.Content";const z1=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(F5,{...s,asChild:!1,ref:t,className:q("rt-SelectItem",n)},f.createElement(B5,{className:"rt-SelectItemIndicator"},f.createElement(A1,{className:"rt-SelectItemIndicatorIcon"})),f.createElement(z5,null,r))});z1.displayName="Select.Item";const a6=f.forwardRef(({className:e,...t},n)=>f.createElement(L5,{...t,asChild:!1,ref:n,className:q("rt-SelectGroup",e)}));a6.displayName="Select.Group";const l6=f.forwardRef(({className:e,...t},n)=>f.createElement(D5,{...t,asChild:!1,ref:n,className:q("rt-SelectLabel",e)}));l6.displayName="Select.Label";const u6=f.forwardRef(({className:e,...t},n)=>f.createElement($5,{...t,asChild:!1,ref:n,className:q("rt-SelectSeparator",e)}));u6.displayName="Select.Separator";const c6=["horizontal","vertical"],d6=["1","2","3","4"],f6={orientation:{type:"enum",className:"rt-r-orientation",values:c6,default:"horizontal",responsive:!0},size:{type:"enum",className:"rt-r-size",values:d6,default:"1",responsive:!0},color:{...Sr.color,default:"gray"},decorative:{type:"boolean",default:!0}},B1=f.forwardRef((e,t)=>{const{className:n,color:r,decorative:s,...o}=tt(e,f6,xt);return f.createElement("span",{"data-accent-color":r,role:s?void 0:"separator",...o,ref:t,className:q("rt-Separator",n)})});B1.displayName="Separator";const h6=["1","2","3"],p6=["classic","surface","soft"],m6={size:{type:"enum",className:"rt-r-size",values:h6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:p6,default:"surface"},...Sr,...os,...Go},$1=f.forwardRef((e,t)=>{const{className:n,color:r,radius:s,...o}=tt(e,m6,xt);return f.createElement(K5,{"data-accent-color":r,"data-radius":s,...o,asChild:!1,ref:t,className:q("rt-reset","rt-SwitchRoot",n)},f.createElement(q5,{className:q("rt-SwitchThumb",{"rt-high-contrast":e.highContrast})}))});$1.displayName="Switch";const g6=["1","2"],y6=["nowrap","wrap","wrap-reverse"],v6=["start","center","end"],x6={size:{type:"enum",className:"rt-r-size",values:g6,default:"2",responsive:!0},wrap:{type:"enum",className:"rt-r-fw",values:y6,responsive:!0},justify:{type:"enum",className:"rt-r-jc",values:v6,responsive:!0},...Sr,...os},U1=f.forwardRef((e,t)=>{const{className:n,...r}=tt(e,xt);return f.createElement(X5,{...r,ref:t,className:q("rt-TabsRoot",n)})});U1.displayName="Tabs.Root";const H1=f.forwardRef((e,t)=>{const{className:n,color:r,...s}=tt(e,x6,xt);return f.createElement(Q5,{"data-accent-color":r,...s,asChild:!1,ref:t,className:q("rt-BaseTabList","rt-TabsList",n)})});H1.displayName="Tabs.List";const hs=f.forwardRef((e,t)=>{const{className:n,children:r,...s}=e;return f.createElement(J5,{...s,asChild:!1,ref:t,className:q("rt-reset","rt-BaseTabListTrigger","rt-TabsTrigger",n)},f.createElement("span",{className:"rt-BaseTabListTriggerInner rt-TabsTriggerInner"},r),f.createElement("span",{className:"rt-BaseTabListTriggerInnerHidden rt-TabsTriggerInnerHidden"},r))});hs.displayName="Tabs.Trigger";const ps=f.forwardRef((e,t)=>{const{className:n,...r}=tt(e,xt);return f.createElement(Z5,{...r,ref:t,className:q("rt-TabsContent",n)})});ps.displayName="Tabs.Content";const w6=["1","2","3"],b6=["classic","surface","soft"],S6={size:{type:"enum",className:"rt-r-size",values:w6,default:"2",responsive:!0},variant:{type:"enum",className:"rt-variant",values:b6,default:"surface"},...Sr,...Go},_6=["left","right"],C6={side:{type:"enum",values:_6},...Sr,gap:E1.gap,px:zl.px,pl:zl.pl,pr:zl.pr},ve=f.forwardRef((e,t)=>{const n=f.useRef(null),{children:r,className:s,color:o,radius:i,style:a,...l}=tt(e,S6,xt);return f.createElement("div",{"data-accent-color":o,"data-radius":i,style:a,className:q("rt-TextFieldRoot",s),onPointerDown:c=>{const d=c.target;if(d.closest("input, button, a"))return;const h=n.current;if(!h)return;const p=d.closest(`
            .rt-TextFieldSlot[data-side='right'],
            .rt-TextFieldSlot:not([data-side='right']) ~ .rt-TextFieldSlot:not([data-side='left'])
          `)?h.value.length:0;requestAnimationFrame(()=>{try{h.setSelectionRange(p,p)}catch{}h.focus()})}},f.createElement("input",{spellCheck:"false",...l,ref:tc(n,t),className:"rt-reset rt-TextFieldInput"}),r)});ve.displayName="TextField.Root";const k6=f.forwardRef((e,t)=>{const{className:n,color:r,side:s,...o}=tt(e,C6);return f.createElement("div",{"data-accent-color":r,"data-side":s,...o,ref:t,className:q("rt-TextFieldSlot",n)})});k6.displayName="TextField.Slot";function E6(e){const t=/^session-(\d{14})$/.exec(e.trim());if(!t)return null;const n=t[1],r=Number(n.slice(0,4)),s=Number(n.slice(4,6)),o=Number(n.slice(6,8)),i=Number(n.slice(8,10)),a=Number(n.slice(10,12)),l=Number(n.slice(12,14));if(!Number.isFinite(r)||!Number.isFinite(s)||!Number.isFinite(o))return null;const c=new Date(r,s-1,o,i,a,l);return Number.isNaN(c.getTime())?null:c}function fl(e){return String(e).padStart(2,"0")}function T6(e){const t=E6(e.session_key),n=Date.parse(e.last_message_time||""),r=t||(Number.isFinite(n)?new Date(n):null);return r?`created ${r.getFullYear()}-${fl(r.getMonth()+1)}-${fl(r.getDate())} ${fl(r.getHours())}:${fl(r.getMinutes())}`:"created --"}function R6({appearance:e,onToggleAppearance:t,uiTheme:n,onUiThemeChange:r,uiThemeOptions:s,sessionItems:o,selectedSessionKey:i,onSessionSelect:a,onRefreshSession:l,onResetSession:c,onDeleteSession:d,onOpenConfig:h,onOpenUsage:p,onNewSession:m}){const v=e==="dark",[y,b]=f.useState(null),[g,x]=f.useState(!1),w=f.useRef(null),C=f.useRef(null),R=f.useRef(null);return f.useEffect(()=>{const S=N=>{var A,L,I;const M=N.target;M&&((A=C.current)!=null&&A.contains(M)||(L=w.current)!=null&&L.contains(M)||(I=R.current)!=null&&I.contains(M)||(b(null),x(!1)))},T=()=>{b(null),x(!1)};return window.addEventListener("pointerdown",S),window.addEventListener("scroll",T,!0),()=>{window.removeEventListener("pointerdown",S),window.removeEventListener("scroll",T,!0)}},[]),u.jsxs("aside",{className:v?"flex h-full min-h-0 flex-col border-r p-4":"flex h-full min-h-0 flex-col border-r border-slate-200 bg-white p-4",style:v?{borderColor:"var(--mc-border-soft)",background:"var(--mc-bg-sidebar)"}:void 0,children:[u.jsxs(_n,{justify:"between",align:"center",className:"mb-4",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:"/icon.png",alt:"MicroClaw",className:"h-7 w-7 rounded-md border border-black/10 object-cover",loading:"eager",decoding:"async"}),u.jsx(X,{size:"5",weight:"bold",children:"MicroClaw"})]}),u.jsxs("div",{className:"relative flex items-center gap-2",children:[u.jsx("button",{ref:C,type:"button",onClick:S=>{S.stopPropagation(),x(T=>!T)},"aria-label":"Change UI theme color",className:v?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:u.jsx("span",{className:"text-sm",children:""})}),u.jsx("button",{type:"button",onClick:S=>{S.stopPropagation(),t()},"aria-label":v?"Switch to light mode":"Switch to dark mode",className:v?"inline-flex h-8 w-8 items-center justify-center rounded-md border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] text-slate-200 hover:brightness-110":"inline-flex h-8 w-8 items-center justify-center rounded-md border border-slate-300 bg-white text-slate-700 hover:bg-slate-100",children:u.jsx("span",{className:"text-sm",children:v?"":""})}),g?u.jsxs("div",{ref:w,className:v?"absolute right-0 top-10 z-50 w-56 rounded-lg border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-sidebar)] p-2 shadow-xl":"absolute right-0 top-10 z-50 w-56 rounded-lg border border-slate-300 bg-white p-2 shadow-xl",children:[u.jsx(X,{size:"1",color:"gray",children:"Theme"}),u.jsx("div",{className:"mt-2 grid grid-cols-2 gap-1",children:s.map(S=>u.jsxs("button",{type:"button",onClick:T=>{T.stopPropagation(),r(S.key),x(!1)},className:n===S.key?v?"flex items-center gap-2 rounded-md border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-2 py-1 text-left text-xs text-slate-100":"flex items-center gap-2 rounded-md border px-2 py-1 text-left text-xs text-slate-900":v?"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex items-center gap-2 rounded-md border border-transparent px-2 py-1 text-left text-xs text-slate-600 hover:border-slate-200 hover:bg-slate-50",style:!v&&n===S.key?{borderColor:"var(--mc-accent)",backgroundColor:"color-mix(in srgb, var(--mc-accent) 12%, white)"}:void 0,children:[u.jsx("span",{className:v?"h-3 w-3 rounded-sm border border-white/20":"h-3 w-3 rounded-sm border border-slate-300",style:{backgroundColor:S.color},"aria-hidden":"true"}),S.label]},S.key))})]}):null]})]}),u.jsx(_n,{direction:"column",gap:"2",className:"mb-4",children:u.jsx("button",{type:"button",onClick:m,className:"inline-flex h-9 w-full items-center justify-center rounded-md border border-transparent text-[15px] font-medium transition hover:brightness-110 active:brightness-95",style:v?{backgroundColor:"var(--mc-accent)",color:"#06110f"}:{backgroundColor:"var(--mc-accent)",color:"#ffffff"},children:"New Session"})}),u.jsx(B1,{size:"4",className:"my-4"}),u.jsxs(_n,{justify:"between",align:"center",className:"mb-2",children:[u.jsx(X,{size:"2",weight:"medium",color:"gray",children:"Sessions"}),u.jsx(_g,{variant:"surface",children:o.length})]}),u.jsx("div",{className:v?"min-h-0 flex-1 rounded-xl border border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)] p-2":"min-h-0 flex-1 rounded-xl border border-slate-200 bg-slate-50/70 p-2",children:u.jsxs(M1,{type:"auto",style:{height:"100%"},children:[u.jsx("div",{className:"mb-2",children:u.jsx(X,{size:"1",color:"gray",children:"Chats"})}),u.jsx("div",{className:"flex flex-col gap-1.5 pr-4",children:o.map(S=>u.jsxs("button",{type:"button",onClick:()=>a(S.session_key),onContextMenu:T=>{T.preventDefault(),b({x:T.clientX,y:T.clientY,key:S.session_key})},className:i===S.session_key?v?"flex w-full max-w-full flex-col items-start rounded-lg border border-[color:var(--mc-accent)] bg-[color:var(--mc-bg-panel)] px-3 py-2 text-left shadow-sm":"flex w-full max-w-full flex-col items-start rounded-lg border bg-white px-3 py-2 text-left shadow-sm":v?"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-300 hover:border-[color:var(--mc-border-soft)] hover:bg-[color:var(--mc-bg-panel)]":"flex w-full max-w-full flex-col items-start rounded-lg border border-transparent px-3 py-2 text-left text-slate-600 hover:border-slate-200 hover:bg-white",style:!v&&i===S.session_key?{borderColor:"color-mix(in srgb, var(--mc-accent) 36%, #94a3b8)",boxShadow:"0 4px 12px color-mix(in srgb, var(--mc-accent) 12%, transparent)"}:void 0,children:[u.jsx("span",{className:"max-w-[220px] truncate text-sm font-medium",children:S.label}),u.jsx("span",{className:v?"mt-0.5 text-[11px] uppercase tracking-wide text-slate-500":"mt-0.5 text-[11px] uppercase tracking-wide text-slate-400",children:S.chat_type}),u.jsx("span",{className:v?"mt-0.5 text-[11px] text-slate-500":"mt-0.5 text-[11px] text-slate-400",children:T6(S)})]},S.session_key))})]})}),u.jsxs("div",{className:v?"mt-4 border-t border-[color:var(--mc-border-soft)] pt-3":"mt-4 border-t border-slate-200 pt-3",children:[u.jsx(nn,{size:"2",variant:"soft",onClick:()=>void p(),style:{width:"100%"},children:"Usage Panel"}),u.jsx(nn,{size:"2",variant:"soft",onClick:()=>void h(),style:{width:"100%",marginTop:"8px"},children:"Runtime Config"}),u.jsx("div",{className:"mt-3 flex flex-col items-center gap-1",children:u.jsx("a",{href:"https://microclaw.ai",target:"_blank",rel:"noreferrer",className:v?"text-xs text-slate-400 hover:text-slate-200":"text-xs text-slate-600 hover:text-slate-900",children:"microclaw.ai"})})]}),y?u.jsxs("div",{ref:R,className:v?"fixed z-50 min-w-[170px] rounded-lg border border-emerald-900/80 bg-[#092018] p-1.5 shadow-xl":"fixed z-50 min-w-[170px] rounded-lg border border-slate-300 bg-white p-1.5 shadow-xl",style:{left:y.x,top:y.y},onClick:S=>S.stopPropagation(),children:[u.jsx("button",{type:"button",className:v?"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-100 hover:bg-emerald-900/50":"flex w-full rounded-md px-3 py-2 text-left text-sm text-slate-700 hover:bg-slate-100",onClick:()=>{l(y.key),b(null)},children:"Refresh"}),u.jsx("button",{type:"button",className:v?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-300 hover:bg-amber-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-amber-700 hover:bg-amber-50",onClick:()=>{c(y.key),b(null)},children:"Clear Context"}),u.jsx("button",{type:"button",className:v?"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-300 hover:bg-red-900/20":"mt-1 flex w-full rounded-md px-3 py-2 text-left text-sm text-red-700 hover:bg-red-50",onClick:()=>{d(y.key),b(null)},children:"Delete"})]}):null]})}function Fn(e){return Number.isFinite(e)?Math.trunc(e).toLocaleString("en-US"):"0"}function N6(e,t){return!Number.isFinite(e)||!Number.isFinite(t)||t<=0?"0%":`${(e/t*100).toFixed(1)}%`}function hl(e,t,n){const r=Date.now(),s=3600*1e3,o=r-t*s,i=Math.max(1,Math.ceil(t/n)),a=Array.from({length:i},(l,c)=>({label:`${c+1}`,a:0,b:0,c:0}));for(const l of e){const c=Date.parse(l.ts);if(!Number.isFinite(c)||c<o||c>r)continue;const d=Math.min(i-1,Math.max(0,Math.floor((c-o)/(n*s))));a[d].a+=l.a,a[d].b+=l.b,a[d].c+=l.c}return a}function I6(e,t=320,n=70){if(e.length===0)return"";const r=Math.max(...e,1),s=Math.min(...e,0),o=Math.max(1e-6,r-s);return e.map((i,a)=>{const l=a/Math.max(1,e.length-1)*t,c=n-(i-s)/o*n;return`${a===0?"M":"L"}${l.toFixed(2)},${c.toFixed(2)}`}).join(" ")}function Rr({title:e,subtitle:t,values:n,color:r}){const s=I6(n);return u.jsxs(Wt,{className:"p-3",children:[u.jsx(X,{size:"1",color:"gray",children:e}),u.jsx(X,{size:"1",color:"gray",className:"block",children:t}),u.jsx("div",{className:"mt-2",children:u.jsx("svg",{viewBox:"0 0 320 70",className:"h-[70px] w-full",children:u.jsx("path",{d:s,fill:"none",stroke:r,strokeWidth:"2.5"})})})]})}function P6(e){const{open:t,onOpenChange:n,usageSession:r,sessionKey:s,usageLoading:o,usageError:i,usageReport:a,usageMemory:l,reflectorRuns:c,injectionLogs:d,onRefreshCurrent:h,onRefreshThis:p}=e,m=f.useMemo(()=>{const y=hl(c.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),24,1),b=hl(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24,1);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[c,d]),v=f.useMemo(()=>{const y=hl(c.map(g=>({ts:g.started_at,a:g.inserted_count,b:g.updated_count,c:g.skipped_count})),168,24),b=hl(d.map(g=>({ts:g.created_at,a:g.selected_count,b:g.candidate_count,c:0})),24*7,24);return{inserted:y.map(g=>g.a),updated:y.map(g=>g.b),skipped:y.map(g=>g.c),coverage:b.map(g=>g.b>0?g.a/g.b*100:0)}},[c,d]);return u.jsx(io,{open:t,onOpenChange:n,children:u.jsxs(ao,{maxWidth:"980px",className:"overflow-hidden flex flex-col",style:{width:"980px",height:"760px",maxWidth:"980px",maxHeight:"760px"},children:[u.jsx(lo,{children:"Usage Panel"}),u.jsxs(uo,{size:"2",mb:"3",children:["Token and memory observability for session ",u.jsx("code",{children:r||s})]}),u.jsx("div",{className:"mb-3",children:u.jsxs(_n,{gap:"2",children:[u.jsx(nn,{size:"2",variant:"soft",onClick:h,disabled:o,children:"Refresh Current Session"}),u.jsx(nn,{size:"2",variant:"soft",onClick:p,disabled:o,children:"Refresh This Panel"})]})}),u.jsx(Wt,{className:"min-h-0 flex-1 overflow-auto p-3",children:o?u.jsx(X,{size:"2",children:"Loading usage report..."}):i?u.jsx(en,{color:"red",size:"1",variant:"soft",children:u.jsx(tn,{children:i})}):u.jsxs("div",{className:"space-y-4",children:[l?u.jsxs("div",{className:"space-y-3",children:[u.jsxs(_n,{justify:"between",align:"center",children:[u.jsx(X,{size:"2",weight:"bold",children:"Memory Observability"}),u.jsx(X,{size:"1",color:"gray",children:"24h + 7d trends"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3 md:grid-cols-2 xl:grid-cols-4",children:[u.jsxs(Wt,{className:"p-3",children:[u.jsx(X,{size:"1",color:"gray",children:"Memory Pool"}),u.jsx(X,{size:"4",weight:"bold",children:Fn(l.total)}),u.jsxs(X,{size:"1",color:"gray",children:["active ",Fn(l.active)," / archived ",Fn(l.archived)]})]}),u.jsxs(Wt,{className:"p-3",children:[u.jsx(X,{size:"1",color:"gray",children:"Avg Confidence"}),u.jsxs(X,{size:"4",weight:"bold",children:[(l.avg_confidence*100).toFixed(1),"%"]}),u.jsxs(X,{size:"1",color:"gray",children:["low confidence: ",Fn(l.low_confidence)]})]}),u.jsxs(Wt,{className:"p-3",children:[u.jsx(X,{size:"1",color:"gray",children:"Reflector 24h"}),u.jsx(X,{size:"4",weight:"bold",children:Fn(l.reflector_runs_24h)}),u.jsxs(X,{size:"1",color:"gray",children:["+",Fn(l.reflector_inserted_24h)," / ~",Fn(l.reflector_updated_24h)," / -",Fn(l.reflector_skipped_24h)]})]}),u.jsxs(Wt,{className:"p-3",children:[u.jsx(X,{size:"1",color:"gray",children:"Injection Coverage 24h"}),u.jsx(X,{size:"4",weight:"bold",children:N6(l.injection_selected_24h,l.injection_candidates_24h)}),u.jsxs(X,{size:"1",color:"gray",children:[Fn(l.injection_selected_24h)," selected / ",Fn(l.injection_candidates_24h)," candidates"]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[u.jsx(Rr,{title:"Reflector Inserts (24h)",subtitle:"hourly buckets",values:m.inserted,color:"#10b981"}),u.jsx(Rr,{title:"Reflector Updates (24h)",subtitle:"hourly buckets",values:m.updated,color:"#3b82f6"}),u.jsx(Rr,{title:"Reflector Skips (24h)",subtitle:"hourly buckets",values:m.skipped,color:"#f59e0b"}),u.jsx(Rr,{title:"Injection Coverage (24h)",subtitle:"selected/candidates %",values:m.coverage,color:"#a855f7"})]}),u.jsxs("div",{className:"grid grid-cols-1 gap-3 xl:grid-cols-2",children:[u.jsx(Rr,{title:"Reflector Inserts (7d)",subtitle:"daily buckets",values:v.inserted,color:"#059669"}),u.jsx(Rr,{title:"Reflector Updates (7d)",subtitle:"daily buckets",values:v.updated,color:"#2563eb"}),u.jsx(Rr,{title:"Reflector Skips (7d)",subtitle:"daily buckets",values:v.skipped,color:"#d97706"}),u.jsx(Rr,{title:"Injection Coverage (7d)",subtitle:"selected/candidates %",values:v.coverage,color:"#7e22ce"})]})]}):null,u.jsxs(Wt,{className:"p-3",children:[u.jsx(X,{size:"2",weight:"bold",children:"Token Usage Report"}),u.jsx("pre",{className:"mt-2 whitespace-pre-wrap break-words text-[13px] leading-6",children:a||"(no usage data)"})]})]})})]})})}const jr="https://microclaw.ai/docs";function A6(e){switch(e){case"sandbox_disabled":case"sandbox_runtime_unavailable":case"sandbox_mount_allowlist_missing":return`${jr}/configuration#sandbox`;case"auth_password_not_configured":case"legacy_auth_token_enabled":case"web_host_not_loopback":return`${jr}/permissions`;case"web_rate_limit_too_high":case"web_inflight_limit_too_high":case"web_rate_window_too_small_for_limit":case"web_session_idle_ttl_too_low":return`${jr}/configuration#web`;case"hooks_max_input_bytes_too_high":case"hooks_max_output_bytes_too_high":return`${jr}/hooks`;case"otlp_enabled_without_endpoint":case"otlp_queue_capacity_low":case"otlp_retry_attempts_too_low":return`${jr}/observability`;default:return`${jr}/configuration`}}const j6=["openai","openai-codex","ollama","openrouter","anthropic","google","alibaba","deepseek","moonshot","mistral","azure","bedrock","zhipu","minimax","cohere","tencent","xai","huggingface","together","custom"],M6={anthropic:["claude-sonnet-4-5-20250929","claude-opus-4-1-20250805","claude-3-7-sonnet-latest"],openai:["gpt-5.2"],"openai-codex":["gpt-5.3-codex"],ollama:["llama3.2","qwen2.5","deepseek-r1"],openrouter:["openai/gpt-5","anthropic/claude-sonnet-4-5","google/gemini-2.5-pro"],deepseek:["deepseek-chat","deepseek-reasoner"],google:["gemini-2.5-pro","gemini-2.5-flash"]},Je={llm_provider:"anthropic",working_dir_isolation:"chat",max_tokens:8192,max_tool_iterations:100,max_document_size_mb:100,memory_token_budget:1500,show_thinking:!1,web_enabled:!0,web_host:"127.0.0.1",web_port:10961,reflector_enabled:!0,reflector_interval_mins:15,embedding_provider:"",embedding_api_key:"",embedding_base_url:"",embedding_model:"",embedding_dim:""},pl=[{name:"slack",title:"Slack",icon:"",steps:["Go to api.slack.com/apps and create a new app.","Enable Socket Mode and create an app-level token (xapp-).","Add bot token scopes: chat:write, channels:history, groups:history, im:history, mpim:history, app_mentions:read.","Install to workspace and copy the Bot User OAuth Token (xoxb-).","Enable Event Subscriptions and subscribe to: message.channels, message.groups, message.im, message.mpim, app_mention."],hint:"Required: bot token and app token. Leave tokens blank to keep current secrets unchanged.",fields:[{yamlKey:"bot_token",label:"slack_bot_token",placeholder:"xoxb-...",description:"Bot User OAuth Token (xoxb-) for sending messages. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"app_token",label:"slack_app_token",placeholder:"xapp-...",description:"App-level token (xapp-) for Socket Mode connection. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"bot_username",label:"slack_bot_username",placeholder:"slack_bot_name",description:"Optional Slack-specific bot username override.",secret:!1},{yamlKey:"model",label:"slack_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Slack bot model override for this account.",secret:!1}]},{name:"feishu",title:"Feishu / Lark",icon:"",steps:["Go to Feishu Open Platform (or Lark Developer for international) and create a custom app.","Copy the App ID and App Secret from Credentials.","Add permissions: im:message, im:message:send_as_bot, im:resource.","Enable Long Connection mode (recommended) or configure a webhook URL.","Subscribe to event: im.message.receive_v1."],hint:'Required: App ID and App Secret. Domain defaults to "feishu" (China); use "lark" for international.',fields:[{yamlKey:"app_id",label:"feishu_app_id",placeholder:"cli_xxx",description:"App ID from Feishu Open Platform credentials.",secret:!1},{yamlKey:"app_secret",label:"feishu_app_secret",placeholder:"xxx",description:"App Secret from Feishu Open Platform. Leave blank to keep current secret unchanged.",secret:!0},{yamlKey:"domain",label:"feishu_domain",placeholder:"feishu",description:'Use "feishu" for China, "lark" for international, or a custom base URL.',secret:!1},{yamlKey:"bot_username",label:"feishu_bot_username",placeholder:"feishu_bot_name",description:"Optional Feishu-specific bot username override.",secret:!1},{yamlKey:"model",label:"feishu_model",placeholder:"claude-sonnet-4-5-20250929",description:"Optional Feishu bot model override for this account.",secret:!1}]}],V1=[{key:"green",label:"Green",color:"#34d399"},{key:"blue",label:"Blue",color:"#60a5fa"},{key:"slate",label:"Slate",color:"#94a3b8"},{key:"amber",label:"Amber",color:"#fbbf24"},{key:"violet",label:"Violet",color:"#a78bfa"},{key:"rose",label:"Rose",color:"#fb7185"},{key:"cyan",label:"Cyan",color:"#22d3ee"},{key:"teal",label:"Teal",color:"#2dd4bf"},{key:"orange",label:"Orange",color:"#fb923c"},{key:"indigo",label:"Indigo",color:"#818cf8"}],O6={green:"green",blue:"blue",slate:"gray",amber:"amber",violet:"violet",rose:"ruby",cyan:"cyan",teal:"teal",orange:"orange",indigo:"indigo"};function dw(e){const t=e.trim().toLowerCase();return t==="anthropic"?"claude-sonnet-4-5-20250929":t==="openai-codex"?"gpt-5.3-codex":t==="ollama"?"llama3.2":"gpt-5.2"}function Wd(e){return String(e||"").trim()||"main"}function Bl(e){if(!e||typeof e!="object")return"main";const t=e,n=String(t.default_account||"").trim();if(n)return n;const r=t.accounts;if(r&&typeof r=="object"){const s=Object.keys(r).sort();if(s.includes("default"))return"default";if(s.length>0)return s[0]||"main"}return"main"}function Kd(e){if(!e||typeof e!="object")return{};const t=e,n=Bl(t),r=t.accounts;if(!r||typeof r!="object")return{};const s=r[n];return s&&typeof s=="object"?s:{}}function W1(){return localStorage.getItem("microclaw_appearance")==="light"?"light":"dark"}function L6(e){localStorage.setItem("microclaw_appearance",e)}function K1(){const e=localStorage.getItem("microclaw_ui_theme");return V1.some(t=>t.key===e)?e:"green"}function D6(e){localStorage.setItem("microclaw_ui_theme",e)}function fw(e){if(typeof window>"u")return;const t=new URL(window.location.href);t.searchParams.set("session",e),window.history.replaceState(null,"",t.toString())}function F6(){var t;return typeof window>"u"?"":((t=new URL(window.location.href).searchParams.get("session"))==null?void 0:t.trim())||""}function z6(e){var n,r;if(e.length===0)return xs();const t=e.map(s=>({item:s,ts:Date.parse(s.last_message_time||"")})).filter(s=>Number.isFinite(s.ts));return t.length>0?(t.sort((s,o)=>o.ts-s.ts),((n=t[0])==null?void 0:n.item.session_key)||xs()):((r=e[0])==null?void 0:r.session_key)||xs()}typeof document<"u"&&(document.documentElement.classList.toggle("dark",W1()==="dark"),document.documentElement.setAttribute("data-ui-theme",K1()));function q1(e={}){const t={...e.headers};e.body&&!t["Content-Type"]&&(t["Content-Type"]="application/json");const n=String(e.method||"GET").toUpperCase();if(n!=="GET"&&n!=="HEAD"){const r=$6("mc_csrf");r&&!B6(t,"x-csrf-token")&&(t["x-csrf-token"]=r)}return t}class qs extends Error{constructor(n,r){super(n);P(this,"status");this.name="ApiError",this.status=r}}function B6(e,t){const n=t.toLowerCase();return Object.keys(e).some(r=>r.toLowerCase()===n)}function $6(e){if(typeof document>"u")return"";const t=`${encodeURIComponent(e)}=`,n=document.cookie?document.cookie.split("; "):[];for(const r of n)if(r.startsWith(t))return decodeURIComponent(r.slice(t.length));return""}function U6(){var n;if(typeof window>"u")return"";const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash;return((n=new URLSearchParams(e).get("bootstrap"))==null?void 0:n.trim())||""}function H6(){if(typeof window>"u")return;const e=window.location.hash.startsWith("#")?window.location.hash.slice(1):window.location.hash,t=new URLSearchParams(e);if(!t.has("bootstrap"))return;t.delete("bootstrap");const n=t.toString();window.location.hash=n?`#${n}`:""}function V6(){if(typeof crypto<"u"&&typeof crypto.randomUUID=="function"){const t=crypto.randomUUID().replace(/-/g,"");return`mc-${t.slice(0,6)}-${t.slice(6,12)}!`}const e=Math.random().toString(36).slice(2,14);return`mc-${e.slice(0,6)}-${e.slice(6,12)}!`}async function pt(e,t={}){const n=await fetch(e,{...t,headers:q1(t),credentials:"same-origin"}),r=await n.json().catch(()=>({}));if(!n.ok)throw new qs(String(r.error||r.message||`HTTP ${n.status}`),n.status);return r}async function*W6(e,t){if(!e.body)throw new Error("empty stream body");const n=e.body.getReader(),r=new TextDecoder;let s="",o="message",i=[];const a=()=>{if(i.length===0)return null;const c=i.join(`
`);i=[];let d={};try{d=JSON.parse(c)}catch{d={raw:c}}const h={event:o,payload:d};return o="message",h},l=c=>{if(c==="")return a();if(c.startsWith(":"))return null;const d=c.indexOf(":"),h=d>=0?c.slice(0,d):c;let p=d>=0?c.slice(d+1):"";return p.startsWith(" ")&&(p=p.slice(1)),h==="event"&&(o=p),h==="data"&&i.push(p),null};for(;;){if(t.aborted)return;const{done:c,value:d}=await n.read();for(s+=r.decode(d||new Uint8Array,{stream:!c});;){const h=s.indexOf(`
`);if(h<0)break;let p=s.slice(0,h);s=s.slice(h+1),p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}if(c){if(s.length>0){let p=s;p.endsWith("\r")&&(p=p.slice(0,-1));const m=l(p);m&&(yield m)}const h=a();h&&(yield h);return}}}function K6(e){for(let t=e.length-1;t>=0;t-=1){const n=e[t];if(n.role!=="user")continue;const r=n.content.map(s=>s.type==="text"?s.text:"").join(`
`).trim();if(r.length>0)return r}return""}function q6(e){return e.map((t,n)=>({id:t.id||`history-${n}`,role:t.is_from_bot?"assistant":"user",content:t.content||"",createdAt:t.timestamp?new Date(t.timestamp):new Date}))}function xs(){return`session-${new Date().toISOString().replace(/[-:TZ.]/g,"").slice(0,14)}`}function G6(e){return typeof e=="object"&&e!==null&&!Array.isArray(e)?e:{}}function Y6(e){try{return JSON.parse(JSON.stringify(e))}catch{return String(e)}}function hw(e){const t=Y6(e);return typeof t=="object"&&t!==null&&!Array.isArray(t)?t:{}}function X6(e){if(typeof e=="string")return e;try{return JSON.stringify(e,null,2)}catch{return String(e)}}function Q6(e){const t=G6(e.result),n=Object.keys(t).length>0,r=t.output,s=t.duration_ms,o=t.bytes,i=t.status_code,a=t.error_type;return u.jsxs("div",{className:"tool-card",children:[u.jsxs("div",{className:"tool-card-head",children:[u.jsx("span",{className:"tool-card-name",children:e.toolName}),u.jsx("span",{className:`tool-card-state ${n?e.isError?"error":"ok":"running"}`,children:n?e.isError?"error":"done":"running"})]}),Object.keys(e.args||{}).length>0?u.jsx("pre",{className:"tool-card-pre",children:JSON.stringify(e.args,null,2)}):null,n?u.jsxs("div",{className:"tool-card-meta",children:[typeof s=="number"?u.jsxs("span",{children:[s,"ms"]}):null,typeof o=="number"?u.jsxs("span",{children:[o,"b"]}):null,typeof i=="number"?u.jsxs("span",{children:["HTTP ",i]}):null,typeof a=="string"&&a?u.jsx("span",{children:a}):null]}):null,r!==void 0?u.jsx("pre",{className:"tool-card-pre",children:X6(r)}):null]})}function G1({align:e}){const t=I_(r=>r.createdAt),n=t?t.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"}):"";return u.jsx("div",{className:e==="right"?"mc-msg-time mc-msg-time-right":"mc-msg-time",children:n})}function J6(){const e=I_(t=>Array.isArray(t.content)?t.content.some(n=>{var r;return n.type==="text"?!!((r=n.text)!=null&&r.trim()):n.type==="tool-call"}):!1);return u.jsxs(Ml.Root,{children:[u.jsx(Ml.Avatar,{}),e?u.jsx(Ml.Content,{}):u.jsxs("div",{className:"mc-assistant-placeholder","aria-live":"polite",children:[u.jsx("span",{className:"mc-assistant-placeholder-dot"}),u.jsx("span",{className:"mc-assistant-placeholder-dot"}),u.jsx("span",{className:"mc-assistant-placeholder-dot"}),u.jsx("span",{className:"mc-assistant-placeholder-text",children:"Thinking"})]}),u.jsx(mc,{}),u.jsx(I0,{}),u.jsx(G1,{align:"left"})]})}function Z6(){return u.jsxs(Ol.Root,{children:[u.jsx(Ol.Attachments,{}),u.jsxs(xr,{hasContent:!0,children:[u.jsx(_k,{}),u.jsxs("div",{className:"mc-user-content-wrap",children:[u.jsx(Ol.Content,{}),u.jsx(G1,{align:"right"})]})]}),u.jsx(mc,{})]})}function e8({adapter:e,initialMessages:t,runtimeKey:n}){const r=G$(),s=eA(e,{initialMessages:t,maxSteps:100});return u.jsx(N_,{runtime:s,children:u.jsx("div",{className:"aui-root h-full min-h-0",children:u.jsx(FF,{assistantMessage:{allowCopy:!0,allowReload:!1,allowSpeak:!1,allowFeedbackNegative:!1,allowFeedbackPositive:!1,components:{Text:r,ToolFallback:Q6}},userMessage:{allowEdit:!1},composer:{allowAttachments:!1},components:{AssistantMessage:J6,UserMessage:Z6},strings:{composer:{input:{placeholder:"Message MicroClaw..."}}},assistantAvatar:{fallback:"M"}})})},n)}function t8(e){const t=[];for(const n of e.split(",")){const r=n.trim();if(!r)continue;const s=Number(r);Number.isInteger(s)&&s>0&&t.push(s)}return Array.from(new Set(t))}function qd(e){return String(e||"").trim().toLowerCase()==="shared"?"shared":"chat"}function he({label:e,description:t,children:n}){return u.jsxs(Wt,{className:"p-3",children:[u.jsx(X,{size:"2",weight:"medium",children:e}),u.jsx(X,{size:"1",color:"gray",className:"mt-1 block",children:t}),u.jsx("div",{className:"mt-2",children:n})]})}function Gd({label:e,description:t,checked:n,onCheckedChange:r,className:s,style:o}){return u.jsx("div",{className:s,style:o,children:u.jsxs(_n,{justify:"between",align:"center",children:[u.jsxs("div",{children:[u.jsx(X,{size:"2",children:e}),t?u.jsx(X,{size:"1",color:"gray",className:"mt-1 block",children:t}):null]}),u.jsx($1,{checked:n,onCheckedChange:r})]})})}function ml({title:e="Setup Steps",steps:t}){return u.jsxs(Wt,{className:"mt-3 p-3",children:[u.jsx(X,{size:"2",weight:"bold",children:e}),u.jsx("ol",{className:"mt-2 list-decimal space-y-1 pl-5 text-sm text-slate-400",children:t.map((n,r)=>u.jsx("li",{children:n},r))})]})}function n8(){var Fg,zg,Bg;const[e,t]=f.useState(W1()),[n,r]=f.useState(K1()),[s,o]=f.useState([]),[i,a]=f.useState([]),[l,c]=f.useState(()=>xs()),[d,h]=f.useState([]),[p,m]=f.useState({}),[v,y]=f.useState(0),[b,g]=f.useState(""),[x,w]=f.useState("Idle"),[C,R]=f.useState(""),[S,T]=f.useState(!1),[N,M]=f.useState(!1),[A,L]=f.useState(null),[I,V]=f.useState({}),[$,W]=f.useState(null),[H,G]=f.useState(!1),[j,B]=f.useState(""),[_,te]=f.useState(""),[ce,E]=f.useState(!1),[Te,Ke]=f.useState(!1),[ge,Q]=f.useState(""),[de,Pe]=f.useState(null),[ye,fe]=f.useState([]),[Ce,nt]=f.useState([]),[Nt,fn]=f.useState(""),[hn,An]=f.useState(""),[is,jn]=f.useState(!1),[Yo,Nc]=f.useState(!1),[Fs,Ta]=f.useState(!1),[Ra,Ic]=f.useState(!1),[O,D]=f.useState(""),[ne,ae]=f.useState(""),[Re,zt]=f.useState(()=>U6()),[Mn,Bt]=f.useState(""),[_r,nr]=f.useState(""),[ct,rr]=f.useState(""),[wt,Na]=f.useState(!1),[Y1,Ia]=f.useState(!1),[Eg,Pa]=f.useState(""),[Pc,Tg]=f.useState(!1),[Rg,Ng]=f.useState(""),[Ig,Pg]=f.useState(""),Aa=f.useMemo(()=>{const k=new Map;for(const le of[...i,...s])k.has(le.session_key)||k.set(le.session_key,le);const U=!k.has(l);if(U&&!l.startsWith("chat:")&&k.set(l,{session_key:l,label:l,chat_id:0,chat_type:"web"}),k.size===0){const le=xs();k.set(le,{session_key:le,label:le,chat_id:0,chat_type:"web"})}const Y=Array.from(k.values()),oe=U&&!l.startsWith("chat:");return Y.sort((le,Oe)=>{if(oe){if(le.session_key===l)return-1;if(Oe.session_key===l)return 1}const dt=Date.parse(le.last_message_time||""),It=Date.parse(Oe.last_message_time||""),bt=Number.isFinite(dt),He=Number.isFinite(It);if(bt&&He){if(It!==dt)return It-dt}else if(bt!==He)return bt?-1:1;return le.label.localeCompare(Oe.label)}),Y},[i,s,l]),Xo=f.useMemo(()=>Aa.find(k=>k.session_key===l),[Aa,l]),X1=(Xo==null?void 0:Xo.label)||l,Ag=!!(Xo&&Xo.chat_type!=="web");function Ac(k){return k instanceof qs&&k.status===401}function jc(k="Authentication required. Please sign in."){Ta(!1),D(k),g(k)}async function Mc(){try{const k=await pt("/api/auth/status"),U=!!k.has_password,Y=!!k.authenticated,oe=!!k.using_default_password;return Nc(U),Ta(Y),Ic(oe),jn(!0),Y&&(D(""),g("")),Y&&oe&&Ia(!0),oe||Ia(!1),k}catch(k){throw jn(!0),k}}async function jg(){g("");const k=await pt("/api/sessions"),U=Array.isArray(k.sessions)?k.sessions:[];o(U);const Y=z6(U),le=F6()||Y;c(le),fw(le),await zs(le)}async function ja(){try{const k=await pt("/api/sessions");o(Array.isArray(k.sessions)?k.sessions:[])}catch(k){if(Ac(k)){jc();return}throw k}}async function zs(k=l){try{const U=new URLSearchParams({session_key:k,limit:"200"}),Y=await pt(`/api/history?${U.toString()}`),oe=Array.isArray(Y.messages)?Y.messages:[],le=q6(oe);h(le),m(Oe=>({...Oe,[k]:oe.length})),y(Oe=>Oe+1),g("")}catch(U){if(Ac(U)){jc();return}if(U instanceof qs&&U.status===404){h([]),m(Y=>({...Y,[k]:0})),y(Y=>Y+1),g("");return}throw U}}async function Oc(k){const U=k.trim();if(!U){D("Please enter your password.");return}Na(!0),D("");try{await pt("/api/auth/login",{method:"POST",body:JSON.stringify({password:U})}),ae(""),await Mc(),await jg(),w("Authenticated")}catch(Y){if(Y instanceof qs){if(Y.status===401){D("Password is incorrect. Please try again or reset with `microclaw web-password --generate`.");return}if(Y.status===429){D("Too many login attempts. Please wait and retry.");return}}D(Y instanceof Error?Y.message:String(Y))}finally{Na(!1)}}async function Mg(){const k=Re.trim(),U=Mn.trim(),Y=_r.trim();if(!k){D("Bootstrap token is required.");return}if(U.length<8){D("Password must be at least 8 characters.");return}if(U!==Y){D("Passwords do not match.");return}Na(!0),D("");try{await pt("/api/auth/password",{method:"POST",headers:{"x-bootstrap-token":k},body:JSON.stringify({password:U})}),H6(),await Oc(U),Bt(""),nr(""),rr("")}catch(oe){if(oe instanceof qs&&oe.status===401){D("Bootstrap token is invalid or expired. Please copy the latest token from startup logs.");return}D(oe instanceof Error?oe.message:String(oe))}finally{Na(!1)}}async function Og(){const k=Rg.trim(),U=Ig.trim();if(k.length<8){Pa("Password must be at least 8 characters.");return}if(k!==U){Pa("Passwords do not match.");return}Tg(!0),Pa("");try{await pt("/api/auth/password",{method:"POST",body:JSON.stringify({password:k})}),Ng(""),Pg(""),await Mc(),Ia(!1),w("Password updated")}catch(Y){Pa(Y instanceof Error?Y.message:String(Y))}finally{Tg(!1)}}const Q1=f.useMemo(()=>({run:async function*(k){const U=K6(k.messages);if(U){T(!0),w("Sending..."),R(""),g("");try{if(Ag)throw w("Read-only channel"),new Error("This channel is read-only in Web UI. Send messages from the original channel.");const oe=(await pt("/api/send_stream",{method:"POST",body:JSON.stringify({session_key:l,sender_name:"web-user",message:U}),signal:k.abortSignal})).run_id;if(!oe)throw new Error("missing run_id");const le=new URLSearchParams({run_id:oe}),Oe=await fetch(`/api/stream?${le.toString()}`,{method:"GET",headers:q1(),credentials:"same-origin",cache:"no-store",signal:k.abortSignal});if(!Oe.ok){const He=await Oe.text().catch(()=>"");throw new qs(He||`HTTP ${Oe.status}`,Oe.status)}let dt="";const It=new Map,bt=()=>{const He=Array.from(It.entries()).map(([Ge,Z])=>({type:"tool-call",toolCallId:Ge,toolName:Z.name,args:Z.args,argsText:JSON.stringify(Z.args),...Z.result?{result:Z.result}:{},...Z.isError!==void 0?{isError:Z.isError}:{}}));return[...dt?[{type:"text",text:dt}]:[],...He]};for await(const He of W6(Oe,k.abortSignal)){const Ge=He.payload;if(He.event==="replay_meta"){if(Ge.replay_truncated===!0){const Z=typeof Ge.oldest_event_id=="number"?Ge.oldest_event_id:null,ot=Z!==null?`Stream history was truncated. Recovery resumed from event #${Z}.`:"Stream history was truncated. Recovery resumed from the earliest available event.";R(ot)}continue}if(He.event==="status"){const Z=typeof Ge.message=="string"?Ge.message:"";Z&&w(Z);continue}if(He.event==="tool_start"){const Z=Ge;if(!Z.tool_use_id||!Z.name)continue;It.set(Z.tool_use_id,{name:Z.name,args:hw(Z.input)}),w(`tool: ${Z.name}...`);const ot=bt();ot.length>0&&(yield{content:ot});continue}if(He.event==="tool_result"){const Z=Ge;if(!Z.tool_use_id||!Z.name)continue;const ot=It.get(Z.tool_use_id),On=hw({output:Z.output??"",duration_ms:Z.duration_ms??null,bytes:Z.bytes??null,status_code:Z.status_code??null,error_type:Z.error_type??null});It.set(Z.tool_use_id,{name:Z.name,args:(ot==null?void 0:ot.args)??{},result:On,isError:!!Z.is_error});const Bs=typeof Z.duration_ms=="number"?Z.duration_ms:0,St=typeof Z.bytes=="number"?Z.bytes:0;w(`tool: ${Z.name} ${Z.is_error?"error":"ok"} ${Bs}ms ${St}b`);const Ln=bt();Ln.length>0&&(yield{content:Ln});continue}if(He.event==="delta"){const Z=typeof Ge.delta=="string"?Ge.delta:"";if(!Z)continue;dt+=Z;const ot=bt();ot.length>0&&(yield{content:ot});continue}if(He.event==="error"){const Z=typeof Ge.error=="string"?Ge.error:"stream error";throw new Error(Z)}if(He.event==="done"){w("Done");break}}}catch(Y){throw Ac(Y)&&(jc("Session expired. Please sign in again."),w("Auth required")),Y}finally{T(!1),ja(),zs(l)}}}}),[l,Ag]);function J1(){if((p[l]??d.length)===0){w("Current session is empty. Reuse this session.");return}const U=xs(),Y={session_key:U,label:U,chat_id:0,chat_type:"web"};a(oe=>oe.some(le=>le.session_key===U)?oe:[Y,...oe]),c(U),m(oe=>({...oe,[U]:0})),h([]),y(oe=>oe+1),R(""),g(""),w("Idle")}function Z1(){t(k=>k==="dark"?"light":"dark")}async function eT(k){try{await pt("/api/reset",{method:"POST",body:JSON.stringify({session_key:k})}),k===l&&await zs(k),await ja(),w("Session reset")}catch(U){g(U instanceof Error?U.message:String(U))}}async function tT(k){try{k===l&&await zs(k),await ja(),w("Session refreshed")}catch(U){g(U instanceof Error?U.message:String(U))}}async function nT(k){var U;try{const Y=await pt("/api/delete_session",{method:"POST",body:JSON.stringify({session_key:k})});Y.deleted===!1&&w("No session data found to delete."),a(le=>le.filter(Oe=>Oe.session_key!==k)),m(le=>{const Oe={...le};return delete Oe[k],Oe});const oe=((U=Aa.find(le=>le.session_key!==k))==null?void 0:U.session_key)||xs();k===l&&(c(oe),await zs(oe)),await ja(),Y.deleted!==!1&&w("Session deleted")}catch(Y){g(Y instanceof Error?Y.message:String(Y))}}async function rT(){var He,Ge,Z,ot,On,Bs,St,Ln,Jo,Zo,ei,ti,$g,Ug,Hg,Vg,Wg,Kg,qg,Gg,Yg,Xg,Qg,Jg;te(""),B(""),G(!0);const[k,U]=await Promise.all([pt("/api/config"),pt("/api/config/self_check").catch(kr=>(B(kr instanceof Error?kr.message:String(kr)),null))]);L(k.config||null),W(U),G(!1);const Y=((He=k.config)==null?void 0:He.channels)||{},oe=Y.telegram||{},le=Bl(oe),Oe=Kd(oe),dt=Y.discord||{},It=Bl(dt),bt=Kd(dt);V({llm_provider:((Ge=k.config)==null?void 0:Ge.llm_provider)||"",model:((Z=k.config)==null?void 0:Z.model)||dw(String(((ot=k.config)==null?void 0:ot.llm_provider)||"anthropic")),llm_base_url:String(((On=k.config)==null?void 0:On.llm_base_url)||""),api_key:"",telegram_bot_token:"",bot_username:String(((Bs=k.config)==null?void 0:Bs.bot_username)||""),telegram_account_id:le,telegram_bot_username:String(Oe.bot_username||oe.bot_username||""),telegram_model:String(Oe.model||oe.model||""),discord_bot_token:"",discord_account_id:It,discord_bot_username:String(bt.bot_username||dt.bot_username||""),discord_model:String(bt.model||dt.model||""),discord_allowed_channels_csv:Array.isArray((St=k.config)==null?void 0:St.discord_allowed_channels)?((Ln=k.config)==null?void 0:Ln.discord_allowed_channels).join(","):Array.isArray(bt.allowed_channels)?bt.allowed_channels.join(","):"",web_bot_username:String(((Jo=Y.web)==null?void 0:Jo.bot_username)||""),working_dir_isolation:qd(((Zo=k.config)==null?void 0:Zo.working_dir_isolation)||Je.working_dir_isolation),max_tokens:Number(((ei=k.config)==null?void 0:ei.max_tokens)??8192),max_tool_iterations:Number(((ti=k.config)==null?void 0:ti.max_tool_iterations)??100),max_document_size_mb:Number((($g=k.config)==null?void 0:$g.max_document_size_mb)??Je.max_document_size_mb),memory_token_budget:Number(((Ug=k.config)==null?void 0:Ug.memory_token_budget)??Je.memory_token_budget),show_thinking:!!((Hg=k.config)!=null&&Hg.show_thinking),web_enabled:!!((Vg=k.config)!=null&&Vg.web_enabled),web_host:String(((Wg=k.config)==null?void 0:Wg.web_host)||"127.0.0.1"),web_port:Number(((Kg=k.config)==null?void 0:Kg.web_port)??10961),reflector_enabled:((qg=k.config)==null?void 0:qg.reflector_enabled)!==!1,reflector_interval_mins:Number(((Gg=k.config)==null?void 0:Gg.reflector_interval_mins)??Je.reflector_interval_mins),embedding_provider:String(((Yg=k.config)==null?void 0:Yg.embedding_provider)||""),embedding_api_key:"",embedding_base_url:String(((Xg=k.config)==null?void 0:Xg.embedding_base_url)||""),embedding_model:String(((Qg=k.config)==null?void 0:Qg.embedding_model)||""),embedding_dim:String(((Jg=k.config)==null?void 0:Jg.embedding_dim)||""),...Object.fromEntries(pl.flatMap(kr=>{const zc=Y[kr.name]||{},aT=Kd(zc),Zg=[[`${kr.name}__account_id`,Bl(zc)]];for(const Ma of kr.fields)Zg.push([`${kr.name}__${Ma.yamlKey}`,Ma.secret?"":String(aT[Ma.yamlKey]||zc[Ma.yamlKey]||"")]);return Zg}))}),M(!0)}async function Lc(k=l){Ke(!0),fn(""),Q(""),Pe(null),fe([]),nt([]),An(k);try{const U=new URLSearchParams({session_key:k}),Y=await pt(`/api/usage?${U.toString()}`);Q(String(Y.report||"").trim()),Pe(Y.memory_observability??null);const oe=new URLSearchParams({session_key:k,scope:"chat",hours:"168",limit:"1000",offset:"0"}),le=await pt(`/api/memory_observability?${oe.toString()}`);fe(Array.isArray(le.reflector_runs)?le.reflector_runs:[]),nt(Array.isArray(le.injection_logs)?le.injection_logs:[]),E(!0)}catch(U){fn(U instanceof Error?U.message:String(U)),E(!0)}finally{Ke(!1)}}function xe(k,U){V(Y=>({...Y,[k]:U}))}async function sT(){try{const k=String(I.llm_provider||"").trim().toLowerCase();if(k==="openai-codex"){const St=String(I.api_key||"").trim(),Ln=String(I.llm_base_url||"").trim();if(St||Ln){te("Save failed: openai-codex ignores api_key/llm_base_url in microclaw config. Configure ~/.codex/auth.json and ~/.codex/config.toml.");return}}const U={llm_provider:String(I.llm_provider||""),model:String(I.model||""),bot_username:String(I.bot_username||"").trim(),web_bot_username:String(I.web_bot_username||"").trim()||null,working_dir_isolation:qd(I.working_dir_isolation||Je.working_dir_isolation),max_tokens:Number(I.max_tokens||8192),max_tool_iterations:Number(I.max_tool_iterations||100),max_document_size_mb:Number(I.max_document_size_mb||Je.max_document_size_mb),memory_token_budget:Number(I.memory_token_budget||Je.memory_token_budget),show_thinking:!!I.show_thinking,web_enabled:!!I.web_enabled,web_host:String(I.web_host||"127.0.0.1"),web_port:Number(I.web_port||10961),reflector_enabled:I.reflector_enabled!==!1,reflector_interval_mins:Number(I.reflector_interval_mins||Je.reflector_interval_mins),embedding_provider:String(I.embedding_provider||"").trim()||null,embedding_base_url:String(I.embedding_base_url||"").trim()||null,embedding_model:String(I.embedding_model||"").trim()||null,embedding_dim:String(I.embedding_dim||"").trim()?Number(I.embedding_dim):null};String(I.llm_provider||"").trim().toLowerCase()==="custom"?U.llm_base_url=String(I.llm_base_url||"").trim()||null:k==="openai-codex"&&(U.llm_base_url=null);const Y=String(I.api_key||"").trim();k==="openai-codex"?U.api_key="":Y&&(U.api_key=Y);const oe=String(I.telegram_bot_token||"").trim(),le=Wd(I.telegram_account_id),Oe=String(I.telegram_bot_username||"").trim(),dt=String(I.telegram_model||"").trim(),It=String(I.discord_bot_token||"").trim(),bt=Wd(I.discord_account_id),He=t8(String(I.discord_allowed_channels_csv||"")),Ge=String(I.discord_bot_username||"").trim(),Z=String(I.discord_model||"").trim(),ot=String(I.embedding_api_key||"").trim();ot&&(U.embedding_api_key=ot);const On={};(oe||Oe||dt)&&(On.telegram={default_account:le,accounts:{[le]:{enabled:!0,...oe?{bot_token:oe}:{},...Oe?{bot_username:Oe}:{},...dt?{model:dt}:{}}}}),(It||He.length>0||Ge||Z)&&(On.discord={default_account:bt,accounts:{[bt]:{enabled:!0,...It?{bot_token:It}:{},...He.length>0?{allowed_channels:He}:{},...Ge?{bot_username:Ge}:{},...Z?{model:Z}:{}}}});for(const St of pl){const Ln=Wd(I[`${St.name}__account_id`]),Jo={};let Zo=!1;for(const ei of St.fields){const ti=String(I[`${St.name}__${ei.yamlKey}`]||"").trim();ti&&(Jo[ei.yamlKey]=ti,Zo=!0)}Zo&&(On[St.name]={default_account:Ln,accounts:{[Ln]:{enabled:!0,...Jo}}})}Object.keys(On).length>0&&(U.channel_configs=On),await pt("/api/config",{method:"PUT",body:JSON.stringify(U)}),G(!0),B("");const Bs=await pt("/api/config/self_check").catch(St=>(B(St instanceof Error?St.message:String(St)),null));W(Bs),G(!1),te("Saved. Restart microclaw to apply changes.")}catch(k){te(`Save failed: ${k instanceof Error?k.message:String(k)}`)}}f.useEffect(()=>{L6(e),document.documentElement.classList.toggle("dark",e==="dark")},[e]),f.useEffect(()=>{D6(n),document.documentElement.setAttribute("data-ui-theme",n)},[n]),f.useEffect(()=>{(async()=>{try{const k=await Mc();if(!k.has_password||!k.authenticated)return;await jg()}catch(k){g(k instanceof Error?k.message:String(k))}})()},[]),f.useEffect(()=>{Fs&&zs(l).catch(k=>g(k instanceof Error?k.message:String(k)))},[l,Fs]),f.useEffect(()=>{fw(l)},[l]);const Lg=`${l}-${v}`,oT=O6[n]??"green",Qo=String(I.llm_provider||Je.llm_provider).trim().toLowerCase(),iT=Array.from(new Set([Qo,...j6.map(k=>k.toLowerCase())].filter(Boolean))),Dg=M6[Qo]||[],as=e==="dark"?"rounded-xl border p-5":"rounded-xl border border-slate-200/80 p-5",Cr=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 68%, transparent)"}:void 0,Dc=e==="dark"?"rounded-lg border p-3":"rounded-lg border border-slate-200/80 p-3",Fc=e==="dark"?{borderColor:"color-mix(in srgb, var(--mc-border-soft) 60%, transparent)"}:void 0;return u.jsx(Rc,{appearance:e,accentColor:oT,grayColor:"slate",radius:"medium",scaling:"100%",children:u.jsxs("div",{className:e==="dark"?"h-screen w-screen bg-[var(--mc-bg-main)]":"h-screen w-screen bg-[radial-gradient(1200px_560px_at_-8%_-10%,#d1fae5_0%,transparent_58%),radial-gradient(1200px_560px_at_108%_-12%,#e0f2fe_0%,transparent_58%),#f8fafc]",children:[u.jsxs("div",{className:"grid h-full min-h-0 grid-cols-[320px_minmax(0,1fr)]",children:[u.jsx(R6,{appearance:e,onToggleAppearance:Z1,uiTheme:n,onUiThemeChange:k=>r(k),uiThemeOptions:V1,sessionItems:Aa,selectedSessionKey:l,onSessionSelect:k=>c(k),onRefreshSession:k=>void tT(k),onResetSession:k=>void eT(k),onDeleteSession:k=>void nT(k),onOpenConfig:rT,onOpenUsage:()=>Lc(l),onNewSession:J1}),u.jsxs("main",{className:e==="dark"?"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-[var(--mc-bg-panel)]":"flex h-full min-h-0 min-w-0 flex-col overflow-hidden bg-white/95",children:[u.jsx("header",{className:e==="dark"?"sticky top-0 z-10 border-b border-[color:var(--mc-border-soft)] bg-[color:var(--mc-bg-panel)]/95 px-4 py-3 backdrop-blur-sm":"sticky top-0 z-10 border-b border-slate-200 bg-white/92 px-4 py-3 backdrop-blur-sm",children:u.jsx(bg,{size:"6",children:X1})}),u.jsxs("div",{className:e==="dark"?"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,var(--mc-bg-panel),var(--mc-bg-main)_28%)]":"flex min-h-0 flex-1 flex-col bg-[linear-gradient(to_bottom,#f8fafc,white_20%)]",children:[u.jsxs("div",{className:"mx-auto w-full max-w-5xl px-3 pt-3",children:[C?u.jsx(en,{color:"orange",size:"1",variant:"soft",children:u.jsx(tn,{children:C})}):null,b?u.jsx(en,{color:"red",size:"1",variant:"soft",className:C?"mt-2":"",children:u.jsx(tn,{children:b})}):null]}),u.jsx("div",{className:"min-h-0 flex-1 px-1 pb-1",children:u.jsx(e8,{adapter:Q1,initialMessages:d,runtimeKey:Lg},Lg)})]})]})]}),u.jsx(io,{open:is&&!Yo,children:u.jsxs(ao,{maxWidth:"520px",children:[u.jsx(lo,{children:"Set Operator Password"}),u.jsx(uo,{size:"2",children:"First-time setup: set an admin password using the bootstrap token from server logs."}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"Bootstrap Token",description:u.jsxs(u.Fragment,{children:["Copy ",u.jsx("code",{children:"x-bootstrap-token"})," from MicroClaw startup logs."]}),children:u.jsx(ve,{className:"mt-2",value:Re,onChange:k=>zt(k.target.value),placeholder:"902439dd-a93b-4c66-81bb-7ffba0057936"})}),u.jsxs(he,{label:"Password",description:u.jsx(u.Fragment,{children:"At least 8 characters."}),children:[u.jsx(ve,{className:"mt-2",type:"password",value:Mn,onChange:k=>Bt(k.target.value),placeholder:"********"}),u.jsx("div",{className:"mt-2 flex items-center justify-end",children:u.jsx(nn,{size:"1",variant:"soft",onClick:()=>{const k=V6();Bt(k),nr(k),rr(k)},disabled:wt,children:"Generate Password"})})]}),u.jsx(he,{label:"Confirm Password",description:u.jsx(u.Fragment,{children:"Re-enter the same password."}),children:u.jsx(ve,{className:"mt-2",type:"password",value:_r,onChange:k=>nr(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Mg()},placeholder:"********"})})]}),O?u.jsx(en,{color:"red",size:"1",variant:"soft",className:"mt-3",children:u.jsx(tn,{children:O})}):null,ct?u.jsx(en,{color:"green",size:"1",variant:"soft",className:"mt-3",children:u.jsxs(tn,{children:["Generated password: ",u.jsx("code",{children:ct})]})}):null,u.jsx("div",{className:"mt-4 flex justify-end",children:u.jsx(nn,{onClick:()=>void Mg(),disabled:wt,children:wt?"Applying...":"Set Password"})})]})}),u.jsx(io,{open:is&&Yo&&!Fs,children:u.jsxs(ao,{maxWidth:"460px",children:[u.jsx(lo,{children:"Sign In"}),u.jsx(uo,{size:"2",children:"Enter your operator password to access sessions and history."}),Ra?u.jsx(en,{color:"orange",size:"1",variant:"soft",className:"mt-2",children:u.jsxs(tn,{children:["No custom password is set yet. Temporary default password: ",u.jsx("code",{children:"helloworld"})]})}):null,u.jsx(he,{label:"Password",description:u.jsx(u.Fragment,{children:"Use the password configured for this Web UI."}),children:u.jsx(ve,{className:"mt-2",type:"password",value:ne,onChange:k=>ae(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Oc(ne)},placeholder:"********"})}),O?u.jsx(en,{color:"red",size:"1",variant:"soft",className:"mt-3",children:u.jsx(tn,{children:O})}):null,u.jsx("div",{className:"mt-4 flex justify-end",children:u.jsx(nn,{onClick:()=>void Oc(ne),disabled:wt,children:wt?"Signing in...":"Sign In"})})]})}),u.jsx(io,{open:is&&Fs&&Ra&&Y1,children:u.jsxs(ao,{maxWidth:"520px",children:[u.jsx(lo,{children:"Change Default Password"}),u.jsxs(uo,{size:"2",children:["You are using the default password ",u.jsx("code",{children:"helloworld"}),". Set a new password now, or skip for now."]}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"New Password",description:u.jsx(u.Fragment,{children:"At least 8 characters."}),children:u.jsx(ve,{className:"mt-2",type:"password",value:Rg,onChange:k=>Ng(k.target.value),placeholder:"********"})}),u.jsx(he,{label:"Confirm Password",description:u.jsx(u.Fragment,{children:"Re-enter the new password."}),children:u.jsx(ve,{className:"mt-2",type:"password",value:Ig,onChange:k=>Pg(k.target.value),onKeyDown:k=>{k.key==="Enter"&&Og()},placeholder:"********"})})]}),Eg?u.jsx(en,{color:"red",size:"1",variant:"soft",className:"mt-3",children:u.jsx(tn,{children:Eg})}):null,u.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[u.jsx(nn,{variant:"soft",onClick:()=>Ia(!1),disabled:Pc,children:"Skip for now"}),u.jsx(nn,{onClick:()=>void Og(),disabled:Pc,children:Pc?"Updating...":"Update Password"})]})]})}),u.jsx(io,{open:N,onOpenChange:M,children:u.jsxs(ao,{maxWidth:"1120px",className:"overflow-hidden flex flex-col",style:{width:"1120px",height:"760px",maxWidth:"1120px",maxHeight:"760px"},children:[u.jsx(lo,{children:"Settings"}),u.jsx(uo,{size:"2",mb:"3",children:"Channel-first configuration. Save writes to microclaw.config.yaml. Restart is required."}),$?u.jsx(en,{color:$.risk_level==="high"?"red":$.risk_level==="medium"?"orange":"green",size:"1",variant:"soft",className:"mb-2",children:u.jsxs(tn,{children:["Config self-check: risk=",String($.risk_level||"none"),", warnings=",Number($.warning_count||0),"."," ",u.jsx("a",{href:`${jr}/configuration`,target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})}):null,$!=null&&$.security_posture?u.jsxs("details",{className:"mb-2",children:[u.jsx("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:"Security posture details"}),u.jsxs(Wt,{className:"mt-2 p-3",children:[u.jsxs(X,{size:"2",weight:"bold",children:["Security posture"," ",u.jsx("a",{href:`${jr}/permissions`,target:"_blank",rel:"noreferrer",className:"underline text-[color:var(--mc-accent)]",children:"Rules"})]}),u.jsxs(X,{size:"1",color:"gray",className:"mt-1 block",children:["sandbox=",String($.security_posture.sandbox_mode||"off")," | runtime=",String(!!$.security_posture.sandbox_runtime_available)," | backend=",String($.security_posture.sandbox_backend||"auto")]}),u.jsxs(X,{size:"1",color:"gray",className:"mt-1 block",children:["mount allowlist: ",String(((Fg=$.security_posture.mount_allowlist)==null?void 0:Fg.path)||"(default)")," | exists=",String(!!((zg=$.security_posture.mount_allowlist)!=null&&zg.exists))," | has_entries=",String(!!((Bg=$.security_posture.mount_allowlist)!=null&&Bg.has_entries))]}),u.jsx("div",{className:"mt-2 flex flex-wrap gap-2",children:($.security_posture.execution_policies||[]).map((k,U)=>u.jsxs(_g,{color:k.risk==="high"?"red":k.risk==="medium"?"orange":"gray",variant:"soft",children:[String(k.tool),": ",String(k.policy)]},`${String(k.tool)}-${U}`))})]})]}):null,H?u.jsx(X,{size:"1",color:"gray",className:"mb-2 block",children:"Checking critical config risks..."}):null,j?u.jsx(en,{color:"red",size:"1",variant:"soft",className:"mb-2",children:u.jsxs(tn,{children:["Self-check failed: ",j]})}):null,u.jsx("div",{className:"mt-2 min-h-0 flex-1",children:A?u.jsx(U1,{defaultValue:"general",orientation:"vertical",className:"h-full min-h-0",children:u.jsxs("div",{className:"grid h-full grid-cols-[240px_minmax(0,1fr)] gap-4",children:[u.jsx(Wt,{className:"h-full p-3",style:Cr,children:u.jsxs(H1,{className:"mc-settings-tabs-list flex w-full flex-col gap-1",children:[u.jsx(X,{size:"1",color:"gray",className:"px-2 pt-1 uppercase tracking-wide",children:"Runtime"}),u.jsx(hs,{value:"general",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  General"}),u.jsx(hs,{value:"model",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Model"}),u.jsx(X,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Channels"}),u.jsx(hs,{value:"telegram",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Telegram"}),u.jsx(hs,{value:"discord",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Discord"}),pl.map(k=>u.jsxs(hs,{value:k.name,className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:[k.icon,"  ",k.title]},k.name)),u.jsx(X,{size:"1",color:"gray",className:"px-2 pt-3 uppercase tracking-wide",children:"Integrations"}),u.jsx(hs,{value:"web",className:"mc-settings-tab-trigger w-full justify-start rounded-lg px-3 py-2 text-[18px] leading-6 bg-transparent data-[state=active]:bg-emerald-500/20 data-[state=active]:text-emerald-200 hover:bg-white/8",children:"  Web"})]})}),u.jsxs("div",{className:"min-w-0 overflow-y-auto pr-1",children:[u.jsx(ps,{value:"general",children:u.jsxs("div",{className:as,style:Cr,children:[u.jsx(X,{size:"3",weight:"bold",children:"General"}),u.jsx(X,{size:"1",color:"gray",className:"mt-1 block",children:"Runtime defaults used across all channels."}),u.jsx(X,{size:"1",color:"gray",className:"mt-2 block",children:"working_dir_isolation: chat = isolated workspace per chat; shared = one shared workspace."}),u.jsx(X,{size:"1",color:"gray",className:"mt-1 block",children:"max_tokens / max_tool_iterations / max_document_size_mb / memory_token_budget control response budget and tool loop safety."}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"bot_username",description:u.jsxs(u.Fragment,{children:["Global default bot username. Channel-specific ",u.jsx("code",{children:"channels.<name>.bot_username"})," overrides this."]}),children:u.jsx(ve,{className:"mt-2",value:String(I.bot_username||""),onChange:k=>xe("bot_username",k.target.value),placeholder:"bot"})}),u.jsx(he,{label:"working_dir_isolation",description:u.jsxs(u.Fragment,{children:["Use ",u.jsx("code",{children:"chat"})," for per-chat isolation, or ",u.jsx("code",{children:"shared"})," for one shared workspace."]}),children:u.jsxs("select",{className:"mt-2 w-full rounded-md border border-[color:var(--mc-border-soft)] bg-transparent px-3 py-2 text-base text-[color:inherit] outline-none focus:border-[color:var(--mc-accent)]",value:qd(I.working_dir_isolation||Je.working_dir_isolation),onChange:k=>xe("working_dir_isolation",k.target.value),children:[u.jsx("option",{value:"chat",children:"chat (per-chat isolated workspace)"}),u.jsx("option",{value:"shared",children:"shared (single shared workspace)"})]})}),u.jsx(he,{label:"max_tokens",description:u.jsx(u.Fragment,{children:"Maximum output tokens for one model response."}),children:u.jsx(ve,{className:"mt-2",value:String(I.max_tokens||Je.max_tokens),onChange:k=>xe("max_tokens",k.target.value),placeholder:"8192"})}),u.jsx(he,{label:"max_tool_iterations",description:u.jsx(u.Fragment,{children:"Upper bound for tool loop iterations in one request."}),children:u.jsx(ve,{className:"mt-2",value:String(I.max_tool_iterations||Je.max_tool_iterations),onChange:k=>xe("max_tool_iterations",k.target.value),placeholder:"100"})}),u.jsx(he,{label:"max_document_size_mb",description:u.jsx(u.Fragment,{children:"Maximum uploaded file size in MB."}),children:u.jsx(ve,{className:"mt-2",value:String(I.max_document_size_mb||Je.max_document_size_mb),onChange:k=>xe("max_document_size_mb",k.target.value),placeholder:"100"})}),u.jsx(he,{label:"memory_token_budget",description:u.jsx(u.Fragment,{children:"Estimated token budget for injecting structured memories into the system prompt."}),children:u.jsx(ve,{className:"mt-2",type:"number",value:String(I.memory_token_budget||Je.memory_token_budget),onChange:k=>xe("memory_token_budget",k.target.value),placeholder:"1500"})})]}),u.jsxs("div",{className:"mt-4 grid grid-cols-1 gap-3",children:[u.jsx(Gd,{label:"show_thinking",description:u.jsx(u.Fragment,{children:"Show intermediate reasoning text in responses."}),checked:!!I.show_thinking,onCheckedChange:k=>xe("show_thinking",k),className:Dc,style:Fc}),u.jsx(Gd,{label:"web_enabled",description:u.jsx(u.Fragment,{children:"Enable built-in Web UI and API endpoint."}),checked:!!I.web_enabled,onCheckedChange:k=>xe("web_enabled",k),className:Dc,style:Fc}),u.jsx(Gd,{label:"reflector_enabled",description:u.jsx(u.Fragment,{children:"Periodically extract structured memories from conversations in the background."}),checked:I.reflector_enabled!==!1,onCheckedChange:k=>xe("reflector_enabled",k),className:Dc,style:Fc})]}),u.jsx("div",{className:"mt-4 space-y-3",children:u.jsx(he,{label:"reflector_interval_mins",description:u.jsx(u.Fragment,{children:"How often (in minutes) the memory reflector runs. Requires restart."}),children:u.jsx(ve,{className:"mt-2",type:"number",value:String(I.reflector_interval_mins??Je.reflector_interval_mins),onChange:k=>xe("reflector_interval_mins",k.target.value),placeholder:"15"})})})]})}),u.jsxs(ps,{value:"model",children:[u.jsxs("div",{className:as,style:Cr,children:[u.jsx(X,{size:"3",weight:"bold",children:"Model"}),u.jsx(X,{size:"1",color:"gray",className:"mt-1 block",children:"LLM provider and API settings."}),u.jsx(X,{size:"1",color:"gray",className:"mt-2 block",children:"llm_provider selects routing preset; model is the exact model id sent to provider API."}),u.jsxs(X,{size:"1",color:"gray",className:"mt-1 block",children:["For custom providers set ",u.jsx("code",{children:"llm_base_url"}),". For ",u.jsx("code",{children:"openai-codex"}),", configure auth/provider in ",u.jsx("code",{children:"~/.codex/auth.json"})," and ",u.jsx("code",{children:"~/.codex/config.toml"})," (this form ignores ",u.jsx("code",{children:"api_key"}),"/",u.jsx("code",{children:"llm_base_url"}),"). ",u.jsx("code",{children:"ollama"})," can leave ",u.jsx("code",{children:"api_key"})," empty."]}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"llm_provider",description:u.jsx(u.Fragment,{children:"Select provider preset for request routing and defaults."}),children:u.jsx("div",{className:"mt-2",children:u.jsxs(L1,{value:String(I.llm_provider||Je.llm_provider),onValueChange:k=>xe("llm_provider",k),children:[u.jsx(D1,{className:"w-full mc-select-trigger-full",placeholder:"Select provider"}),u.jsx(F1,{children:iT.map(k=>u.jsx(z1,{value:k,children:k},k))})]})})}),u.jsxs(he,{label:"model",description:u.jsx(u.Fragment,{children:"Exact model id to use for requests."}),children:[u.jsx(ve,{className:"mt-2",value:String(I.model||dw(String(I.llm_provider||Je.llm_provider))),onChange:k=>xe("model",k.target.value),placeholder:"claude-sonnet-4-5-20250929"}),Dg.length>0?u.jsxs(X,{size:"1",color:"gray",className:"mt-2 block",children:["Suggested: ",Dg.join(" / ")]}):null]}),Qo==="custom"?u.jsx(he,{label:"llm_base_url",description:u.jsx(u.Fragment,{children:"Base URL for OpenAI-compatible custom provider endpoint."}),children:u.jsx(ve,{className:"mt-2",value:String(I.llm_base_url||""),onChange:k=>xe("llm_base_url",k.target.value),placeholder:"https://api.example.com/v1"})}):null,u.jsx(he,{label:"api_key",description:Qo==="openai-codex"?u.jsxs(u.Fragment,{children:["For ",u.jsx("code",{children:"openai-codex"}),", this field is ignored. Configure ",u.jsx("code",{children:"~/.codex/auth.json"})," instead."]}):u.jsx(u.Fragment,{children:"Provider API key. Leave blank to keep current secret unchanged."}),children:u.jsx(ve,{className:"mt-2",value:String(I.api_key||""),onChange:k=>xe("api_key",k.target.value),placeholder:Qo==="openai-codex"?"(ignored for openai-codex)":"sk-..."})})]})]}),u.jsxs("div",{className:`${as} mt-4`,style:Cr,children:[u.jsx(X,{size:"3",weight:"bold",children:"Embedding"}),u.jsx(X,{size:"1",color:"gray",className:"mt-1 block",children:"Optional embedding runtime settings for semantic memory (requires sqlite-vec build)."}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"embedding_provider",description:u.jsxs(u.Fragment,{children:["Optional runtime embedding provider: ",u.jsx("code",{children:"openai"})," or ",u.jsx("code",{children:"ollama"}),"."]}),children:u.jsx(ve,{className:"mt-2",value:String(I.embedding_provider||""),onChange:k=>xe("embedding_provider",k.target.value),placeholder:"openai"})}),u.jsx(he,{label:"embedding_api_key",description:u.jsx(u.Fragment,{children:"Optional embedding API key. Leave blank to keep unchanged."}),children:u.jsx(ve,{className:"mt-2",value:String(I.embedding_api_key||""),onChange:k=>xe("embedding_api_key",k.target.value),placeholder:"sk-..."})}),u.jsx(he,{label:"embedding_base_url",description:u.jsx(u.Fragment,{children:"Optional embedding base URL override."}),children:u.jsx(ve,{className:"mt-2",value:String(I.embedding_base_url||""),onChange:k=>xe("embedding_base_url",k.target.value),placeholder:"https://api.openai.com/v1"})}),u.jsx(he,{label:"embedding_model",description:u.jsx(u.Fragment,{children:"Optional embedding model id."}),children:u.jsx(ve,{className:"mt-2",value:String(I.embedding_model||""),onChange:k=>xe("embedding_model",k.target.value),placeholder:"text-embedding-3-small"})}),u.jsx(he,{label:"embedding_dim",description:u.jsx(u.Fragment,{children:"Optional embedding vector dimension."}),children:u.jsx(ve,{className:"mt-2",type:"number",value:String(I.embedding_dim||""),onChange:k=>xe("embedding_dim",k.target.value),placeholder:"1536"})})]})]})]}),u.jsx(ps,{value:"telegram",children:u.jsxs("div",{className:as,style:Cr,children:[u.jsx(X,{size:"3",weight:"bold",children:"Telegram"}),u.jsx(ml,{steps:[u.jsxs(u.Fragment,{children:["Open Telegram and chat with ",u.jsx("code",{children:"@BotFather"}),"."]}),u.jsxs(u.Fragment,{children:["Run ",u.jsx("code",{children:"/newbot"}),", set name and username (must end with ",u.jsx("code",{children:"bot"}),")."]}),u.jsx(u.Fragment,{children:"Copy the bot token and paste below."}),u.jsxs(u.Fragment,{children:["Optional: set ",u.jsx("code",{children:"telegram_bot_username"})," without ",u.jsx("code",{children:"@"})," to override global ",u.jsx("code",{children:"bot_username"}),"."]}),u.jsx(u.Fragment,{children:"In groups, mention the bot to trigger replies."})]}),u.jsx(X,{size:"1",color:"gray",className:"mt-3 block",children:"Required: bot token and username. Leave token unchanged if already configured."}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"telegram_default_account",description:u.jsxs(u.Fragment,{children:["Default account id under ",u.jsx("code",{children:"channels.telegram.accounts"}),"."]}),children:u.jsx(ve,{className:"mt-2",value:String(I.telegram_account_id||"main"),onChange:k=>xe("telegram_account_id",k.target.value),placeholder:"main"})}),u.jsx(he,{label:"telegram_bot_token",description:u.jsx(u.Fragment,{children:"BotFather token for sending and receiving Telegram messages. Leave blank to keep current secret unchanged."}),children:u.jsx(ve,{className:"mt-2",value:String(I.telegram_bot_token||""),onChange:k=>xe("telegram_bot_token",k.target.value),placeholder:"123456789:AA..."})}),u.jsx(he,{label:"telegram_bot_username",description:u.jsxs(u.Fragment,{children:["Optional Telegram-specific username override without ",u.jsx("code",{children:"@"}),", used for group mention trigger."]}),children:u.jsx(ve,{className:"mt-2",value:String(I.telegram_bot_username||""),onChange:k=>xe("telegram_bot_username",k.target.value),placeholder:"my_microclaw_bot"})}),u.jsx(he,{label:"telegram_model",description:u.jsx(u.Fragment,{children:"Optional Telegram bot model override for this account."}),children:u.jsx(ve,{className:"mt-2",value:String(I.telegram_model||""),onChange:k=>xe("telegram_model",k.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),u.jsx(ps,{value:"discord",children:u.jsxs("div",{className:as,style:Cr,children:[u.jsx(X,{size:"3",weight:"bold",children:"Discord"}),u.jsx(ml,{steps:[u.jsx(u.Fragment,{children:"Open Discord Developer Portal and create an application + bot."}),u.jsxs(u.Fragment,{children:["Enable ",u.jsx("code",{children:"Message Content Intent"})," under Bot settings."]}),u.jsx(u.Fragment,{children:"Invite bot with scopes/permissions: bot, View Channels, Send Messages, Read Message History."}),u.jsx(u.Fragment,{children:"Paste bot token below."}),u.jsx(u.Fragment,{children:"Optional: limit handling to specific channel IDs."})]}),u.jsx(X,{size:"1",color:"gray",className:"mt-3 block",children:"Required: bot token. Optional: restrict handling to listed channel IDs."}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"discord_default_account",description:u.jsxs(u.Fragment,{children:["Default account id under ",u.jsx("code",{children:"channels.discord.accounts"}),"."]}),children:u.jsx(ve,{className:"mt-2",value:String(I.discord_account_id||"main"),onChange:k=>xe("discord_account_id",k.target.value),placeholder:"main"})}),u.jsx(he,{label:"discord_bot_token",description:u.jsx(u.Fragment,{children:"Discord bot token from Developer Portal. Leave blank to keep current secret unchanged."}),children:u.jsx(ve,{className:"mt-2",value:String(I.discord_bot_token||""),onChange:k=>xe("discord_bot_token",k.target.value),placeholder:"MTAx..."})}),u.jsx(he,{label:"discord_allowed_channels",description:u.jsx(u.Fragment,{children:"Optional allowlist. Only listed channel IDs can trigger the bot."}),children:u.jsx(ve,{className:"mt-2",value:String(I.discord_allowed_channels_csv||""),onChange:k=>xe("discord_allowed_channels_csv",k.target.value),placeholder:"1234567890, 9876543210"})}),u.jsx(he,{label:"discord_bot_username",description:u.jsx(u.Fragment,{children:"Optional Discord-specific bot username override."}),children:u.jsx(ve,{className:"mt-2",value:String(I.discord_bot_username||""),onChange:k=>xe("discord_bot_username",k.target.value),placeholder:"discord_bot_name"})}),u.jsx(he,{label:"discord_model",description:u.jsx(u.Fragment,{children:"Optional Discord bot model override for this account."}),children:u.jsx(ve,{className:"mt-2",value:String(I.discord_model||""),onChange:k=>xe("discord_model",k.target.value),placeholder:"claude-sonnet-4-5-20250929"})})]})]})}),pl.map(k=>u.jsx(ps,{value:k.name,children:u.jsxs("div",{className:as,style:Cr,children:[u.jsx(X,{size:"3",weight:"bold",children:k.title}),u.jsx(ml,{steps:k.steps.map((U,Y)=>u.jsx("span",{children:U},Y))}),u.jsx(X,{size:"1",color:"gray",className:"mt-3 block",children:k.hint}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:`${k.name}_default_account`,description:u.jsxs(u.Fragment,{children:["Default account id under ",u.jsxs("code",{children:["channels.",k.name,".accounts"]}),"."]}),children:u.jsx(ve,{className:"mt-2",value:String(I[`${k.name}__account_id`]||"main"),onChange:U=>xe(`${k.name}__account_id`,U.target.value),placeholder:"main"})},`${k.name}__account_id`),k.fields.map(U=>{const Y=`${k.name}__${U.yamlKey}`;return u.jsx(he,{label:U.label,description:u.jsx(u.Fragment,{children:U.description}),children:u.jsx(ve,{className:"mt-2",value:String(I[Y]||""),onChange:oe=>xe(Y,oe.target.value),placeholder:U.placeholder})},Y)})]})]})},k.name)),u.jsx(ps,{value:"web",children:u.jsxs("div",{className:as,style:Cr,children:[u.jsx(X,{size:"3",weight:"bold",children:"Web"}),u.jsx(ml,{steps:[u.jsxs(u.Fragment,{children:["Keep ",u.jsx("code",{children:"web_enabled"})," on for local UI access."]}),u.jsxs(u.Fragment,{children:["Use ",u.jsx("code",{children:"127.0.0.1"})," for local-only host, or set LAN host explicitly."]}),u.jsxs(u.Fragment,{children:["Choose web port (default ",u.jsx("code",{children:"10961"}),")."]})]}),u.jsx(X,{size:"1",color:"gray",className:"mt-3 block",children:"For local only, keep host as 127.0.0.1. Use 0.0.0.0 only behind trusted network controls."}),u.jsxs("div",{className:"mt-4 space-y-3",children:[u.jsx(he,{label:"web_host",description:u.jsxs(u.Fragment,{children:["Use ",u.jsx("code",{children:"127.0.0.1"})," for local-only. Use ",u.jsx("code",{children:"0.0.0.0"})," only when intentionally exposing on LAN."]}),children:u.jsx(ve,{className:"mt-2",value:String(I.web_host||Je.web_host),onChange:k=>xe("web_host",k.target.value),placeholder:"127.0.0.1"})}),u.jsx(he,{label:"web_port",description:u.jsx(u.Fragment,{children:"HTTP port for Web UI and API endpoint."}),children:u.jsx(ve,{className:"mt-2",value:String(I.web_port||Je.web_port),onChange:k=>xe("web_port",k.target.value),placeholder:"10961"})}),u.jsx(he,{label:"web_bot_username",description:u.jsx(u.Fragment,{children:"Optional Web-specific bot username override."}),children:u.jsx(ve,{className:"mt-2",value:String(I.web_bot_username||""),onChange:k=>xe("web_bot_username",k.target.value),placeholder:"web_bot_name"})})]}),Array.isArray($==null?void 0:$.warnings)&&$.warnings.length>0?u.jsxs("details",{className:"mt-4",children:[u.jsxs("summary",{className:"cursor-pointer text-sm text-[color:var(--gray-11)]",children:["Critical config warnings (",$.warnings.length,")"]}),u.jsxs(Wt,{className:"mt-2 p-3",children:[u.jsx(X,{size:"2",weight:"bold",children:"Critical Config Warnings"}),u.jsx("div",{className:"mt-2 space-y-2",children:$.warnings.map((k,U)=>u.jsx(en,{color:k.severity==="high"?"red":"orange",size:"1",variant:"soft",children:u.jsxs(tn,{children:["[",String(k.severity||"unknown"),"] ",String(k.code||"warning"),": ",String(k.message||"")," ",u.jsx("a",{href:A6(k.code),target:"_blank",rel:"noreferrer",className:"underline",children:"Docs"})]})},`${k.code||"warning"}-${U}`))})]})]}):null]})})]})]})}):u.jsx(X,{size:"2",color:"gray",children:"Loading..."})}),u.jsxs("div",{className:"mt-3 flex items-center justify-between border-t border-[color:var(--mc-border-soft)] pt-3",children:[_?u.jsx(X,{size:"2",color:_.startsWith("Save failed")?"red":"green",children:_}):u.jsx("span",{}),u.jsxs(_n,{justify:"end",gap:"2",children:[u.jsx(O1,{children:u.jsx(nn,{variant:"soft",children:"Close"})}),u.jsx(nn,{onClick:()=>void sT(),children:"Save"})]})]})]})}),u.jsx(P6,{open:ce,onOpenChange:E,usageSession:hn,sessionKey:l,usageLoading:Te,usageError:Nt,usageReport:ge,usageMemory:de,reflectorRuns:ye,injectionLogs:Ce,onRefreshCurrent:()=>void Lc(l),onRefreshThis:()=>void Lc(hn||l)})]})})}TS(document.getElementById("root")).render(u.jsx(n8,{}));
